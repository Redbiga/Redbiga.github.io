<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>spring常见注解 | 山麋一笑</title><meta name="author" content="山麋一笑"><meta name="copyright" content="山麋一笑"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="@Bean注解详解： 1.常见问题思考： 问题1：为啥下面我们明明使用了@Bean  注解但是在spring容器中却找不到该catDemo啊？ 123456public class config &amp;#123;    @Bean    public  Cat catDemo()&amp;#123;        return new Cat(&quot;小猫！&quot;);    &amp;#125;&amp;#12">
<meta property="og:type" content="article">
<meta property="og:title" content="spring常见注解">
<meta property="og:url" content="http://www.bojiboqi.fun/2024/01/26/spring%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9A/index.html">
<meta property="og:site_name" content="山麋一笑">
<meta property="og:description" content="@Bean注解详解： 1.常见问题思考： 问题1：为啥下面我们明明使用了@Bean  注解但是在spring容器中却找不到该catDemo啊？ 123456public class config &amp;#123;    @Bean    public  Cat catDemo()&amp;#123;        return new Cat(&quot;小猫！&quot;);    &amp;#125;&amp;#12">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://www.bojiboqi.fun/img/favicon.png">
<meta property="article:published_time" content="2024-01-26T08:11:11.239Z">
<meta property="article:modified_time" content="2024-01-26T08:14:12.988Z">
<meta property="article:author" content="山麋一笑">
<meta property="article:tag" content="spring">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.bojiboqi.fun/img/favicon.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.bojiboqi.fun/2024/01/26/spring%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9A/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'spring常见注解',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-26 16:14:12'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const now = new Date()
          const hour = now.getHours()
          const isNight = hour <= 6 || hour >= 18
          if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
          else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href='/css/custom.css'><link rel="stylesheet" href="/css/transpancy.css"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="山麋一笑" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">61</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">36</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://www.dmoe.cc/random.php')"><nav id="nav"><span id="blog-info"><a href="/" title="山麋一笑"><span class="site-name">山麋一笑</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">spring常见注解</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-26T08:11:11.239Z" title="发表于 2024-01-26 16:11:11">2024-01-26</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-26T08:14:12.988Z" title="更新于 2024-01-26 16:14:12">2024-01-26</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/springboot2/">springboot2</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>17分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="spring常见注解"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"> <meta name="referrer" content="no-referrer">
<h1>@Bean注解详解：</h1>
<h2 id="1-常见问题思考：">1.常见问题思考：</h2>
<p>问题1：为啥下面我们明明使用了@Bean  注解但是在spring容器中却找不到该catDemo啊？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class config &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public  Cat catDemo()&#123;</span><br><span class="line">        return new Cat(&quot;小猫！&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>原因：单独一个@Bean修饰的  只是一个bean的定义，并没有注册到spring容器中！spring中要使用@Bean修饰  的bean需要将该bean注册到spring容器中！可以使用@Componet 注解  或者该注解修饰的注解将该类注册到容器中的同时连带注册@Bean 修饰的bean  .<br>
解决方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">1.在类上加入@Componet注解或者是@Componet注解修饰的注解，把该类注入到spring容器，然后由spring</span><br><span class="line">容器扫描处理@Bean注解修饰的方法！</span><br><span class="line">//@Configuration</span><br><span class="line">//    @Component</span><br><span class="line">public class config &#123;</span><br><span class="line">    @Bean</span><br><span class="line">    public  Cat catDemo()&#123;</span><br><span class="line">        return new Cat(&quot;小猫！&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">//其实上面的@Configuration注解其也是被@Componet注解修饰了的</span><br></pre></td></tr></table></figure>
<h2 id="理解：">理解：</h2>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/goodjava2007/article/details/126961787">SpringBoot - @Bean注解详解_springboot @bean注解-CSDN博客</a><br>
1.@Bean注解就是把我们将要实例化的对象转化成一个Bean，放在Spring容器中，等我们使用时，就会和@Autowired、@Resource配合到使用拿到该实例。注册BEAN的方法有@ComponentScan、@Bean、@Import、@Component、@Repository、@ Controller、@Service 、 @Configration等等。<br>
2.@Bean 注解：作用在方法上，声明当前方法的返回值是一个Bean对象；单独只有这个注解修饰的方法，只是实现了对bean的一种定义，其类没有注册到spring容器中，那么该方法返回的bean也没有注册到spring容器中！<br>
3.注解@Bean被声明在方法上，该方法都需要有一个返回类型，这个方法的返回类型就是注册到IOC容器中的类型，接口和类都是可以作为返回类型，介于面向接口原则，提倡返回类型为接口。该注解主要用在@Configuration注解的类的方法上，也可以用在@Component注解的类的方法上，添加的bean的id为方法名。<br>
4.使用要点<br>
（1）@Bean 注解：作用在方法上，方法都需要有一个返回类型；<br>
（2）@Bean 注解：用于表示当前方法返回一个 Spring 容器管理的 Bean；<br>
（3）@Bean 的默认的名字和方法名一致(一般Bean都是首字母小写，因为方法名的首字母一般都是小写的)；<br>
（4）@Bean 注解：一般和 @Component 或者 @Configuration 一起使用；<br>
（5）@Bean 注解：默认作用域为单例作用域，可通过 @Scope(“prototype”) 设置为原型作用域；<br>
（6）@Bean 注解：可以接受一个 String 数组来设置多个别名；<br>
（7）@Configration 注解类中可以声明多个 @Bean 的方法，并且声明的 Bean 与 Bean 之间是可以有依赖关系的；<br>
5.组合使用<br>
@Bean 注解常常与 @Scope、@Lazy，@DependsOn 和 @link Primary 注解一起使用：<br>
（1）@Profile 注解：为不同环境下不同的配置提供了支持，如开发和生产环境的数配置是不同的；<br>
（2）@Scope 注解：将 Bean 的作用域从单例改变为指定的作用域；<br>
（3）@Lazy 注解：只有在默认单例作用域的情况下才有实际效果；<br>
（4）@DependsOn 注解：表示在当前 Bean 创建之前需要先创建特定的其他 Bean的场景时，添加该注解。</p>
<h2 id="测试：">测试：</h2>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyHello</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;初始化...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;销毁...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;获取信息...&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">config</span> &#123;</span><br><span class="line"><span class="comment">// 下面的bean注解声明了改bean的初始化方法和销毁方法！</span></span><br><span class="line">    <span class="meta">@Bean(initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> MyHello <span class="title function_">hi</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyHello</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line"><span class="comment">// 下面使用的是构造器注入bean依赖方法！当类中只有一个构造器方法时，可以省略@Autowied注解</span></span><br><span class="line">    <span class="keyword">private</span> MyHello hello;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/test&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        hello.get();</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;OK&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>@Configuration：</h1>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7133149726592991263">【Spring注解必知必会】深度解析@Configuration注解 - 掘金</a><br>
注解源码：<br>
一般修饰在类上！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Configuration &#123;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="meta">@AliasFor(annotation = Component.class)</span></span><br><span class="line">	String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="type">boolean</span> <span class="title function_">proxyBeanMethods</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>属性说明：</strong></p>
<ul>
<li>value: 自定义当前组件或者说bean的名称，实际就是@Component的value属性。</li>
<li>proxyBeanMethods： 判断是否bean的方法应该被代理，默认是true，后面原理解析中重点分析。</li>
</ul>
<p><strong>元注解说明：</strong></p>
<ul>
<li>该注解只能使用在类，接口、枚举、其他注解上</li>
<li>该注解的生命周期是运行时JVM</li>
<li>@Component元注解，相当于拥有了@Component注解的能力，可以被ComponentScan扫描到，变成spring中的Bean。</li>
</ul>
<h3 id="proxyBeanMethods-属性：">proxyBeanMethods()属性：</h3>
<p>1.proxyBeanMethods属性默认为true，当其值为false时，将不会进行代理处理，并且每次调用@Bean注解标注的方法时都会创建一个新的Bean实例。</p>
<h1>@Component注解：</h1>
<p>说明：<br>
用来标记的类是一个“组件”或者说是一个Bean，Spring会自动扫描标记；注解的类作为一个Spring Bean对象。；该注解只能使用在类，接口，枚举，和其他注解上！<br>
注解源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Indexed</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Component &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>属性说明：<br>
value:自定义当前组件或者说bean的名称！如果不配置，默认为组件的首字母小写的类名！</p>
<h1>@Scope：</h1>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7128685478164824095">【Spring注解必知必会】全面了解@Scope - 掘金</a><br>
源码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE, ElementType.METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Scope &#123;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	<span class="meta">@AliasFor(&quot;scopeName&quot;)</span></span><br><span class="line">	String <span class="title function_">value</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="meta">@AliasFor(&quot;value&quot;)</span></span><br><span class="line">	String <span class="title function_">scopeName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">	ScopedProxyMode <span class="title function_">proxyMode</span><span class="params">()</span> <span class="keyword">default</span> ScopedProxyMode.DEFAULT;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注解有3个属性，value和scopeName一样，用来表示注解的作用于范围。proxyMode用来为spring bean设置代理。<br>
<strong>作用域（value或者scopeName）属性范围</strong></p>
<ul>
<li>singleton: 默认值，单例模式，在整个Spring IoC容器中，使用singleton定义的Bean将只有一个实例。</li>
<li>prototype: 原型模式，每次通过容器的getBean方法获取prototype定义的Bean时，都将产生一个新的Bean实例。</li>
<li>request: 对于每次HTTP请求，使用request定义的Bean都将产生一个新实例，即每次HTTP请求将会产生不同的Bean实例。只有在Web应用中使用Spring时，该作用域才有效。</li>
<li>session: 对于每次HTTP Session，使用session定义的Bean都将产生一个新实例。同样只有在Web应用中使用Spring时，该作用域才有效。</li>
</ul>
<p>默认的作用域范围为singleton。<br>
<strong>proxyMethod属性：</strong></p>
<ul>
<li>DEFAULT：proxyMode的默认值，一般情况下等同于NO，即不需要动态代理。</li>
<li>NO：不需要动态代理，即返回的是Bean的实例对象。</li>
<li>INTERFACES：代理的对象是一个接口，即@Scope的作用对象是接口，这种情况是基于jdk实现的动态代理。</li>
<li>TARGET_CLASS：代理的对象是一个类，即@Scope的作用对象是一个类，上面例子中的ClassB就可以用这种代理，是以生成目标类扩展的方式创建代理，基于CGLib实现动态代理。</li>
</ul>
<p>后面通过实例来讲解下我们为什么要有这个属性。</p>
<h2 id="使用注解：">使用注解：</h2>
<p>前面讲了该注解作用在类上或者方法上，但是其实它前提必须是一个Bean,所以存在下面两种情况：<br>
<strong>作用在类上</strong><br>
搭配@Component、@Service注解</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope(ConfigurableBeanFactory.SCOPE_SINGLETON)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;实例化学生对象~~~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>作用在方法上</strong><br>
搭配@Bean注解使用</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ScopeConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">getStudent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>通常我们不配置Scope情况下的Bean的作用域都是单例模式singleton，不进行任何代理。</p>
<h2 id="实例演示：">实例演示：</h2>
<p>我们前面讲解了通过Bean如何控制我们Bean的作用域范围，那我们通过例子演示验证下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrototypeBean</span> &#123;</span><br><span class="line"></span><br><span class="line">    PrototypeBean() &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;实例化 PrototypeBean&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;初始化 PrototypeBean&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;销毁 PrototypeBean&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean(initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)</span></span><br><span class="line"><span class="meta">@Scope(ConfigurableBeanFactory.SCOPE_PROTOTYPE)</span></span><br><span class="line"><span class="keyword">public</span> PrototypeBean <span class="title function_">prototypeBean</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PrototypeBean</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>验证代码：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">PrototypeBean</span> <span class="variable">prototypeBean1</span> <span class="operator">=</span> context.getBean(PrototypeBean.class);</span><br><span class="line">System.out.println(prototypeBean1);</span><br><span class="line"><span class="type">PrototypeBean</span> <span class="variable">prototypeBean2</span> <span class="operator">=</span> context.getBean(PrototypeBean.class);</span><br><span class="line">System.out.println(prototypeBean2);</span><br><span class="line">System.out.println(prototypeBean1 == prototypeBean2);</span><br><span class="line">context.close();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>执行结果：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">实例化 PrototypeBean</span><br><span class="line">初始化 PrototypeBean</span><br><span class="line">com.alvinlkk.scope.PrototypeBean@26a94fa5</span><br><span class="line">实例化 PrototypeBean</span><br><span class="line">初始化 PrototypeBean</span><br><span class="line">com.alvinlkk.scope.PrototypeBean@464a4442</span><br><span class="line"><span class="literal">false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><strong>小结：</strong></p>
<ol>
<li>prototype多例模式，每次在调用getBean() 获取实例时，都会重新实例化，初始化。</li>
<li>prototype多例模式，它的Bean实例对象则不受IOC容器的管理，最终由GC来销毁。</li>
<li>ingleton单实例模式下，多次getBean()取到的对象是一样的。</li>
<li>针对单实例bean的话，容器启动的时候，bean的对象就创建了，而且容器销毁的时候，也会调用Bean的销毁方法。</li>
</ol>
<h1>@ConfigurationProperties：</h1>
<p><strong>@ConfigurationProperties注解的作用是什么？</strong><br>
将标注了@ConfigurationProperties注解的Spring容器中的Bean与配置文件中的属性进行一一绑定，用于更加快速、方便的读取配置文件的内容。<br>
也就是：先将属性对象注册到Spring容器中，再进行属性的绑定。（正是因为该特性，即使在方法走set了某些属性，其也会被配置文件中的属性覆盖）<br>
<strong>@ConfigurationProperties注解可以搭配使用的注解有哪些？</strong><br>
只要能够将属性对象注册到Spring容器中的注解都可以搭配使用。<br>
@RestController、@Service、@Repository、@Component、@Configuration、@Bean都可以和@ConfigurationProperties注解搭配使用。<br>
<strong>@ConfigurationProperties注解如何使用？：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>需要将配置对象类注入到Spring容器中，一般使用<span class="meta">@Component(组件类)</span>进行注入，当然<span class="meta">@RestController</span>、<span class="meta">@Service</span>、<span class="meta">@Repository</span>都属于<span class="meta">@Component</span>，因为他们有更准确的意义，所以一般使用<span class="meta">@Component</span>；或者不使用组件类，而是在启动类上使用<span class="meta">@EnableConfigurationProperties(DroolsProperties.class)</span>，将配置对象类注入到Spring容器中；或者在定义Bean的时候将配置信息和配置对象的属性进行一一绑定。</span><br><span class="line"><span class="number">2.</span>需要指定前缀，用于表示该前缀下面的配置信息需要和配置对象的属性进行一一绑定；</span><br><span class="line"><span class="number">3.</span>只能加载全局配置文件(application.yml/.properties，application-XXX.yml/.properties)；</span><br><span class="line"><span class="number">4.</span>支持 数据校验，如：不能为空，长度，正则等校验；</span><br><span class="line"><span class="number">5.</span>支持复杂的数据类型，如：list、map；</span><br></pre></td></tr></table></figure>
<p>①. 使用@Component + @ConfigurationProperties(prefix = “spring.drools”)，这两个注解都标注在配置对象上。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">DroolsProperties.java如下：</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;spring.drools&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DroolsProperties</span> &#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>②. @EnableConfigurationProperties(DroolsProperties.class) + @ConfigurationProperties(prefix = “spring.drools”) ，注意：配置对象上的注解只有@ConfigurationProperties，@EnableConfigurationProperties标注在启动类上。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;spring.drools&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DroolsProperties</span> &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">MySpringApplication.java如下：</span><br><span class="line"></span><br><span class="line"><span class="meta">@EnableCustomSwagger2</span></span><br><span class="line"><span class="meta">@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(DroolsProperties.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySpringApplication</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(MySpringApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>③. @Bean + @ConfigurationProperties(prefix = “spring.drools”)，配置类上没有注解，在定义Bean时将将配置信息和配置对象的属性进行一一绑定。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DroolsProperties</span> &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableCustomSwagger2</span></span><br><span class="line"><span class="meta">@SpringBootApplication(exclude = &#123;DataSourceAutoConfiguration.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySpringApplication</span>&#123;</span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConfigurationProperties(prefix = &quot;person&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DroolsProperties <span class="title function_">droolsProperties</span> <span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DroolsProperties</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DroolsProperties</span>();</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        SpringApplication.run(MySpringApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1>@EnableConfigurationProperties：</h1>
<p>@EnableConfigurationProperties注解的作用是什么？<br>
将标注了@ConfigurationProperties注解的类注入到Spring容器中。该注解是用来开启对@ConfigurationProperties注解的支持。也就是@EnableConfigurationProperties注解告诉Spring容器能支持@ConfigurationProperties注解。</p>
<h4 id="EnableConfigurationProperties注解如何使用？">@EnableConfigurationProperties注解如何使用？</h4>
<p>一般情况下会定义两个文件，一个用于绑定application.xml中的配置信息，一个用于定义配置类。一般情况下@EnableConfigurationProperties搭配@Configuration和@SpringBootApplication使用！<br>
①. 定义一个属性类用于绑定配置信息：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;spring.drools&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DroolsProperties</span> &#123;</span><br><span class="line">    <span class="comment">// 规则文件和决策表的路径(多个目录使用逗号分割)</span></span><br><span class="line">    <span class="keyword">private</span> String path;</span><br><span class="line">    <span class="comment">// 更新缓存的轮询周期 - 单位：秒(默认30秒)</span></span><br><span class="line">    <span class="keyword">private</span> Long update;</span><br><span class="line">    <span class="comment">// 模式: stream 或 cloud(默认stream模式)</span></span><br><span class="line">    <span class="keyword">private</span> String mode;</span><br><span class="line">    <span class="comment">// 是否开启监听器：true = 开, false = 关闭(默认开启)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> listener;</span><br><span class="line">    <span class="comment">// 是否自动更新：true = 开, false = 关闭(默认开启)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> autoUpdate;</span><br><span class="line">    <span class="comment">// 是否开启DRL的语法检查: true = 开, false = 关闭(默认开启)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> verify;</span><br><span class="line">    <span class="comment">// 是否开启REDIS的缓存: true = 开, false = 关闭(默认开启)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> useRedis;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>②. 定义一个配置类用于开启文件属性的绑定功能：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 配置类</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="comment">// 开启属性文件绑定功能</span></span><br><span class="line"><span class="meta">@EnableConfigurationProperties(DroolsProperties.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DroolsConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@ConditionalOnMissingBean(name = &quot;kieTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> KieTemplate <span class="title function_">kieTemplate</span><span class="params">(DroolsProperties droolsProperties)</span> &#123;</span><br><span class="line">        <span class="type">KieTemplate</span> <span class="variable">kieTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">KieTemplate</span>();</span><br><span class="line">        kieTemplate.setPath(droolsProperties.getPath());</span><br><span class="line">        kieTemplate.setMode(droolsProperties.getMode());</span><br><span class="line">        <span class="keyword">if</span> (droolsProperties.isAutoUpdate()) &#123;</span><br><span class="line">            <span class="comment">// 启用自动更新</span></span><br><span class="line">            kieTemplate.setUpdate(droolsProperties.getUpdate());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 关闭自动更新</span></span><br><span class="line">            kieTemplate.setUpdate(<span class="number">999999L</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        kieTemplate.setListener(droolsProperties.isListener());</span><br><span class="line">        kieTemplate.setVerify(droolsProperties.isVerify());</span><br><span class="line">        kieTemplate.setUseRedis(droolsProperties.isUseRedis());</span><br><span class="line">        <span class="keyword">return</span> kieTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1>@Import  注解：</h1>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904035212853255">spring注解之@Import注解的三种使用方式 - 掘金</a></p>
<h2 id="Import注解须知：">@Import注解须知：</h2>
<p>1、@Import只能用在类上 ，@Import通过快速导入的方式实现把实例加入spring的IOC容器中<br>
 2、加入IOC容器的方式有很多种，@Import注解就相对很牛皮了，@Import注解可以用于导入第三方包 ，当然@Bean注解也可以，但是@Import注解快速导入的方式更加便捷<br>
3、@Import注解有三种用法<br>
该注解主要是将第三方包注入IOC容器中！@Import  注入的容器明明都有相关注解了为什么还需要额外的@Import  的注解了？<br>
那是因为spring启动类能扫描到的注范围有限！使用该注解可以让spring启动类扫描到第三方包里面的相关注解！</p>
<h2 id="简单示例分析：">简单示例分析：</h2>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2024/png/28066124/1706236949138-31227e0f-85e0-4ad7-adf3-aa268aa0bd25.png#averageHue=%2338412f&amp;clientId=u6dce0a89-1589-4&amp;from=paste&amp;height=542&amp;id=ue181bef1&amp;originHeight=678&amp;originWidth=1513&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=280744&amp;status=done&amp;style=none&amp;taskId=uac5270f1-4578-4320-ac05-3f57b81380c&amp;title=&amp;width=1210.4" alt="image.png"><br>
<img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2024/png/28066124/1706236967445-7bac6f8f-73fa-482e-bc87-16c1d9e60933.png#averageHue=%2327282b&amp;clientId=u6dce0a89-1589-4&amp;from=paste&amp;height=82&amp;id=u738d1ee4&amp;originHeight=102&amp;originWidth=743&amp;originalType=binary&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=29588&amp;status=done&amp;style=none&amp;taskId=uea926173-eff2-4e85-92a1-923cabd8a43&amp;title=&amp;width=594.4" alt="image.png"></p>
<h2 id="Import的三种用法">@Import的三种用法:</h2>
<p>1、直接填class数组方式 2、ImportSelector方式【重点】 3、ImportBeanDefinitionRegistrar方式</p>
<h4 id="第一种用法：直接填class数组">第一种用法：直接填class数组:</h4>
<p><strong>直接填对应的class数组，class数组可以有0到多个。</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(&#123; 类名.class , 类名.class... &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>对应的import的bean都将加入到spring容器中，这些在容器中bean名称是该类的<strong>全类名</strong></p>
<h4 id="第二种用法：ImportSelector方式">第二种用法：ImportSelector方式</h4>
<p>这种方式的前提就是一个类要实现ImportSelector接口，假如我要用这种方法，目标对象是Myclass这个类，分析具体如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Myclass</span> <span class="keyword">implements</span> <span class="title class_">ImportSelector</span> &#123;</span><br><span class="line"><span class="comment">//既然是接口肯定要实现这个接口的方法</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectImports(AnnotationMetadata annotationMetadata) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>分析实现接口的selectImports方法中的：</p>
<ul>
<li>1、返回值： 就是我们实际上要导入到容器中的组件全类名【<strong>重点</strong> 】</li>
<li>2、参数： AnnotationMetadata表示当前被@Import注解给标注的所有注解信息【不是重点】</li>
</ul>
<p>需要注意的是selectImports方法可以返回空数组但是不能返回null，否则会报空指针异常！</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Myclass</span> <span class="keyword">implements</span> <span class="title class_">ImportSelector</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectImports(AnnotationMetadata annotationMetadata) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;com.yc.Test.TestDemo3&quot;</span>&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(&#123;TestDemo2.class,Myclass.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDemo</span> &#123;</span><br><span class="line">        <span class="meta">@Bean</span></span><br><span class="line">        <span class="keyword">public</span> AccountDao2 <span class="title function_">accountDao2</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AccountDao2</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 打印容器中的组件测试</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTestDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        AnnotationConfigApplicationContext applicationContext=<span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(TestDemo.class);  <span class="comment">//这里的参数代表要做操作的类</span></span><br><span class="line"></span><br><span class="line">        String[] beanDefinitionNames = applicationContext.getBeanDefinitionNames();</span><br><span class="line">        <span class="keyword">for</span> (String name : beanDefinitionNames)&#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2024/png/28066124/1706237214771-919eec07-d755-4b67-ae79-23178c870d1e.png#averageHue=%23f9f7f6&amp;clientId=u6dce0a89-1589-4&amp;from=paste&amp;id=u6f855391&amp;originHeight=515&amp;originWidth=1904&amp;originalType=url&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=103279&amp;status=done&amp;style=none&amp;taskId=uf3323c8a-7efb-418d-b74d-a40b172bb25&amp;title=" alt="image.png"></p>
<h4 id="第三种用法：ImportBeanDefinitionRegistrar方式">第三种用法：ImportBeanDefinitionRegistrar方式:</h4>
<p>这种用法比较自定义化注册:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Myclass2</span> <span class="keyword">implements</span> <span class="title class_">ImportBeanDefinitionRegistrar</span> &#123;</span><br><span class="line"><span class="comment">//该实现方法默认为空</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerBeanDefinitions</span><span class="params">(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry)</span> &#123;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>参数分析：</p>
<ul>
<li>第一个参数：annotationMetadata 和之前的ImportSelector参数一样都是表示当前被@Import注解给标注的所有注解信息</li>
<li>第二个参数表示用于注册定义一个bean</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Myclass2</span> <span class="keyword">implements</span> <span class="title class_">ImportBeanDefinitionRegistrar</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">registerBeanDefinitions</span><span class="params">(AnnotationMetadata annotationMetadata, BeanDefinitionRegistry beanDefinitionRegistry)</span> &#123;</span><br><span class="line">        <span class="comment">//指定bean定义信息（包括bean的类型、作用域...）</span></span><br><span class="line">        <span class="type">RootBeanDefinition</span> <span class="variable">rootBeanDefinition</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RootBeanDefinition</span>(TestDemo4.class);</span><br><span class="line">        <span class="comment">//注册一个bean指定bean名字（id）</span></span><br><span class="line">        beanDefinitionRegistry.registerBeanDefinition(<span class="string">&quot;TestDemo4444&quot;</span>,rootBeanDefinition);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Import(&#123;TestDemo2.class,Myclass.class,Myclass2.class&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestDemo</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Bean</span></span><br><span class="line">        <span class="keyword">public</span> AccountDao2 <span class="title function_">accountDao222</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">AccountDao2</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="https://cdn.nlark.com/yuque/0/2024/png/28066124/1706237309967-823a14e5-2d45-4a84-93f5-9a477217ea5b.png#averageHue=%23f7f7f6&amp;clientId=u6dce0a89-1589-4&amp;from=paste&amp;id=u3b5511cc&amp;originHeight=394&amp;originWidth=1919&amp;originalType=url&amp;ratio=1.25&amp;rotation=0&amp;showTitle=false&amp;size=70817&amp;status=done&amp;style=none&amp;taskId=u95fbcefc-dc8c-4b6e-940c-20bcc2b9ca5&amp;title=" alt="image.png"></p>
<h1>@ConditionalOnMissingBean：</h1>
<p>对比说明：<br>
@ConditionalOnBean有则注入；@ConditionalOnMissBean没有则注入；@Conditional条件满足则注入。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConditionalOnMissingBean</span>注解只作用在<span class="meta">@Bean</span>定义的方法上</span><br><span class="line">建议仅仅在自动配置类中使用此注解，虽然放在其他类中也不会报错</span><br><span class="line">该注解仅能匹配已经被当前应用上下文管控的Bean定义</span><br><span class="line">若候选Bean是被其他配置类创建的，需要使用<span class="meta">@AutoConfigureBefore</span> 或<span class="meta">@AutoConfigureOrder</span></span><br><span class="line">进行配置类先后注入顺序的控制，确保这个条件在其后运行</span><br><span class="line">Condition相关的处理是在包扫描的时候执行的，因此Bean的添加顺序和包扫描的顺序有关，</span><br><span class="line">而包扫描的顺序依赖包名和类名的字符排序，同时和maven的pom文件中包引入的顺序也有关系，</span><br><span class="line">先引入的包先被扫描到，所以在实际的项目中，我们可以修改类路径或者调整包引入顺序来调整Bean</span><br><span class="line">的添加顺序</span><br></pre></td></tr></table></figure>
<h1>@Autowired：</h1>
<p>@Autowired是一种注解，可以对构造器、方法、参数、字段和注解进行标注，源码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;ElementType.CONSTRUCTOR, ElementType.METHOD, ElementType.PARAMETER, ElementType.FIELD, ElementType.ANNOTATION_TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Autowired &#123;</span><br><span class="line">	<span class="comment">// @Autowired 只有一个required元素，默认是true</span></span><br><span class="line">	<span class="comment">// require=ture 时，表示解析被标记的属性/方法，在容器中一定有对应的bean存在，否则报错。</span></span><br><span class="line">	<span class="comment">// require=false时，表示解析被标记的属性/方法，在容器中没有找到对应的bean依然不会报错。</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">required</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>(1). @Autowired一般用在Controller层中用来装配Service对象，当同一个Service接口对象有多个实现时，需要使用@Qualifier来制定具体的装载依赖，否则会报错，除非用@Autowired标注的属性/方法的类型是Map或者List：No qualifying bean of type ‘com.hadoopx.file.service.ISysFileService’ available: expected single matching bean but found 2: LocalSysFileServiceImpl,FastDfsSysFileServiceImpl，当然这个问题也可以使用@Primary来解决。<br>
NoUniqueBeanDefinitionException，说明有多个满足条件的bean进行自动装配，程序无法正确做出判断使用哪一个，通过将@Qualifier注解与我们想要使用的特定Spring bean的名称一起进行装配，Spring框架就能从多个相同类型并满足装配要求的bean中找到我们想要的<br>
(2). @Autowired根据类型进行自动装配，如果需要按名称进行装配，则需要配合@Qualifier使用。<br>
(3). @Autowired在装配依赖对象时，默认要求依赖对象必须存在，如果允许为NULL，需要设置required属性为false。<br>
(4). 被@Autowired标注的属性/方法所在的类，需要是Spring容器中的bean。<br>
(5). 被@Autowired标注的属性/方法的类型是Map且Key为String类型，Spring则会把所有符合该类型的bean装载到Map中，key是bean名称，value则为该bean的实例。在简单工程模式中，可以使用该特性替换传统的将服务实现存入Map的方式。<br>
(6). 被@Autowired标注的属性/方法的类型是List，Spring则会把所有符合该类型的bean装载到List集合中。<br>
(7). @Autowired与@Resource都可以用来装配bean，都可以写在字段上。@Autowired默认按类型装配，@Resource（这个注解属于J2EE的），默认安照名称进行装配，名称可以通过name属性进行指定。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://www.bojiboqi.fun">山麋一笑</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://www.bojiboqi.fun/2024/01/26/spring%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9A/">http://www.bojiboqi.fun/2024/01/26/spring%E7%9B%B8%E5%85%B3%E6%B3%A8%E8%A7%A3%E7%9A%84%E7%90%86%E8%A7%A3%EF%BC%9A/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.bojiboqi.fun" target="_blank">山麋一笑</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/spring/">spring</a></div><div class="post_share"><div class="social-share" data-image="/img/favicon.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/01/26/springboot2%E6%9D%82%E9%A1%B9%EF%BC%9A/" title="spring杂项"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">spring杂项</div></div></a></div><div class="next-post pull-right"><a href="/2024/01/25/SpringBoot%E9%9B%86%E6%88%90%E8%BF%9E%E6%8E%A5%E6%B1%A0%EF%BC%9A/" title="springboot集成连接池"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">springboot集成连接池</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2024/01/25/SpringBoot%E9%9B%86%E6%88%90%E8%BF%9E%E6%8E%A5%E6%B1%A0%EF%BC%9A/" title="springboot集成连接池"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-25</div><div class="title">springboot集成连接池</div></div></a></div><div><a href="/2024/01/16/mybits/" title="mybatis总结"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-16</div><div class="title">mybatis总结</div></div></a></div><div><a href="/2024/01/23/mybatis-plus/" title="mybatisPlus"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-23</div><div class="title">mybatisPlus</div></div></a></div><div><a href="/2024/01/25/mybatisPlus%E5%A4%9A%E7%A7%9F%E6%88%B7%EF%BC%9A/" title="mybatisPlus多租户"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-25</div><div class="title">mybatisPlus多租户</div></div></a></div><div><a href="/2024/01/26/springboot2%E6%9D%82%E9%A1%B9%EF%BC%9A/" title="spring杂项"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-26</div><div class="title">spring杂项</div></div></a></div><div><a href="/2024/01/23/springboot3%E7%BB%93%E5%90%88swagger3%E5%B9%B6%E5%AF%BC%E5%85%A5%E5%88%B0APIfox_/" title="spirngboot3整合swagger3"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-23</div><div class="title">spirngboot3整合swagger3</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content is-expand"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">@Bean注解详解：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E6%80%9D%E8%80%83%EF%BC%9A"><span class="toc-number">1.1.</span> <span class="toc-text">1.常见问题思考：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%EF%BC%9A"><span class="toc-number">1.2.</span> <span class="toc-text">理解：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%EF%BC%9A"><span class="toc-number">1.3.</span> <span class="toc-text">测试：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">2.</span> <span class="toc-text">@Configuration：</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#proxyBeanMethods-%E5%B1%9E%E6%80%A7%EF%BC%9A"><span class="toc-number">2.0.1.</span> <span class="toc-text">proxyBeanMethods()属性：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">3.</span> <span class="toc-text">@Component注解：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">4.</span> <span class="toc-text">@Scope：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%B3%A8%E8%A7%A3%EF%BC%9A"><span class="toc-number">4.1.</span> <span class="toc-text">使用注解：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B%E6%BC%94%E7%A4%BA%EF%BC%9A"><span class="toc-number">4.2.</span> <span class="toc-text">实例演示：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">5.</span> <span class="toc-text">@ConfigurationProperties：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">6.</span> <span class="toc-text">@EnableConfigurationProperties：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#EnableConfigurationProperties%E6%B3%A8%E8%A7%A3%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%EF%BC%9F"><span class="toc-number">6.0.0.1.</span> <span class="toc-text">@EnableConfigurationProperties注解如何使用？</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">7.</span> <span class="toc-text">@Import  注解：</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Import%E6%B3%A8%E8%A7%A3%E9%A1%BB%E7%9F%A5%EF%BC%9A"><span class="toc-number">7.1.</span> <span class="toc-text">@Import注解须知：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%A4%BA%E4%BE%8B%E5%88%86%E6%9E%90%EF%BC%9A"><span class="toc-number">7.2.</span> <span class="toc-text">简单示例分析：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Import%E7%9A%84%E4%B8%89%E7%A7%8D%E7%94%A8%E6%B3%95"><span class="toc-number">7.3.</span> <span class="toc-text">@Import的三种用法:</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%A7%8D%E7%94%A8%E6%B3%95%EF%BC%9A%E7%9B%B4%E6%8E%A5%E5%A1%ABclass%E6%95%B0%E7%BB%84"><span class="toc-number">7.3.0.1.</span> <span class="toc-text">第一种用法：直接填class数组:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%A7%8D%E7%94%A8%E6%B3%95%EF%BC%9AImportSelector%E6%96%B9%E5%BC%8F"><span class="toc-number">7.3.0.2.</span> <span class="toc-text">第二种用法：ImportSelector方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%A7%8D%E7%94%A8%E6%B3%95%EF%BC%9AImportBeanDefinitionRegistrar%E6%96%B9%E5%BC%8F"><span class="toc-number">7.3.0.3.</span> <span class="toc-text">第三种用法：ImportBeanDefinitionRegistrar方式:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">8.</span> <span class="toc-text">@ConditionalOnMissingBean：</span></a></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">9.</span> <span class="toc-text">@Autowired：</span></a></li></ol></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 山麋一笑</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@5.2.0/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const initValine = () => {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'NkSNF5NG3Uup8tDgwIfBlJ9d-gzGzoHsz',
      appKey: 'Y2GZN9C0SLdOpVG4hMb1TEJM',
      avatar: 'monsterid',
      serverURLs: 'https://nksnf5ng.lc-cn-n1-shared.com',
      emojiMaps: "",
      path: window.location.pathname,
      visitor: true
    }, null))
  }

  const loadValine = async () => {
    if (typeof Valine === 'function') initValine()
    else {
      await getScript('https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/valine/1.4.16/Valine.min.js')
      initValine()
    }
  }

  if ('Valine' === 'Valine' || !true) {
    if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
    else setTimeout(loadValine, 0)
  } else {
    window.loadOtherComment = loadValine
  }
})()</script></div><script async src="/js/leaf.js"></script><script async src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div></body></html>