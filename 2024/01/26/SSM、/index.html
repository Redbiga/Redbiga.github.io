

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
   <meta name="referrer" content="no-referrer">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/avatar1.png">
  <link rel="icon" href="/img/avatar1.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="山麋一笑">
  <meta name="keywords" content="">
  
    <meta name="description" content="Mybits:mybits核心配置文件：用于配置 MyBatis 的各种参数和属性，以及引入映射文件（Mapper）。  &lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt; &lt;!--&lt;!DOCTYPE&gt; 标签：声明了XML文档类型的声明，指定了使用的DTD(文档类型定义）文件的路径和版本。-">
<meta property="og:type" content="article">
<meta property="og:title" content="SSM学习总结">
<meta property="og:url" content="http://www.bojiboqi.fun/2024/01/26/SSM%E3%80%81/index.html">
<meta property="og:site_name" content="山麋一笑">
<meta property="og:description" content="Mybits:mybits核心配置文件：用于配置 MyBatis 的各种参数和属性，以及引入映射文件（Mapper）。  &lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot; ?&gt; &lt;!--&lt;!DOCTYPE&gt; 标签：声明了XML文档类型的声明，指定了使用的DTD(文档类型定义）文件的路径和版本。-">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688218734317-c8b32cba-caba-4a3e-85ec-135be182b45d.png#averageHue=%23efecde&clientId=ub061bfe9-9d20-4&from=paste&height=73&id=ua6f05f43&originHeight=91&originWidth=625&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=62494&status=done&style=none&taskId=uddfba630-ba37-43b5-ba9b-b25b221df27&title=&width=500">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688219517886-1a40d78f-68af-4464-9413-c21f9674d09c.png#averageHue=%23ede9db&clientId=ub061bfe9-9d20-4&from=paste&height=85&id=u084a63b8&originHeight=106&originWidth=662&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=64138&status=done&style=none&taskId=uac3440e7-d8c8-46d1-8d53-1473464335e&title=&width=529.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688220154533-ffb0cb74-c2c9-46c7-bdd9-b1cf09d7938d.png#averageHue=%23efebdd&clientId=ub061bfe9-9d20-4&from=paste&height=42&id=ub2775b52&originHeight=53&originWidth=647&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38063&status=done&style=none&taskId=u5c80b38c-1536-48b6-85e3-68a114f8414&title=&width=517.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688220822207-5ee1466f-9eef-479a-9975-3a0000d923f7.png#averageHue=%23efece0&clientId=ub061bfe9-9d20-4&from=paste&height=42&id=u1fafbb68&originHeight=52&originWidth=718&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=47270&status=done&style=none&taskId=ueac6e9f7-f54a-492d-8ff9-a22dd37c639&title=&width=574.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688221370849-9b9d27ff-7562-4e22-8b11-a47007648023.png#averageHue=%23e5e4df&clientId=ub061bfe9-9d20-4&from=paste&height=73&id=ue4c60bfc&originHeight=91&originWidth=484&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46966&status=done&style=none&taskId=uac55351b-f70b-4405-8fe2-9f6dd41400a&title=&width=387.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688226051068-fa423388-0538-4c3f-9bae-d6573c8b6f69.png#averageHue=%23f6f4eb&clientId=ub061bfe9-9d20-4&from=paste&height=48&id=u57b2519a&originHeight=60&originWidth=535&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31220&status=done&style=none&taskId=u3f373f8b-4593-4011-bc06-b4c795ebc60&title=&width=428">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688226539314-0e2239b3-1ea3-4496-85a8-b35048a4b1d1.png#averageHue=%23588988&clientId=ub061bfe9-9d20-4&from=paste&height=84&id=u498bfa18&originHeight=105&originWidth=498&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=13606&status=done&style=none&taskId=u034aeca4-53cc-4b04-88c9-5e57462e5d5&title=&width=398.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688226653051-0e5fcb54-3b4d-41b0-9206-7f28f9329264.png#averageHue=%23fbfaf6&clientId=ub061bfe9-9d20-4&from=paste&height=106&id=uf1224bc8&originHeight=132&originWidth=400&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26785&status=done&style=none&taskId=u923a0bd8-64cc-4e12-ac29-0b5301ae0f3&title=&width=320">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688227493245-b069a3f0-4244-4ba8-b8a6-8af90d7f36a7.png#averageHue=%23f7f6f4&clientId=ub061bfe9-9d20-4&from=paste&height=179&id=uaee9cf78&originHeight=224&originWidth=657&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=97741&status=done&style=none&taskId=uf5ac061a-d8b2-444d-86c2-809e13ebc23&title=&width=525.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688255363510-f86f1244-96dd-4d98-9027-0145bc8a7f47.png#averageHue=%23ebf0e6&clientId=ub061bfe9-9d20-4&from=paste&height=103&id=u51962662&originHeight=129&originWidth=630&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=83538&status=done&style=none&taskId=ucfe563e8-86a4-4fdc-aa5f-be8c1cc360d&title=&width=504">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688256223477-294241c0-f767-4832-92f4-e978ccac4762.png#averageHue=%231e6123&clientId=ub061bfe9-9d20-4&from=paste&height=47&id=u59acb7a9&originHeight=59&originWidth=845&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=12730&status=done&style=none&taskId=u8ddcbc86-9942-4a7a-b93c-affdfac9470&title=&width=676">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688284752974-610d453d-40df-4cf7-a210-545e1ec8fd48.png#averageHue=%23fbf9f2&clientId=ub061bfe9-9d20-4&from=paste&height=59&id=u5ad784bd&originHeight=74&originWidth=316&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=11977&status=done&style=none&taskId=u00797a95-d021-4a47-9b35-71f49b75973&title=&width=252.8">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688383957268-bb9ca8b7-ef7c-438d-b045-e1745a67f96f.png#averageHue=%23f7f6f3&clientId=u8aa2d897-50f1-4&from=paste&height=108&id=u55e2024c&originHeight=135&originWidth=673&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=70114&status=done&style=none&taskId=ua3be383d-c361-4141-b8dd-b3becf137d8&title=&width=538.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688384511573-607a6751-25cb-46ca-b1f5-51cc3930e8c8.png#averageHue=%23f7f5ef&clientId=u8aa2d897-50f1-4&from=paste&height=60&id=u0073258c&originHeight=75&originWidth=360&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=25763&status=done&style=none&taskId=ucb5a20f8-c3ba-4791-91b7-5e77c316ed1&title=&width=288">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688389747602-947eb4c7-4bfd-4da1-a301-37291e46e86d.png#averageHue=%23f8f7f3&clientId=u8aa2d897-50f1-4&from=paste&height=109&id=ub9b07fed&originHeight=136&originWidth=495&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=50545&status=done&style=none&taskId=u814a3966-0855-45ff-951d-b2b8fbff284&title=&width=396">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688389723082-9bb1dfaa-9058-436c-9232-69886af988cf.png#averageHue=%23f4e8be&clientId=u8aa2d897-50f1-4&from=paste&height=88&id=udc12c1a4&originHeight=110&originWidth=598&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44948&status=done&style=none&taskId=uf6b698b0-12f4-479a-a3af-4344566010d&title=&width=478.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688389907859-50743d07-8203-4331-88fa-a19ddf64a86e.png#averageHue=%23f7f8f3&clientId=u8aa2d897-50f1-4&from=paste&height=110&id=ubc3e8d00&originHeight=137&originWidth=492&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46143&status=done&style=none&taskId=u491a6728-31dc-42f3-80fb-0e67c23ee9c&title=&width=393.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396424415-687b36d7-e3c3-4a5f-9f23-a02fb1b58f9b.png#averageHue=%23f8f6f2&clientId=u8aa2d897-50f1-4&from=paste&height=73&id=u8026bf37&originHeight=91&originWidth=652&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41428&status=done&style=none&taskId=uc01ff294-247e-46ce-8889-263a6b86699&title=&width=521.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396541434-1cd69218-c8aa-41cf-aaf4-5a5c0eef141d.png#averageHue=%23f3f0e3&clientId=u8aa2d897-50f1-4&from=paste&height=76&id=uefa3461d&originHeight=95&originWidth=539&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52768&status=done&style=none&taskId=u3b11ab90-74ff-40ea-879d-d74e672b542&title=&width=431.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396659083-f001f90c-23d1-4c6a-9a20-94fbd5b384b3.png#averageHue=%230c105a&clientId=u8aa2d897-50f1-4&from=paste&height=26&id=u1fa572bb&originHeight=33&originWidth=430&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=5630&status=done&style=none&taskId=uc3449976-cac5-4456-b241-d26d5e2d19b&title=&width=344">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396689464-0d97e285-c710-4b7a-a84d-259467bc55ae.png#averageHue=%230a0806&clientId=u8aa2d897-50f1-4&from=paste&height=186&id=u2d7e60d4&originHeight=233&originWidth=1205&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=58398&status=done&style=none&taskId=u0dedc2b5-5b5e-4488-b223-9360949ed46&title=&width=964">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688397300290-7655560e-531b-452a-ac89-479a70cb3094.png#averageHue=%23f2eee3&clientId=u8aa2d897-50f1-4&from=paste&height=150&id=u7faa80f9&originHeight=187&originWidth=724&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=119020&status=done&style=none&taskId=u450db797-c8a8-4f62-abea-2d36114a7a2&title=&width=579.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688397344021-b232c95d-45e8-4f83-b402-09c4fa5359ed.png#averageHue=%23efebdc&clientId=u8aa2d897-50f1-4&from=paste&height=49&id=u2cf0333d&originHeight=61&originWidth=524&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=30065&status=done&style=none&taskId=u93b7c066-d641-44c1-9212-6c90f53913d&title=&width=419.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688456443867-c4b537bf-6dc4-4261-90a3-20cb0e92b210.png#averageHue=%23faf9f5&clientId=u378e3c4c-7292-4&from=paste&height=164&id=ue439f11f&originHeight=205&originWidth=396&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49632&status=done&style=none&taskId=u384443b0-43f4-4288-a120-e26c7288230&title=&width=316.8">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688472828411-60ffd7e0-98c9-44f1-a245-fe4adad4e778.png#averageHue=%233c4144&clientId=u25015969-4d62-4&from=paste&height=362&id=ub36475a5&originHeight=453&originWidth=551&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40207&status=done&style=none&taskId=ufcf6ef16-df2c-4ba8-a361-5f1d5ed75b9&title=&width=440.8">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688472719439-4c5f8b0a-b6f8-47f9-af20-38bb50934042.png#averageHue=%233c4242&clientId=u25015969-4d62-4&from=paste&height=375&id=ubc2c4168&originHeight=469&originWidth=558&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=47881&status=done&style=none&taskId=u0162f579-9579-4c01-aa03-7b36c40064f&title=&width=446.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688467784015-e3f4255f-74c4-4104-b1c0-4d6d725cc6af.png#averageHue=%23fbfbfa&clientId=u378e3c4c-7292-4&from=paste&height=98&id=u21bfceb8&originHeight=123&originWidth=305&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=24673&status=done&style=none&taskId=u0e79f71a-6dd2-4a0c-896c-ffe26862945&title=&width=244">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688468705713-fca2e56f-8e44-439f-8706-467ae1d38c42.png#averageHue=%23c1b040&clientId=u378e3c4c-7292-4&from=paste&height=98&id=ud86358a9&originHeight=122&originWidth=862&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=15158&status=done&style=none&taskId=uf8a27513-52c4-4f2b-9024-a2ac900ba32&title=&width=689.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688519520570-48f60a06-3c87-4d24-8461-0d81d7aaded3.png#averageHue=%23faf9f6&clientId=u25015969-4d62-4&from=paste&height=108&id=uadf55962&originHeight=135&originWidth=454&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31539&status=done&style=none&taskId=ucf41a50b-9c9b-4f1d-a0e9-16f546edf4c&title=&width=363.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688521560666-80ac8ae4-d4a3-4d2d-8c91-334fe069e83b.png#averageHue=%23412105&clientId=u25015969-4d62-4&from=paste&height=165&id=u376387fd&originHeight=206&originWidth=334&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=8596&status=done&style=none&taskId=ub730a5b6-c25f-4fb1-9908-28be2b46f06&title=&width=267.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688524352145-bbed48c4-4b9f-49fd-bc03-d572a3027197.png#averageHue=%23f9f8f4&clientId=u25015969-4d62-4&from=paste&height=129&id=uda18b195&originHeight=161&originWidth=665&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=78699&status=done&style=none&taskId=u7546ee82-c37d-4698-81dd-fac681e2239&title=&width=532">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688524508058-a35f1e6a-8385-4dc9-b2fe-35f006b386f9.png#averageHue=%23f7f4e4&clientId=u25015969-4d62-4&from=paste&height=60&id=uc187c925&originHeight=75&originWidth=510&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45670&status=done&style=none&taskId=ue427ec23-92d3-40b9-bcc6-bd086110dbb&title=&width=408">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688524591560-ec1e07ae-2a22-40a0-beb4-3a0381331b21.png#averageHue=%23f6f5f1&clientId=u25015969-4d62-4&from=paste&height=83&id=u1459a351&originHeight=104&originWidth=678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=63103&status=done&style=none&taskId=ua96d2c56-915b-4fc7-93b1-8eab6045021&title=&width=542.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688540312902-5751d031-2dfb-4087-9bc5-4e3d96105748.png#averageHue=%23130f0c&clientId=ua77d9b4f-0672-4&from=paste&height=62&id=u3c89fbd3&originHeight=77&originWidth=946&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=20364&status=done&style=none&taskId=u268ab9a1-10cb-469d-b722-3809d789332&title=&width=756.8">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688542214770-39434523-eeeb-46d1-8208-8ddb7d9a11ec.png#averageHue=%23121923&clientId=ua77d9b4f-0672-4&from=paste&height=182&id=u43edee01&originHeight=228&originWidth=1077&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38429&status=done&style=none&taskId=u7cb701c5-f79b-40f4-8d4b-c1bd9d68933&title=&width=861.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688542371493-97cb2579-faf2-413e-ad5b-ef52d389f4b6.png#averageHue=%23121220&clientId=ua77d9b4f-0672-4&from=paste&height=214&id=u2eb14b9f&originHeight=267&originWidth=824&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=56931&status=done&style=none&taskId=u0d593b70-ed69-4948-9bf4-15d8c4918b6&title=&width=659.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688565300195-fa73648e-ab3b-4fa5-a716-6c21979c83f1.png#averageHue=%23f2eedf&clientId=u03b8032e-d2db-4&from=paste&height=42&id=uacbe958a&originHeight=53&originWidth=637&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36090&status=done&style=none&taskId=u94654dea-0468-4695-99d0-cfddb2aae05&title=&width=509.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688561711858-4f5b5480-aec5-4dc9-9308-83fc4912b1d7.png#averageHue=%23f9f8f5&clientId=u03b8032e-d2db-4&from=paste&height=93&id=u11602db8&originHeight=116&originWidth=620&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45923&status=done&style=none&taskId=u60a7bcae-e924-4b64-a56c-5b04cbe6a6c&title=&width=496">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688566339927-81ed4340-966a-4a88-bedb-26c8d44fcf24.png#averageHue=%23eeebdd&clientId=u03b8032e-d2db-4&from=paste&height=71&id=u546492a2&originHeight=89&originWidth=635&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=61617&status=done&style=none&taskId=u420ac884-47e3-4240-b82d-184ac46a1f3&title=&width=508">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688568299407-d1351508-cd00-4d10-bf82-8f32b10b3ddd.png#averageHue=%23f8f7f4&clientId=u03b8032e-d2db-4&from=paste&height=114&id=uf226db02&originHeight=143&originWidth=713&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=75650&status=done&style=none&taskId=uf5053da9-4cfc-42d5-8eab-0f6bcf536ed&title=&width=570.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688795689516-49cc89a8-1ca6-44a3-8e53-f23746ed1356.png#averageHue=%23141124&clientId=u2b1598f3-93fd-4&from=paste&height=163&id=u564574e3&originHeight=204&originWidth=519&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26990&status=done&style=none&taskId=u2fc2ea09-7a87-43f5-a45b-cb706c12abf&title=&width=415.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688795401819-1715b01b-338a-4464-a56a-efc65c120801.png#averageHue=%23191529&clientId=u2b1598f3-93fd-4&from=paste&height=205&id=u2e8de501&originHeight=256&originWidth=823&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49167&status=done&style=none&taskId=u46321d7e-f1a1-4c67-b479-65d93cf66c6&title=&width=658.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688861603142-9afafff6-f7cc-4ea5-a103-a6bdfff4f5cb.png#averageHue=%23efebdf&clientId=u581d0f14-5c03-4&from=paste&height=136&id=u7388e55c&originHeight=170&originWidth=743&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=137106&status=done&style=none&taskId=u13fb6161-b3c4-4948-aa03-ec4476286a9&title=&width=594.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688864926855-30f62a2a-4dab-4cf2-a6ad-c34cd7061f78.png#averageHue=%23ececec&clientId=u581d0f14-5c03-4&from=paste&height=418&id=u74fd2868&originHeight=522&originWidth=733&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=128453&status=done&style=none&taskId=ub1d549b4-1699-4c3b-802d-de767a3e791&title=&width=586.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688867552440-d719ebc6-8e68-4af2-81ab-88259681a121.png#averageHue=%23faf9f7&clientId=u280da01d-7a94-4&from=paste&height=126&id=u3d72dfb1&originHeight=157&originWidth=617&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=56798&status=done&style=none&taskId=u47a084bc-7dd2-4269-a126-54af38e5a40&title=&width=493.6">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688871638743-64ecae28-865e-4cac-8ce2-bcf7ea27d0e4.png#averageHue=%230e0c09&clientId=u280da01d-7a94-4&from=paste&height=209&id=u6578205b&originHeight=261&originWidth=618&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=30999&status=done&style=none&taskId=u5e2c5f5b-a607-45c4-b493-f27fd006994&title=&width=494.4">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915710064-4a470bf2-c79f-4ae8-9a17-10668f3fc10c.png#averageHue=%23050403&clientId=ub6a7cc0c-d91b-4&from=paste&height=589&id=u89facdbc&originHeight=983&originWidth=988&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=67634&status=done&style=none&taskId=ub6753472-537f-4f6e-b5e9-caef004519c&title=&width=592">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915736077-a7d8e962-2afe-4bdb-98f3-0b9d926ef415.png#averageHue=%230b0a09&clientId=ub6a7cc0c-d91b-4&from=paste&height=710&id=u768996e3&originHeight=888&originWidth=739&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77930&status=done&style=none&taskId=u5b648a25-7878-4c48-8c30-6dbfb8ca621&title=&width=591.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915746620-15adf4dc-b3c5-4356-a81a-cd2e9e609314.png#averageHue=%23080605&clientId=ub6a7cc0c-d91b-4&from=paste&height=274&id=uef640c46&originHeight=343&originWidth=584&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=18968&status=done&style=none&taskId=uadfe8256-8bbf-477f-ac5d-b51f95de508&title=&width=467.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915793967-5188083d-d94e-44f4-871e-f8e763b3343c.png#averageHue=%230a0807&clientId=ub6a7cc0c-d91b-4&from=paste&height=330&id=ub1889d38&originHeight=412&originWidth=389&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=19311&status=done&style=none&taskId=u4e091b0b-3e7d-46e4-a19e-2519f30c1c3&title=&width=311.2">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688948429310-fa23137f-afe9-4c6a-9852-6d02441450e4.png#averageHue=%23f8f6ef&clientId=ucdf75339-60f9-4&from=paste&height=57&id=u35dc23a1&originHeight=71&originWidth=636&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36570&status=done&style=none&taskId=u88ce7f1e-3a7f-4d80-b16e-29191bef367&title=&width=508.8">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688991101360-096000ef-2636-40d6-8ac6-97a2a1043b55.png#averageHue=%23111221&clientId=u2b3dc9ad-44f6-4&from=paste&height=142&id=u8fcb248b&originHeight=178&originWidth=650&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49138&status=done&style=none&taskId=u070b129b-f8c9-4090-8e09-11b33e3afcb&title=&width=520">
<meta property="article:published_time" content="2024-01-26T11:07:01.787Z">
<meta property="article:modified_time" content="2024-01-26T11:07:32.690Z">
<meta property="article:author" content="山麋一笑">
<meta property="article:tag" content="ssm">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688218734317-c8b32cba-caba-4a3e-85ec-135be182b45d.png#averageHue=%23efecde&clientId=ub061bfe9-9d20-4&from=paste&height=73&id=ua6f05f43&originHeight=91&originWidth=625&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=62494&status=done&style=none&taskId=uddfba630-ba37-43b5-ba9b-b25b221df27&title=&width=500">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>SSM学习总结 - 山麋一笑</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  



  
<link rel="stylesheet" href="/xm_custom/custom.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"www.bojiboqi.fun","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"NkSNF5NG3Uup8tDgwIfBlJ9d-gzGzoHsz","app_key":"Y2GZN9C0SLdOpVG4hMb1TEJM","server_url":"https://nksnf5ng.lc-cn-n1-shared.com","path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  
    <!-- Google tag (gtag.js) -->
    <script async>
      if (!Fluid.ctx.dnt) {
        Fluid.utils.createScript("https://www.googletagmanager.com/gtag/js?id=", function() {
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag('js', new Date());
          gtag('config', '');
        });
      }
    </script>
  

  

  

  

  
    
  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body><!-- hexo injector body_begin start --><div id="web_bg"></div><!-- hexo injector body_begin end -->
  
  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>山麋一笑</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于我</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="SSM学习总结"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2024-01-26 19:07" pubdate>
          2024年1月26日 晚上
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          31k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          256 分钟
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      


<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">SSM学习总结</h1>
            
            
              <div class="markdown-body">
                
                 <meta name="referrer" content="no-referrer">



<h1 id="Mybits"><a href="#Mybits" class="headerlink" title="Mybits:"></a>Mybits:</h1><h4 id="mybits核心配置文件："><a href="#mybits核心配置文件：" class="headerlink" title="mybits核心配置文件："></a>mybits核心配置文件：</h4><p>用于配置 MyBatis 的各种参数和属性，以及引入映射文件（Mapper）。</p>
<div class="code-wrapper"><pre><code class="hljs xml">
<span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span>
<span class="hljs-comment">&lt;!--&lt;!DOCTYPE&gt; 标签：声明了XML文档类型的声明，指定了使用的DTD(文档类型定义）文件的路径和版本。--&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">configuration</span></span>
<span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span>
<span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span>
<span class="hljs-comment">&lt;!--configuration 标签：MyBatis的配置文件必须以这个标签作为根标签，包含了所有的配置信息。--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
    <span class="hljs-comment">&lt;!--设置连接数据库的环境--&gt;</span>
<span class="hljs-comment">&lt;!--environments 标签：用于配置 MyBatis 的环境，通过 default 属性指定默认的环境。</span>
<span class="hljs-comment">environment 标签：定义了一个具体的环境，通过 id 属性指定环境的名称，id=test是测试环境，id是</span>
<span class="hljs-comment">唯一标识不能重复				。</span>
<span class="hljs-comment">environments是一个复数标签，里面可以存放很多environment标签--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">environments</span> <span class="hljs-attr">default</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">environment</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;development&quot;</span>&gt;</span>
<span class="hljs-comment">&lt;!--transactionManager 标签：用于配置事务管理器（数据库操作的管理和实现，</span>
<span class="hljs-comment">数据库领域，事务管理器通常是由数据库管理系统（DBMS）提供的服务，</span>
<span class="hljs-comment">用于确保数据库操作的原子性、一致性、隔离性和持久性（ACID）。</span>
<span class="hljs-comment">事务管理器提供了一种机制，使得多个数据库操作可以作为一个整体执行，</span>
<span class="hljs-comment">而不是独立的操作，从而避免了数据不一致和丢失的问题。），这里使用的是 JDBC 事务管理器。--&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">transactionManager</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;JDBC&quot;</span>/&gt;</span>
            <span class="hljs-comment">&lt;!--设置数据库连接--&gt;</span>
<span class="hljs-comment">&lt;!--dataSource 标签：用于配置数据库连接池，这里使用的是 POOLED (mybits提供是数据池连接技术）</span>
<span class="hljs-comment">数据源类型。--&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">dataSource</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;POOLED&quot;</span>&gt;</span>
<span class="hljs-comment">&lt;!--property 标签：用于设置数据源的属性，包括数据库驱动、URL、用户名和密码等。--&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driver&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/myemployees?</span></span>
<span class="hljs-string"><span class="hljs-tag">serverTimezone=UTC&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;root&quot;</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;A86789234&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">dataSource</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">environment</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">environments</span>&gt;</span>
   <span class="hljs-comment">&lt;!--引入映射文件--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">mappers</span>&gt;</span>
        <span class="hljs-comment">&lt;!--本配置文件和mappers文件是平行的，默认的当前目录下的mappers下的UserMapper--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span>  <span class="hljs-attr">resource</span>=<span class="hljs-string">&quot;mappers/UserMapper.xml&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">mappers</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></code></pre></div>
<h4 id="mapper映射文件："><a href="#mapper映射文件：" class="headerlink" title="mapper映射文件："></a>mapper映射文件：</h4><p>用于定义与用户（User）相关的数据库操作。这个映射文件使用了 MyBatis 的 XML 映射语言来定义 SQL 语句和数据库操作方法。映射文件写好后要和mybits的核心配置文件关联，通过<mapper>标签关联。当我们对数据库进行操作的时候，通过调用相关的mapper接口（与xml文件映射关联了的）中的方法，其中的方法通过xml映射文件关联，然后通过映射文件完成数据库的操作。</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span> ?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">mapper</span></span>
<span class="hljs-meta">        <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span>
<span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span>
<span class="hljs-comment">&lt;!--mapper 标签：MyBatis的映射文件必须以这个标签作为根标签，包含了所有的映射信息。</span>
<span class="hljs-comment">namespace 属性：指定了映射器的命名空间，用于与其他映射器区分开来。--&gt;</span>
<span class="hljs-comment">&lt;!--映射器：映射器（Mapper）是 MyBatis 框架中的一个组件，用于定义数据库操作和 SQL 语句与 Java 方法之间的映射关系。</span>
<span class="hljs-comment">映射器将 Java 对象和数据库表之间的数据映射起来，将数据库操作封装成一个个方法，使得 Java 开发人员可以使用面向对象的方式操作数据库，</span>
<span class="hljs-comment">而不需要编写大量的 SQL 语句。</span>
<span class="hljs-comment">在 MyBatis 中，映射器通常是一个接口，其中的方法定义了对数据库的操作。映射器的具体实现由 MyBatis 框架自动生成，</span>
<span class="hljs-comment">可以使用 XML 或者注解的方式来描述 SQL 语句以及与 Java 方法之间的映射关系--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">mapper</span> <span class="hljs-attr">namespace</span>=<span class="hljs-string">&quot;com.example.demo.mapper.UserMapper&quot;</span>&gt;</span>
       <span class="hljs-comment">&lt;!--int insertUser();insert 标签：定义了一个插入（Insert）操作的 SQL 语句，通过 id 属性指定操作的名称。--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;InsertUser&quot;</span>&gt;</span>
         insert into t_user values(&#x27;admin&#x27;,&#x27;123456&#x27;)
      <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">mapper</span>&gt;</span></code></pre></div>
<h4 id="测试数据库添加数据操作：在test文件中建立测试类"><a href="#测试数据库添加数据操作：在test文件中建立测试类" class="headerlink" title="测试数据库添加数据操作：在test文件中建立测试类"></a>测试数据库添加数据操作：在test文件中建立测试类</h4><div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-comment">//读取MyBatis的核心配置文件</span>
<span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>); 
<span class="hljs-comment">//创建SqlSessionFactoryBuilder对象</span>
<span class="hljs-type">SqlSessionFactoryBuilder</span> <span class="hljs-variable">sqlSessionFactoryBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> 
<span class="hljs-title class_">SqlSessionFactoryBuilder</span>();
<span class="hljs-comment">//通过核心配置文件所对应的字节输入流创建工厂类SqlSessionFactory，生产SqlSession对象 </span>
<span class="hljs-type">SqlSessionFactory</span> <span class="hljs-variable">sqlSessionFactory</span> <span class="hljs-operator">=</span> sqlSessionFactoryBuilder.build(is); 
<span class="hljs-comment">//创建SqlSession对象，此时通过SqlSession对象所操作的sql都必须手动提交或回滚事务 </span>
<span class="hljs-comment">//SqlSession sqlSession = sqlSessionFactory.openSession();</span>
<span class="hljs-comment">//创建SqlSession对象，此时通过SqlSession对象所操作的sql都会自动提交 </span>
<span class="hljs-type">SqlSession</span> <span class="hljs-variable">sqlSession</span> <span class="hljs-operator">=</span> sqlSessionFactory.openSession(<span class="hljs-literal">true</span>); 
<span class="hljs-comment">//通过代理模式创建UserMapper接口的代理实现类对象</span>
<span class="hljs-type">UserMapper</span> <span class="hljs-variable">userMapper</span> <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class);
<span class="hljs-comment">//调用UserMapper接口中的方法，就可以根据UserMapper的全类名匹配元素文件，通过调用的方法名匹配 </span>
映射文件中的SQL标签，并执行标签中的SQL语句
<span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> userMapper.insertUser(); 
<span class="hljs-comment">//上面可以不通过创建类来实现对sql的操作：</span>
<span class="hljs-comment">// int result = sqlSession.insert(&quot;com.example.demo.mapper.UserMapper.InsertUser&quot;);</span>
sqlSession.commit();
System.out.println(<span class="hljs-string">&quot;结果：&quot;</span>+result);</code></pre></div>
<h4 id="添加日志功能：log4j4日志框架"><a href="#添加日志功能：log4j4日志框架" class="headerlink" title="添加日志功能：log4j4日志框架"></a>添加日志功能：log4j4日志框架</h4><p>1.在pom文件中添加相关的依赖：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>log4j<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span> 
   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.17<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span> 
&lt;/dependency</code></pre></div>
<p>选择的日志级别打印出来的是大于等于当前日志级别的信息。</p>
<h4 id="查询操作："><a href="#查询操作：" class="headerlink" title="查询操作："></a>查询操作：</h4><p>设置程序的测试程序</p>
<div class="code-wrapper"><pre><code class="hljs abnf">  public  void  selectUser() throws IOException &#123;
    InputStream is <span class="hljs-operator">=</span>  Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis.config.xml&quot;</span>)<span class="hljs-comment">;</span>
    SqlSessionFactoryBuilder sqlSessionFactoryBuilder <span class="hljs-operator">=</span> new
            SqlSessionFactoryBuilder()<span class="hljs-comment">;</span>
    SqlSessionFactory sqlSessionFactory <span class="hljs-operator">=</span> sqlSessionFactoryBuilder.build(is)<span class="hljs-comment">;</span>
    SqlSession sqlSession <span class="hljs-operator">=</span> sqlSessionFactory.openSession(true)<span class="hljs-comment">;</span>
    UserMapper userMapper <span class="hljs-operator">=</span> sqlSession.getMapper(UserMapper.class)<span class="hljs-comment">;</span>
    User user <span class="hljs-operator">=</span> userMapper.getUserById()<span class="hljs-comment">;</span>
    System.out.println(user)<span class="hljs-comment">;</span>
    sqlSession.close()<span class="hljs-comment">; </span>
&#125;</code></pre></div>
<p>修改UserMapper.xml文件<br>添加：查询的结果放在List<user>的时候其中的resultType不变。</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;getUserById&quot;</span> <span class="hljs-attr">resultType</span>=<span class="hljs-string">&quot;com.example.demo.object.User&quot;</span>&gt;</span>
        select  *from user where  id = 1
    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span>
<span class="hljs-comment">&lt;!--resultType:设置结果类型，即是查询结果的类型；resultMap：自定义映射，</span>
<span class="hljs-comment">处理多对1或者1对多的映射关系--&gt;</span></code></pre></div>
<h4 id="获取参数的情况："><a href="#获取参数的情况：" class="headerlink" title="获取参数的情况："></a>获取参数的情况：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688218734317-c8b32cba-caba-4a3e-85ec-135be182b45d.png#averageHue=%23efecde&clientId=ub061bfe9-9d20-4&from=paste&height=73&id=ua6f05f43&originHeight=91&originWidth=625&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=62494&status=done&style=none&taskId=uddfba630-ba37-43b5-ba9b-b25b221df27&title=&width=500" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688219517886-1a40d78f-68af-4464-9413-c21f9674d09c.png#averageHue=%23ede9db&clientId=ub061bfe9-9d20-4&from=paste&height=85&id=u084a63b8&originHeight=106&originWidth=662&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=64138&status=done&style=none&taskId=uac3440e7-d8c8-46d1-8d53-1473464335e&title=&width=529.6" srcset="/img/loading.gif" lazyload alt="image.png"><br>之所以用arg0和arg1是因为当有多个参数的时候，底层会把参数储存到一个map集合中的，arg0和arg1分别对应传递过来的第一个参数和第二个参数。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688220154533-ffb0cb74-c2c9-46c7-bdd9-b1cf09d7938d.png#averageHue=%23efebdd&clientId=ub061bfe9-9d20-4&from=paste&height=42&id=ub2775b52&originHeight=53&originWidth=647&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38063&status=done&style=none&taskId=u5c80b38c-1536-48b6-85e3-68a114f8414&title=&width=517.6" srcset="/img/loading.gif" lazyload alt="image.png"><br>相当于自己手动把数值放在map集合中了，访问的时候就用自己设置的键访问即可<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688220822207-5ee1466f-9eef-479a-9975-3a0000d923f7.png#averageHue=%23efece0&clientId=ub061bfe9-9d20-4&from=paste&height=42&id=u1fafbb68&originHeight=52&originWidth=718&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=47270&status=done&style=none&taskId=ueac6e9f7-f54a-492d-8ff9-a22dd37c639&title=&width=574.4" srcset="/img/loading.gif" lazyload alt="image.png"><br>因为底层将属性（get和set方法去掉get和set后的字符转小写组成的，当成员变量没有get和set方法的时候，不能当作属性）名和属性值通过map映射的，与上面的访问类似，直接在#{}括号中添加属性名即可。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688221370849-9b9d27ff-7562-4e22-8b11-a47007648023.png#averageHue=%23e5e4df&clientId=ub061bfe9-9d20-4&from=paste&height=73&id=ue4c60bfc&originHeight=91&originWidth=484&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46966&status=done&style=none&taskId=uac55351b-f70b-4405-8fe2-9f6dd41400a&title=&width=387.2" srcset="/img/loading.gif" lazyload alt="image.png">相当于在底层的map中的键是直接设置Param注解的参数绑定的</p>
<h4 id="mybatis的查询："><a href="#mybatis的查询：" class="headerlink" title="mybatis的查询："></a>mybatis的查询：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688226051068-fa423388-0538-4c3f-9bae-d6573c8b6f69.png#averageHue=%23f6f4eb&clientId=ub061bfe9-9d20-4&from=paste&height=48&id=u57b2519a&originHeight=60&originWidth=535&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31220&status=done&style=none&taskId=u3f373f8b-4593-4011-bc06-b4c795ebc60&title=&width=428" srcset="/img/loading.gif" lazyload alt="image.png"><br>select count(age) user:查询的时候会把age列为null的值不算入count中。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688226539314-0e2239b3-1ea3-4496-85a8-b35048a4b1d1.png#averageHue=%23588988&clientId=ub061bfe9-9d20-4&from=paste&height=84&id=u498bfa18&originHeight=105&originWidth=498&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=13606&status=done&style=none&taskId=u034aeca4-53cc-4b04-88c9-5e57462e5d5&title=&width=398.4" srcset="/img/loading.gif" lazyload alt="image.png">这里的resultType实际上是别名是不区分大小写的，mybatis已经设置了常见类型的别名，这里的int和interger都可以而且不区分大小写。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688226653051-0e5fcb54-3b4d-41b0-9206-7f28f9329264.png#averageHue=%23fbfaf6&clientId=ub061bfe9-9d20-4&from=paste&height=106&id=uf1224bc8&originHeight=132&originWidth=400&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26785&status=done&style=none&taskId=u923a0bd8-64cc-4e12-ac29-0b5301ae0f3&title=&width=320" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688227493245-b069a3f0-4244-4ba8-b8a6-8af90d7f36a7.png#averageHue=%23f7f6f4&clientId=ub061bfe9-9d20-4&from=paste&height=179&id=uaee9cf78&originHeight=224&originWidth=657&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=97741&status=done&style=none&taskId=uf5ac061a-d8b2-444d-86c2-809e13ebc23&title=&width=525.6" srcset="/img/loading.gif" lazyload alt="image.png"><br>@MapKey(“id”)<br>以id为返回map的键，其中值为查询结果（通常用在有多个返回结果的查询中），如果有多个结果就返回最后一个结果。其中的id如果无法识别就用null代替，@MapKey(“id”) 注解中的 id 表示一个属性名，表示返回结果集中以哪个属性的值作为 Map 的键。</p>
<h4 id="特殊sql"><a href="#特殊sql" class="headerlink" title="特殊sql:"></a>特殊sql:</h4><p>模糊查询：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688255363510-f86f1244-96dd-4d98-9027-0145bc8a7f47.png#averageHue=%23ebf0e6&clientId=ub061bfe9-9d20-4&from=paste&height=103&id=u51962662&originHeight=129&originWidth=630&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=83538&status=done&style=none&taskId=ucfe563e8-86a4-4fdc-aa5f-be8c1cc360d&title=&width=504" srcset="/img/loading.gif" lazyload alt="image.png"><br>批量删除：<br>动态设置表名：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688256223477-294241c0-f767-4832-92f4-e978ccac4762.png#averageHue=%231e6123&clientId=ub061bfe9-9d20-4&from=paste&height=47&id=u59acb7a9&originHeight=59&originWidth=845&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=12730&status=done&style=none&taskId=u8ddcbc86-9942-4a7a-b93c-affdfac9470&title=&width=676" srcset="/img/loading.gif" lazyload alt="image.png">这里不能用#{}是因为#{}在拼接sql语句的时候自动添加了引发。</p>
<h4 id="处理多对1映射：注意在映射为实体类的时候，实体类中必须要有无参构造器"><a href="#处理多对1映射：注意在映射为实体类的时候，实体类中必须要有无参构造器" class="headerlink" title="处理多对1映射：注意在映射为实体类的时候，实体类中必须要有无参构造器"></a>处理多对1映射：注意在映射为实体类的时候，实体类中必须要有无参构造器</h4><p>1.级联:<br>在核心配置文件<mapper>中添加内容为：</p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;resultMap <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;empDeptMap&quot;</span> type=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
       &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;emp_id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empId&quot;</span>&gt;&lt;/<span class="hljs-built_in">id</span>&gt;
       &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;emp_name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empName&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
     &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
      &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;gender&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
       &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;dept_id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;dept.id&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
       &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;dept_name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;dept.name&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
   &lt;/resultMap&gt;
   &lt;select <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpById&quot;</span> resultMap=<span class="hljs-string">&quot;empDeptMap&quot;</span>&gt;
    select  *<span class="hljs-keyword">from</span>  t_emp left join  t_dept <span class="hljs-keyword">on</span> t_emp.dept_id=t_dept.dept_id <span class="hljs-keyword">where</span>  t_emp.emp_id = <span class="hljs-comment">#&#123;empId&#125;</span>
   &lt;/select&gt;</code></pre></div>
 <resultMap>
<resultMap>元素可以包含多个<result>子元素，每个<result>子元素定义了如何将查询结果中的一列映射到Java对象的一个属性中。<result>子元素通常包含以下属性：

<ul>
<li>column：指定要映射的查询结果列的名称或别名。</li>
<li>property：指定要映射到Java对象的属性的名称。</li>
<li>jdbcType：指定查询结果列的JDBC类型。</li>
<li>javaType：指定要映射到Java对象属性的类型。</li>
<li>typeHandler：指定要使用的类型处理器，用于在Java对象和数据库类型之间进行转换。<id>子元素用于定义主键的映射，<result>子元素用于定义其他属性的映射。一旦你定义了<resultMap>元素，你可以在<select>或<selectKey>元素中使用它来指定查询结果的映射方式。</li>
<li>java中的无参构造器在Java中，无参构造器是指一个没有参数的构造器方法。如果你在一个Java类中没有显式地定义构造器，则编译器会自动为该类生成一个无参构造器。如果你显式地定义了一个构造器方法，但没有为其指定参数，则也会生成一个无参构造器。无参构造器通常用于创建一个新的对象实例，并初始化其状态。当你创建一个Java对象时，Java编译器会自动调用该对象的无参构造器，以便初始化对象的状态。如果你要创建一个对象，并使用默认值初始化其属性，则通常可以使用无参构造器。如果你显式地定义了一个有参数的构造器，则编译器不会自动为该类生成无参构造器。如果你需要一个无参构造器，你需要显式地定义一个。</li>
</ul>
<p>2.使用<association>标签：</p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;resultMap <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;empDeptMap&quot;</span> type=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
    &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;emp_id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empId&quot;</span>&gt;&lt;/<span class="hljs-built_in">id</span>&gt;
    &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;emp_name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empName&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
  &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
   &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;gender&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
    &lt;association <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;dept&quot;</span> javaType=<span class="hljs-string">&quot;com.example.demo.object.Dept&quot;</span>&gt;
    &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;dept_id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;id&quot;</span>&gt;&lt;/<span class="hljs-built_in">id</span>&gt;
    &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;dept_name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
     &lt;/association&gt;
&lt;/resultMap&gt;
&lt;select <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpById&quot;</span> resultMap=<span class="hljs-string">&quot;empDeptMap&quot;</span>&gt;
 select  *<span class="hljs-keyword">from</span>  t_emp left join  t_dept <span class="hljs-keyword">on</span> t_emp.dept_id=t_dept.dept_id <span class="hljs-keyword">where</span>  t_emp.emp_id = <span class="hljs-comment">#&#123;empId&#125;</span>
&lt;/select&gt;</code></pre></div>
<p><association>元素用于将两个对象之间的关联关系映射到查询结果中。</p>
<ul>
<li>property：指定要映射到Java对象的属性的名称。</li>
<li>javaType：指定要映射到Java对象的类型。（别名或者全类名）</li>
<li>select：指定关联查询的语句ID，用于查询关联对象的详细信息。</li>
</ul>
<p>4.分步查询：</p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;resultMap <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;EmpAndDepByStep&quot;</span> type=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
     &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;emp_id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empId&quot;</span>&gt;&lt;/<span class="hljs-built_in">id</span>&gt;
     &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;emp_name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empName&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
     &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
     &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;gender&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
     &lt;association <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;dept&quot;</span>
            select=<span class="hljs-string">&quot;com.example.demo.mapper.DepMapper.getEmpTwoStep&quot;</span>
                  column=<span class="hljs-string">&quot;dept_id&quot;</span>&gt;
     &lt;/association&gt;
 &lt;/resultMap&gt;
 &lt;select <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpAndDepByStep&quot;</span> resultMap=<span class="hljs-string">&quot;EmpAndDepByStep&quot;</span>&gt;
     select *<span class="hljs-keyword">from</span> t_emp <span class="hljs-keyword">where</span>  emp_id = <span class="hljs-comment">#&#123;empid&#125;</span>
 &lt;/select&gt;
</code></pre></div>
<p>select属性指定了一个名为com.example.demo.mapper.DepMapper.getEmpTwoStep的映射语句，该语句用于查询当前员工所属的部门对象。column属性指定了查询结果中用于关联的列名（即部门ID列）。注意这里的select语句指明的映射语句后的函数没有小括号。<br>如果分步查询中的Dep类的属性和表中的属性不一致的时候，可能会导致查询的dept为null这个时候使用resultMap将属性和列名重写映射就可以了。</p>
<h4 id="延迟加载："><a href="#延迟加载：" class="headerlink" title="延迟加载："></a>延迟加载：</h4><p>延迟加载是一种优化数据库访问的方式，可以提高系统性能和响应速度。在MyBatis中，延迟加载主要通过基于代理的方式实现。<br>基于代理的延迟加载是指，MyBatis在查询关联对象时，不会立即查询所有关联对象的数据，而是创建一个代理对象代替关联对象，在需要访问关联对象时，再实际访问数据库加载数据。这样可以避免不必要的数据库查询，提高系统性能和响应速度。<br>例如，假设你有两个实体类Emp和Dept，其中Emp类包含一个dept属性，表示员工所在的部门：</p>
<div class="code-wrapper"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">Emp</span> </span>&#123;
    <span class="hljs-keyword">private</span> Integer empId;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> empName;
    <span class="hljs-keyword">private</span> Integer age;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> gender;
    <span class="hljs-keyword">private</span> Dept dept;

    <span class="hljs-comment">// getter和setter方法</span>
    <span class="hljs-comment">// ...</span>
&#125;

<span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">Dept</span> </span>&#123;
    <span class="hljs-keyword">private</span> Integer deptId;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> deptName;

    <span class="hljs-comment">// getter和setter方法</span>
    <span class="hljs-comment">// ...</span>
&#125;</code></pre></div>
<p>如果你使用MyBatis查询Emp对象，并同时查询dept对象，可以使用以下的XML配置文件：</p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;select <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpAndDepByStep&quot;</span> resultMap=<span class="hljs-string">&quot;empResult&quot;</span>&gt;
  select e.emp_id, e.emp_name, e.age, e.gender, d.dept_id, d.dept_name
  <span class="hljs-keyword">from</span> t_emp e
  inner join t_dept d <span class="hljs-keyword">on</span> e.dept_id = d.dept_id
  <span class="hljs-keyword">where</span> e.emp_id = <span class="hljs-comment">#&#123;empId&#125;</span>
&lt;/select&gt;

&lt;resultMap <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;empResult&quot;</span> type=<span class="hljs-string">&quot;Emp&quot;</span>&gt;
  &lt;<span class="hljs-built_in">id</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empId&quot;</span> column=<span class="hljs-string">&quot;emp_id&quot;</span>/&gt;
  &lt;<span class="hljs-literal">result</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empName&quot;</span> column=<span class="hljs-string">&quot;emp_name&quot;</span>/&gt;
  &lt;<span class="hljs-literal">result</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;age&quot;</span> column=<span class="hljs-string">&quot;age&quot;</span>/&gt;
  &lt;<span class="hljs-literal">result</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;gender&quot;</span> column=<span class="hljs-string">&quot;gender&quot;</span>/&gt;
  &lt;association <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;dept&quot;</span> javaType=<span class="hljs-string">&quot;Dept&quot;</span>&gt;
    &lt;<span class="hljs-built_in">id</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;deptId&quot;</span> column=<span class="hljs-string">&quot;dept_id&quot;</span>/&gt;
    &lt;<span class="hljs-literal">result</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;deptName&quot;</span> column=<span class="hljs-string">&quot;dept_name&quot;</span>/&gt;
  &lt;/association&gt;
&lt;/resultMap&gt;</code></pre></div>
<p>在上述配置中，association标签用于配置dept属性，resultMap属性用于指定empResult结果映射。这样，当你查询Emp对象时，MyBatis会自动查询关联的Dept对象，并将查询结果封装到Emp对象中的dept属性中。<br>如果你使用基于代理的延迟加载方式，可以在查询Emp对象时，不立即查询关联的Dept对象，而是创建一个代理对象代替Dept对象。这样，在访问dept属性时，MyBatis会自动触发查询操作，并将查询结果封装到代理对象中。<br>例如，你可以使用以下的XML配置文件启用基于代理的延迟加载：</p>
<div class="code-wrapper"><pre><code class="hljs n1ql">&lt;<span class="hljs-keyword">select</span> id=<span class="hljs-string">&quot;getEmpAndDepByStep&quot;</span> resultMap=<span class="hljs-string">&quot;empResult&quot;</span>&gt;
  <span class="hljs-keyword">select</span> <span class="hljs-built_in">e</span>.emp_id, <span class="hljs-built_in">e</span>.emp_name, <span class="hljs-built_in">e</span>.age, <span class="hljs-built_in">e</span>.gender, <span class="hljs-built_in">e</span>.dept_id
  <span class="hljs-keyword">from</span> t_emp <span class="hljs-built_in">e</span>
  <span class="hljs-keyword">where</span> <span class="hljs-built_in">e</span>.emp_id = #&#123;empId&#125;
&lt;/<span class="hljs-keyword">select</span>&gt;

&lt;resultMap id=<span class="hljs-string">&quot;empResult&quot;</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;Emp&quot;</span>&gt;
  &lt;id property=<span class="hljs-string">&quot;empId&quot;</span> column=<span class="hljs-string">&quot;emp_id&quot;</span>/&gt;
  &lt;result property=<span class="hljs-string">&quot;empName&quot;</span> column=<span class="hljs-string">&quot;emp_name&quot;</span>/&gt;
  &lt;result property=<span class="hljs-string">&quot;age&quot;</span> column=<span class="hljs-string">&quot;age&quot;</span>/&gt;
  &lt;result property=<span class="hljs-string">&quot;gender&quot;</span> column=<span class="hljs-string">&quot;gender&quot;</span>/&gt;
  &lt;association property=<span class="hljs-string">&quot;dept&quot;</span> javaType=<span class="hljs-string">&quot;Dept&quot;</span> <span class="hljs-keyword">select</span>=<span class="hljs-string">&quot;getDeptById&quot;</span>&gt;
  &lt;/association&gt;
&lt;/resultMap&gt;

&lt;<span class="hljs-keyword">select</span> id=<span class="hljs-string">&quot;getDeptById&quot;</span> resultType=<span class="hljs-string">&quot;Dept&quot;</span>&gt;
  <span class="hljs-keyword">select</span> dept_id, dept_name
  <span class="hljs-keyword">from</span> t_dept
  <span class="hljs-keyword">where</span> dept_id = #&#123;deptId&#125;
&lt;/<span class="hljs-keyword">select</span>&gt;</code></pre></div>
<p>在上述配置中，association标签用于配置dept属性，select属性用于指定查询关联对象的SQL语句，getDeptById为查询关联对象的ID。这样，在查询Emp对象时，MyBatis会创建一个代理对象代替Dept对象，当你访问dept属性时，MyBatis会自动触发查询操作，并将查询结果封装到代理对象中。<br>需要注意的是，使用基于代理的延迟加载方式时，需要在查询结束后手动访问关联对象的属性，以触发数据加载。例如，在上述配置中，你需要手动访问Emp对象的dept属性，以触发关联对象的查询操作，代码示例如下：</p>
<div class="code-wrapper"><pre><code class="hljs ceylon">Emp emp = sqlSession.selectOne(<span class="hljs-string">&quot;getEmpAndDepByStep&quot;</span>, empId);
System.<span class="hljs-keyword">out</span>.println(emp.getEmpName()); <span class="hljs-comment">// 访问Emp对象的属性，不会触发关联对象的查询操作</span>
System.<span class="hljs-keyword">out</span>.println(emp.getDept().getDeptName()); <span class="hljs-comment">// 访问关联对象的属性，会触发关联对象的查询操作</span></code></pre></div>
<p>在上述代码中，你需要先访问Emp对象的属性，例如empName，以确保Emp对象已经被查询出来。然后再访问dept属性，以触发关联对象的查询操作。<br>如果你使用基于XML配置的延迟加载方式，可以在查询Emp对象时，不立即查询关联的Dept对象，而是将查询操作延迟到访问dept属性时。这样，MyBatis会自动创建代理对象，并在访问dept属性时，触发查询操作，并将查询结果封装到代理对象中。<br>例如，你可以使用以下的XML配置文件启用基于XML配置的延迟加载：</p>
<div class="code-wrapper"><pre><code class="hljs n1ql">&lt;<span class="hljs-keyword">select</span> id=<span class="hljs-string">&quot;getEmpAndDepByLazyLoading&quot;</span> resultMap=<span class="hljs-string">&quot;empResult&quot;</span>&gt;
  <span class="hljs-keyword">select</span> <span class="hljs-built_in">e</span>.emp_id, <span class="hljs-built_in">e</span>.emp_name, <span class="hljs-built_in">e</span>.age, <span class="hljs-built_in">e</span>.gender, <span class="hljs-built_in">e</span>.dept_id
  <span class="hljs-keyword">from</span> t_emp <span class="hljs-built_in">e</span>
  <span class="hljs-keyword">where</span> <span class="hljs-built_in">e</span>.emp_id = #&#123;empId&#125;
&lt;/<span class="hljs-keyword">select</span>&gt;

&lt;resultMap id=<span class="hljs-string">&quot;empResult&quot;</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;Emp&quot;</span>&gt;
  &lt;id property=<span class="hljs-string">&quot;empId&quot;</span> column=<span class="hljs-string">&quot;emp_id&quot;</span>/&gt;
  &lt;result property=<span class="hljs-string">&quot;empName&quot;</span> column=<span class="hljs-string">&quot;emp_name&quot;</span>/&gt;
  &lt;result property=<span class="hljs-string">&quot;age&quot;</span> column=<span class="hljs-string">&quot;age&quot;</span>/&gt;
  &lt;result property=<span class="hljs-string">&quot;gender&quot;</span> column=<span class="hljs-string">&quot;gender&quot;</span>/&gt;
  &lt;association property=<span class="hljs-string">&quot;dept&quot;</span> javaType=<span class="hljs-string">&quot;Dept&quot;</span> <span class="hljs-keyword">select</span>=<span class="hljs-string">&quot;getDeptById&quot;</span> lazyLoadingEnabled=<span class="hljs-string">&quot;true&quot;</span>&gt;
  &lt;/association&gt;
&lt;/resultMap&gt;

&lt;<span class="hljs-keyword">select</span> id=<span class="hljs-string">&quot;getDeptById&quot;</span> resultType=<span class="hljs-string">&quot;Dept&quot;</span>&gt;
  <span class="hljs-keyword">select</span> dept_id, dept_name
  <span class="hljs-keyword">from</span> t_dept
  <span class="hljs-keyword">where</span> dept_id = #&#123;deptId&#125;
&lt;/<span class="hljs-keyword">select</span>&gt;</code></pre></div>
<p>在上述配置中，lazyLoadingEnabled属性用于启用基于XML配置的延迟加载。这样，在访问dept属性时，MyBatis会自动创建代理对象，并触发查询操作。<br>需要注意的是，使用基于XML配置的延迟加载方式时，需要确保在访问关联对象的属性时，MyBatis会自动触发查询操作。如果你手动访问关联对象的属性，而没有启用基于XML配置的延迟加载，那么查询操作会立即执行，而不是延迟加载。所以，建议在使用基于XML配置的延迟加载时，不要手动访问关联对象的属性，以便MyBatis可以自动触发查询操作。</p>
<div class="code-wrapper"><pre><code class="hljs routeros">&lt;setting <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;lazyLoadingEnabled&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;
        &lt;setting <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;aggressiveLazyLoading&quot;</span> <span class="hljs-attribute">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;
</code></pre></div>
<p>这两个设置都与MyBatis的延迟加载相关。<br>lazyLoadingEnabled设置决定是否启用延迟加载。如果设置为true，则启用延迟加载；如果设置为false，则禁用延迟加载。启用延迟加载后，MyBatis将会创建代理对象代替关联对象，在需要访问关联对象时，再实际访问数据库加载数据。这样可以减少不必要的数据库访问，提高系统性能和响应速度。<br>aggressiveLazyLoading设置决定是否启用积极的延迟加载。如果设置为true，则启用积极的延迟加载；如果设置为false，则禁用积极的延迟加载。启用积极的延迟加载后，MyBatis将会尽可能多地延迟加载关联对象的数据，包括嵌套的关联对象。这样可以进一步减少不必要的数据库访问，提高系统性能和响应速度。但需要注意，启用积极的延迟加载可能会导致一些副作用，例如N+1查询问题等。<br>一般来说，启用延迟加载可以提高系统性能和响应速度，但需要根据具体的场景和需求做出权衡和选择。如果你的数据量较小，或者关联对象的数据量较少，可以考虑禁用延迟加载，直接一次性查询所有关联对象的数据。而如果你的数据量较大，或者关联对象的数据量较大，可以考虑启用延迟加载，以减少不必要的数据库访问。<br>需要注意的是，启用延迟加载后，需要在访问关联对象的属性时，才会触发数据库查询操作。因此，如果你需要使用关联对象的数据，建议在查询时同时查询关联对象的数据，以避免不必要的延迟加载操作。另外，如果你使用了基于代理的延迟加载方式，需要在访问关联对象的属性时，手动触发数据加载操作，以确保关联对象的数据已经被加载到代理对象中。</p>
<h4 id="通过collection处理一对多映射关系："><a href="#通过collection处理一对多映射关系：" class="headerlink" title="通过collection处理一对多映射关系："></a>通过collection处理一对多映射关系：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688284752974-610d453d-40df-4cf7-a210-545e1ec8fd48.png#averageHue=%23fbf9f2&clientId=ub061bfe9-9d20-4&from=paste&height=59&id=u5ad784bd&originHeight=74&originWidth=316&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=11977&status=done&style=none&taskId=u00797a95-d021-4a47-9b35-71f49b75973&title=&width=252.8" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;collection <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;emps&quot;</span> ofType=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
            &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;emp_id&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empId&quot;</span>&gt;&lt;/<span class="hljs-built_in">id</span>&gt;
            &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;emp_name&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;empName&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
            &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;age&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
            &lt;<span class="hljs-literal">result</span> column=<span class="hljs-string">&quot;gender&quot;</span> <span class="hljs-keyword">property</span>=<span class="hljs-string">&quot;gender&quot;</span>&gt;&lt;/<span class="hljs-literal">result</span>&gt;
        &lt;/collection&gt;</code></pre></div>
<p>这段XML配置代码用于配置一个集合类型的结果映射。<br><collection>标签用于指定集合属性的结果映射。其中，property属性指定集合属性的名称，ofType属性指定集合元素的类型。<br>在<collection>标签中，可以使用<id>标签和<result>标签配置集合元素的属性。<id>标签用于指定集合元素的主键属性，column属性指定数据库表中的主键列名，property属性指定Java对象中的属性名。<result>标签用于指定集合元素的普通属性，column属性指定数据库表中的列名，property属性指定Java对象中的属性名。<br>例如，上述XML配置代码中，<collection>标签配置了一个名为emps的集合属性，元素类型为com.example.demo.object.Emp。<id>标签指定了集合元素的主键属性为empId，<result>标签指定了集合元素的普通属性为empName、age和gender。当MyBatis查询结果包含多个Emp对象时，会自动将这些对象封装到emps集合中，其中每个Emp对象的属性值根据XML配置进行映射。<br>需要注意的是，如果你在查询结果中包含了集合类型的属性，需要使用<collection>标签进行结果映射。另外，如果你使用了基于代理的延迟加载方式，需要在访问集合属性时，手动触发数据加载操作，以确保集合元素的数据已经被加载到代理对象中。</p>
<h4 id="分步查询处理一对多的关系："><a href="#分步查询处理一对多的关系：" class="headerlink" title="分步查询处理一对多的关系："></a>分步查询处理一对多的关系：</h4><p>depMapper中的内容：</p>
<div class="code-wrapper"><pre><code class="hljs bash">&lt;/select&gt;
  &lt;resultMap <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;DeptAndEmpStepOne&quot;</span> <span class="hljs-built_in">type</span>=<span class="hljs-string">&quot;com.example.demo.object.Dept&quot;</span>&gt;
      &lt;<span class="hljs-built_in">id</span> column=<span class="hljs-string">&quot;dept_id&quot;</span> property=<span class="hljs-string">&quot;Id&quot;</span>&gt;&lt;/id&gt;
      &lt;result column=<span class="hljs-string">&quot;dept_name&quot;</span> property=<span class="hljs-string">&quot;name&quot;</span>&gt;&lt;/result&gt;
      &lt;collection property=<span class="hljs-string">&quot;emps&quot;</span>
                  <span class="hljs-keyword">select</span>=<span class="hljs-string">&quot;com.example.demo.mapper.EmpMapper.DeptAndDeptTwo&quot;</span>
                  column=<span class="hljs-string">&quot;dept_id&quot;</span>&gt;

      &lt;/collection&gt;
  &lt;/resultMap&gt;
  &lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getDeptAndEmpStepOne&quot;</span> resultMap=<span class="hljs-string">&quot;DeptAndEmpStepOne&quot;</span>&gt;
      <span class="hljs-keyword">select</span> *from  t_dept <span class="hljs-built_in">where</span>  dept_id = <span class="hljs-comment">#&#123;deptId&#125;</span>
  &lt;/select&gt;</code></pre></div>
<p>employees中：</p>
<div class="code-wrapper"><pre><code class="hljs axapta">q &lt;<span class="hljs-keyword">select</span> id=<span class="hljs-string">&quot;DeptAndDeptTwo&quot;</span> resultType=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
        <span class="hljs-keyword">select</span>  *<span class="hljs-keyword">from</span>  t_emp <span class="hljs-keyword">where</span>  dept_id=<span class="hljs-meta">#&#123;deptId&#125;</span>
    &lt;/<span class="hljs-keyword">select</span>&gt;</code></pre></div>
<h4 id="动态sql"><a href="#动态sql" class="headerlink" title="动态sql:"></a>动态sql:</h4><p>前段没有传递某些参数，而服务器获取这些参数，器结果为null；如果前端传来的表单文本框内容没有填写，后端获取的就是空字符串。</p>
<h6 id="if标签："><a href="#if标签：" class="headerlink" title="if标签："></a>if标签：</h6><p>下面（代码2）是根据empName和age,gender来查找的，但是当empName为null或者空字符串的时候，会报sql语法错误（原因是拼接的时候empName那个sql片段没有拼接进去，可能拼接了后面的sql片段对了and)解决方法在在第一个if标签前面添加一个恒成立条件：方法2是用where标签</p>
<div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-keyword">select</span>  *from  t_emp <span class="hljs-built_in">where</span>  1 = 1 &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> = <span class="hljs-string">&quot;emp.empName != null and emp.empName != &#x27;&#x27;&quot;</span>&gt;
    and emp_name = <span class="hljs-comment">#&#123;emp.empName&#125;</span>

&lt;/if&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs bash">&lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpsByCondition&quot;</span> resultType=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
<span class="hljs-keyword">select</span>  *from  t_emp <span class="hljs-built_in">where</span>  &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> = <span class="hljs-string">&quot;emp.empName != null and emp.empName != &#x27;&#x27;&quot;</span>&gt;
    emp_name = <span class="hljs-comment">#&#123;emp.empName&#125;</span>

&lt;/if&gt;
&lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;emp.age !=null and emp.age != &#x27;&#x27;&quot;</span> &gt;
    and age = <span class="hljs-comment">#&#123;emp.age&#125;</span>
&lt;/if&gt;
&lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;emp.gender != null and emp.gender!=&#x27;&#x27;&quot;</span>&gt;
    and gender = <span class="hljs-comment">#&#123;emp.gender&#125;</span>
&lt;/if&gt;
&lt;/select&gt;</code></pre></div>
<p>注意上面的if标签中的属性要添加变量名，不然会报找不到empName的错误。<br><if test = "empName != null and empName != ''"><br>emp_name &#x3D; #{empName}<br></if>（这个会报错的）</p>
<h6 id="where"><a href="#where" class="headerlink" title="where:"></a>where:</h6><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688383957268-bb9ca8b7-ef7c-438d-b045-e1745a67f96f.png#averageHue=%23f7f6f3&clientId=u8aa2d897-50f1-4&from=paste&height=108&id=u55e2024c&originHeight=135&originWidth=673&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=70114&status=done&style=none&taskId=ua3be383d-c361-4141-b8dd-b3becf137d8&title=&width=538.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs bash">&lt;/select&gt;
    &lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpsByConditionWhere&quot;</span> resultType=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
        <span class="hljs-keyword">select</span>  *from  t_emp
        &lt;<span class="hljs-built_in">where</span>&gt;
            &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> = <span class="hljs-string">&quot;emp.empName != null and emp.empName != &#x27;&#x27;&quot;</span>&gt;
                and emp_name = <span class="hljs-comment">#&#123;emp.empName&#125;</span>

            &lt;/if&gt;
            &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;emp.age !=null and emp.age != &#x27;&#x27;&quot;</span> &gt;
                and age = <span class="hljs-comment">#&#123;emp.age&#125;</span>
            &lt;/if&gt;
            &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;emp.gender != null and emp.gender!=&#x27;&#x27;&quot;</span>&gt;
                and gender = <span class="hljs-comment">#&#123;emp.gender&#125;</span>
            &lt;/if&gt;
        &lt;/where&gt;

    &lt;/select&gt;</code></pre></div>
<h6 id="trim标签："><a href="#trim标签：" class="headerlink" title="trim标签："></a>trim标签：</h6><div class="code-wrapper"><pre><code class="hljs bash">&lt;/select&gt;
   &lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;getEmpsByConditionTrim&quot;</span> resultType=<span class="hljs-string">&quot;com.example.demo.object.Emp&quot;</span>&gt;
       <span class="hljs-keyword">select</span>  *from  t_emp
       &lt;trim prefix=<span class="hljs-string">&quot;where&quot;</span>  suffixOverrides=<span class="hljs-string">&quot;and&quot;</span>&gt;
           &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> = <span class="hljs-string">&quot;emp.empName != null and emp.empName != &#x27;&#x27;&quot;</span>&gt;
                emp_name = <span class="hljs-comment">#&#123;emp.empName&#125; and</span>

           &lt;/if&gt;
           &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;emp.age !=null and emp.age != &#x27;&#x27;&quot;</span> &gt;
                age = <span class="hljs-comment">#&#123;emp.age&#125; and</span>
           &lt;/if&gt;
           &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;emp.gender != null and emp.gender!=&#x27;&#x27;&quot;</span>&gt;
                gender = <span class="hljs-comment">#&#123;emp.gender&#125;</span>
           &lt;/if&gt;
       &lt;/trim&gt;

   &lt;/select&gt;</code></pre></div>
<p><trim> 标签是 MyBatis 中用于生成动态 SQL 的标签之一，它可以用于去除 SQL 语句中不必要的逗号、AND 或者 OR 等关键字，从而生成更加紧凑的 SQL 语句。<br><trim> 标签有以下属性：</p>
<ul>
<li>prefix：在 SQL 语句开头添加的字符串。</li>
<li>suffix：在 SQL 语句结尾添加的字符串。</li>
<li>prefixOverrides：需要去除的 SQL 语句开头的字符串。</li>
<li>suffixOverrides：需要去除的 SQL 语句结尾的字符串。</li>
</ul>
<p><trim> 标签的语法如下：</p>
<div class="code-wrapper"><pre><code class="hljs abnf">&lt;trim prefix<span class="hljs-operator">=</span><span class="hljs-string">&quot;&quot;</span> suffix<span class="hljs-operator">=</span><span class="hljs-string">&quot;&quot;</span> prefixOverrides<span class="hljs-operator">=</span><span class="hljs-string">&quot;&quot;</span> suffixOverrides<span class="hljs-operator">=</span><span class="hljs-string">&quot;&quot;</span>&gt;
  SQL statement
&lt;/trim&gt;</code></pre></div>
<p>其中，prefix 和 suffix 属性用于添加前缀和后缀，prefixOverrides 和 suffixOverrides 属性用于去除开头和结尾的字符串。<br>下面是一个使用 <trim> 标签的示例：</p>
<div class="code-wrapper"><pre><code class="hljs bash">&lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;findUsersByCondition&quot;</span> resultType=<span class="hljs-string">&quot;User&quot;</span>&gt;
  SELECT * FROM user
  &lt;<span class="hljs-built_in">where</span>&gt;
    &lt;trim prefix=<span class="hljs-string">&quot;AND&quot;</span> prefixOverrides=<span class="hljs-string">&quot;AND (&quot;</span>&gt;
      &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;username != null&quot;</span>&gt;
        username = <span class="hljs-comment">#&#123;username&#125;</span>
      &lt;/if&gt;
      &lt;<span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;age != null&quot;</span>&gt;
        AND age = <span class="hljs-comment">#&#123;age&#125;</span>
      &lt;/if&gt;
    &lt;/trim&gt;
  &lt;/where&gt;
&lt;/select&gt;</code></pre></div>
<p>在这个示例中，<trim> 标签用于去除 SQL 语句中多余的 AND 关键字。如果 username 或者 age 参数不为空，则会生成类似于 AND username &#x3D; #{username} AND age &#x3D; #{age} 的 SQL 语句，否则只会生成 SELECT * FROM user 的 SQL 语句。</p>
<h6 id="choose-when-otherwise等标签"><a href="#choose-when-otherwise等标签" class="headerlink" title="choose,when,otherwise等标签"></a>choose,when,otherwise等标签</h6><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688384511573-607a6751-25cb-46ca-b1f5-51cc3930e8c8.png#averageHue=%23f7f5ef&clientId=u8aa2d897-50f1-4&from=paste&height=60&id=u0073258c&originHeight=75&originWidth=360&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=25763&status=done&style=none&taskId=ucb5a20f8-c3ba-4791-91b7-5e77c316ed1&title=&width=288" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs bash">&lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;findUsers&quot;</span> resultType=<span class="hljs-string">&quot;User&quot;</span>&gt;
  SELECT * FROM <span class="hljs-built_in">users</span>
  &lt;<span class="hljs-built_in">where</span>&gt;
    &lt;choose&gt;
      &lt;when <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;username != null&quot;</span>&gt;
        AND username = <span class="hljs-comment">#&#123;username&#125;</span>
      &lt;/when&gt;
      &lt;when <span class="hljs-built_in">test</span>=<span class="hljs-string">&quot;email != null&quot;</span>&gt;
        AND email = <span class="hljs-comment">#&#123;email&#125;</span>
      &lt;/when&gt;
      &lt;otherwise&gt;
        AND status = 1
      &lt;/otherwise&gt;
    &lt;/choose&gt;
  &lt;/where&gt;
&lt;/select&gt;</code></pre></div>
<p>在这个示例中，<choose> 标签用于选择一个条件分支，如果 username 参数不为空，则会生成 AND username &#x3D; #{username} 的 SQL 语句，否则如果 email 参数不为空，则会生成 AND email &#x3D; #{email} 的 SQL 语句，否则会生成 AND status &#x3D; 1 的 SQL 语句。<br><choose> 标签通常与 <when> 和 <otherwise> 标签配合使用。<when> 标签用于定义一个条件分支，<otherwise> 标签定义了一个默认的条件分支，它会在所有其他条件都不成立时执行。</p>
<h6 id="foreach"><a href="#foreach" class="headerlink" title="foreach:"></a>foreach:</h6><p>批量添加：注意<foreach>标签中的#{emp.empName}中的emp不能省略</p>
<div class="code-wrapper"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-comment">&lt;!--如果以List传递过来，底层仍旧是map只不过是以list为键,如果以@Parame注解的参数，传递给@Parame的参数就是底层map的键--&gt;</span></span>
<span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">insert</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;insertMoreEmp&quot;</span> &gt;</span></span>
<span class="language-xml">      insert  into  t_emp values</span>
<span class="language-xml">                              <span class="hljs-tag">&lt;<span class="hljs-name">foreach</span> <span class="hljs-attr">collection</span>=<span class="hljs-string">&quot;emps&quot;</span> <span class="hljs-attr">item</span>=<span class="hljs-string">&quot;emp&quot;</span> <span class="hljs-attr">separator</span>=<span class="hljs-string">&quot;,&quot;</span>&gt;</span></span>
<span class="language-xml">                                  (null,#</span><span class="hljs-template-variable">&#123;emp.empName&#125;</span><span class="language-xml">,#</span><span class="hljs-template-variable">&#123;emp.age&#125;</span><span class="language-xml">,#</span><span class="hljs-template-variable">&#123;emp.gender&#125;</span><span class="language-xml">,null)</span>
<span class="language-xml">                              <span class="hljs-tag">&lt;/<span class="hljs-name">foreach</span>&gt;</span></span>
<span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">insert</span>&gt;</span></span></code></pre></div>
<h4 id="Param"><a href="#Param" class="headerlink" title="@Param"></a>@Param</h4><p>@Param 是 MyBatis 中用于指定方法参数名称的注解。在 MyBatis 中，如果一个方法有多个参数，则必须使用 @Param 注解来指定每个参数的名称，以便 MyBatis 可以正确地将参数传递给 SQL 语句。<br>@Param 注解有一个可选的 value 属性，用于指定参数的名称。例如：</p>
<div class="code-wrapper"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserMapper</span> </span>&#123;
  List&lt;User&gt; findUsersByUsernameAndEmail(
    <span class="hljs-meta">@Param</span>(<span class="hljs-string">&quot;username&quot;</span>) <span class="hljs-keyword">String</span> username,
    <span class="hljs-meta">@Param</span>(<span class="hljs-string">&quot;email&quot;</span>) <span class="hljs-keyword">String</span> email);
&#125;</code></pre></div>
<p>在这个示例中，findUsersByUsernameAndEmail 方法有两个参数，分别是 username 和 email，并且使用 @Param 注解指定了它们的名称。在 SQL 语句中，可以使用 #{username} 和 #{email} 占位符来引用这两个参数。<br>需要注意的是，如果方法只有一个参数，并且这个参数是一个简单类型（如 int、String 等），则可以不使用 @Param 注解。在这种情况下，MyBatis 会将参数默认命名为 arg0、arg1 等。但是，为了代码的可读性和可维护性，建议在所有情况下都使用 @Param 注解来指定参数名称。<br>在 XML 映射文件中，可以使用 parameterType 属性来指定方法参数的类型，例如：</p>
<div class="code-wrapper"><pre><code class="hljs bash">&lt;<span class="hljs-keyword">select</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;findUsersByUsernameAndEmail&quot;</span> resultType=<span class="hljs-string">&quot;User&quot;</span>&gt;
  SELECT * FROM <span class="hljs-built_in">users</span>
  WHERE username = <span class="hljs-comment">#&#123;username&#125; AND email = #&#123;email&#125;</span>
&lt;/select&gt;</code></pre></div>
<p>在这个示例中，parameterType 属性指定了方法参数的类型为 java.util.Map，并且在 SQL 语句中使用了 #{username} 和 #{email} 占位符来引用参数。如果使用了 @Param 注解，则可以省略 parameterType 属性。</p>
<h4 id="List-list-Arrays-asList-emp1-emp2-emp3"><a href="#List-list-Arrays-asList-emp1-emp2-emp3" class="headerlink" title="List list &#x3D; Arrays.asList(emp1,emp2,emp3);"></a>List<Emp> list &#x3D; Arrays.asList(emp1,emp2,emp3);</h4><p>这段代码使用了 Java 的 Arrays.asList() 方法将多个 Emp 对象封装成一个 List<Emp> 对象。<br>Arrays.asList() 方法是 Java 中一个常用的工具方法，它可以将一个数组转换为一个 List 对象。在这个示例中，Arrays.asList() 方法将多个 Emp 对象封装成一个 List<Emp> 对象，并将这个 List<Emp> 对象赋给了变量 list。<br>需要注意的是，Arrays.asList() 方法返回的 List 对象是一个固定大小的 List 对象，不能进行添加或删除操作。如果需要进行添加或删除操作，可以使用 ArrayList 等可变大小的 List 实现类来创建 List 对象。例如：</p>
<div class="code-wrapper"><pre><code class="hljs routeros">List&lt;Emp&gt; list = new ArrayList&lt;&gt;();
list.<span class="hljs-built_in">add</span>(emp1);
list.<span class="hljs-built_in">add</span>(emp2);
list.<span class="hljs-built_in">add</span>(emp3);</code></pre></div>
<p>在这个示例中，使用 ArrayList 来创建 List<Emp> 对象，并分别添加了三个 Emp 对象。ArrayList 是一个可变大小的 List 实现类，可以进行添加和删除操作。</p>
<h4 id="foreach标签实现批量删除（通过数组）："><a href="#foreach标签实现批量删除（通过数组）：" class="headerlink" title="foreach标签实现批量删除（通过数组）："></a>foreach标签实现批量删除（通过数组）：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688389747602-947eb4c7-4bfd-4da1-a301-37291e46e86d.png#averageHue=%23f8f7f3&clientId=u8aa2d897-50f1-4&from=paste&height=109&id=ub9b07fed&originHeight=136&originWidth=495&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=50545&status=done&style=none&taskId=u814a3966-0855-45ff-951d-b2b8fbff284&title=&width=396" srcset="/img/loading.gif" lazyload alt="image.png"><br>方法1:<img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688389723082-9bb1dfaa-9058-436c-9232-69886af988cf.png#averageHue=%23f4e8be&clientId=u8aa2d897-50f1-4&from=paste&height=88&id=udc12c1a4&originHeight=110&originWidth=598&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=44948&status=done&style=none&taskId=uf6b698b0-12f4-479a-a3af-4344566010d&title=&width=478.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs pgsql">&lt;<span class="hljs-keyword">delete</span> id=&quot;deleteMoreEmp&quot;&gt;
     <span class="hljs-keyword">delete</span>  <span class="hljs-keyword">from</span> t_emp <span class="hljs-keyword">where</span> emp_id <span class="hljs-keyword">in</span> 

                            &lt;<span class="hljs-keyword">foreach</span> collection=&quot;empIds&quot; item=&quot;empId&quot; separator=&quot;,&quot; <span class="hljs-keyword">open</span>=&quot;(&quot; <span class="hljs-keyword">close</span>=&quot;)&quot;&gt;
                                #&#123;empId&#125;
                            &lt;/<span class="hljs-keyword">foreach</span>&gt;

 &lt;/<span class="hljs-keyword">delete</span>&gt;</code></pre></div>
<p>在 <delete> 标签中使用了 <foreach> 标签，将 empIds 集合中的多个 empId 值循环插入到 SQL 语句中。其中，collection 属性指定了要循环遍历的集合，item 属性指定了集合中的每个 empId 值在 SQL 语句中的占位符名称。，separator 属性的值为逗号 ,，表示在循环遍历 empIds 集合时，每个 empId 值之间会使用逗号作为分隔符分隔。这样，在 SQL 语句中生成的 IN 子句就会以逗号分隔 emp_id 值。open 属性的值为左括号 (，close 属性的值为右括号 )，表示在循环遍历 empIds 集合时，会在 emp_id 值的前后分别添加一个左括号和一个右括号，以便生成正确的 IN 子句。</p>
<h4 id="数据库中的某条数据不为空但是利用mybatis中的mapper查询的时候返回的部分属性为null的原因："><a href="#数据库中的某条数据不为空但是利用mybatis中的mapper查询的时候返回的部分属性为null的原因：" class="headerlink" title="数据库中的某条数据不为空但是利用mybatis中的mapper查询的时候返回的部分属性为null的原因："></a>数据库中的某条数据不为空但是利用mybatis中的mapper查询的时候返回的部分属性为null的原因：</h4><p>1，返回为null的属性没有正确的get和set方法或者返回的类没有无参构造方法。<br>2.数据库中的列的数据类型和类中的数据类型不一致<br>3.<strong>有get和set方法但是类中的属性和数据库列中的名字（不区分大小写）不一样（可以通过resultMap重新映射或者设置别名解决</strong><br>4。查询语句正确指定数据库列的别名（可以通过在 SQL 语句中使用 SELECT 子句并为列指定别名来指定列的别名。例如，假设要查询 employees 表中的 emp_id 和 emp_name 两列，可以使用以下 SQL 语句：</p>
<div class="code-wrapper"><pre><code class="hljs n1ql"><span class="hljs-keyword">SELECT</span> emp_id <span class="hljs-keyword">AS</span> empId, emp_name <span class="hljs-keyword">AS</span> empName <span class="hljs-keyword">FROM</span> employees</code></pre></div>
<p>在这个 SQL 语句中，使用 AS 关键字为 emp_id 和 emp_name 列指定了别名 empId 和 empName。这样，在 MyBatis 将查询结果映射为 Emp 对象时，就会将 empId 列的值映射到 Emp 对象的 empId 属性中，将 empName 列的值映射到 Emp 对象的 empName 属性中。<br>如果使用 MyBatis 提供的 Mapper XML 文件来编写 SQL 语句，可以在 <resultMap> 标签中使用 <result> 标签来指定列的别名。例如：</p>
<div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-operator">&lt;</span>resultMap id<span class="hljs-operator">=</span>&quot;empResultMap&quot; type<span class="hljs-operator">=</span>&quot;Emp&quot;<span class="hljs-operator">&gt;</span>
  <span class="hljs-operator">&lt;</span><span class="hljs-keyword">result</span> <span class="hljs-keyword">column</span><span class="hljs-operator">=</span>&quot;emp_id&quot; property<span class="hljs-operator">=</span>&quot;empId&quot;<span class="hljs-operator">/</span><span class="hljs-operator">&gt;</span>
  <span class="hljs-operator">&lt;</span><span class="hljs-keyword">result</span> <span class="hljs-keyword">column</span><span class="hljs-operator">=</span>&quot;emp_name&quot; property<span class="hljs-operator">=</span>&quot;empName&quot;<span class="hljs-operator">/</span><span class="hljs-operator">&gt;</span>
<span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span>resultMap<span class="hljs-operator">&gt;</span>

<span class="hljs-operator">&lt;</span><span class="hljs-keyword">select</span> id<span class="hljs-operator">=</span>&quot;selectEmps&quot; resultMap<span class="hljs-operator">=</span>&quot;empResultMap&quot;<span class="hljs-operator">&gt;</span>
  <span class="hljs-keyword">SELECT</span> emp_id, emp_name <span class="hljs-keyword">FROM</span> employees
<span class="hljs-operator">&lt;</span><span class="hljs-operator">/</span><span class="hljs-keyword">select</span><span class="hljs-operator">&gt;</span></code></pre></div>
<p>在这个示例中，使用 <result> 标签为 emp_id 和 emp_name 列指定了别名 empId 和 empName。在 <select> 标签中，使用 resultMap 属性指定了要使用的结果映射规则。这样，在 MyBatis 映射查询结果时，就会将 empId 列的值映射到 Emp 对象的 empId 属性中，将 empName 列的值映射到 Emp 对象的 empName 属性中。）</p>
<h4 id="sql标签："><a href="#sql标签：" class="headerlink" title="sql标签："></a>sql标签：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688389907859-50743d07-8203-4331-88fa-a19ddf64a86e.png#averageHue=%23f7f8f3&clientId=u8aa2d897-50f1-4&from=paste&height=110&id=ubc3e8d00&originHeight=137&originWidth=492&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=46143&status=done&style=none&taskId=u491a6728-31dc-42f3-80fb-0e67c23ee9c&title=&width=393.6" srcset="/img/loading.gif" lazyload alt="image.png"><br>MyBatis 中的 <sql> 标签用于定义可重用的 SQL 片段，可以在 Mapper XML 文件中定义 <sql> 标签，并在需要使用这些 SQL 片段的地方引用它们。<br>例如，可以在 Mapper XML 文件中定义一个 <sql> 标签，用于定义一个可重用的 SQL 片段：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">sql</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;selectColumns&quot;</span>&gt;</span>
  emp_id, emp_name, emp_salary
<span class="hljs-tag">&lt;/<span class="hljs-name">sql</span>&gt;</span></code></pre></div>
<p>在这个示例中，<sql> 标签的 id 属性指定了 SQL 片段的名称为 selectColumns，<sql> 标签的内容为 SQL 片段的内容，包括查询的列名。<br>在需要使用这个 SQL 片段的地方，可以使用 ${} 占位符来引用它。例如：</p>
<div class="code-wrapper"><pre><code class="hljs axapta">&lt;<span class="hljs-keyword">select</span> id=<span class="hljs-string">&quot;selectEmp&quot;</span> resultType=<span class="hljs-string">&quot;Emp&quot;</span>&gt;
  <span class="hljs-keyword">select</span> &lt;include refid=<span class="hljs-string">&quot;selectColumns&quot;</span>/&gt; <span class="hljs-keyword">from</span> t_emp
  <span class="hljs-keyword">where</span> emp_id = <span class="hljs-meta">#&#123;empId&#125;</span>
&lt;/<span class="hljs-keyword">select</span>&gt;</code></pre></div>
<p>在这个示例中，使用 <include> 标签引用了之前定义的 SQL 片段，refid 属性指定了 SQL 片段的名称为 selectColumns。这样，在生成 SQL 语句时，MyBatis 会将 <include> 标签替换为 SQL 片段的内容，生成完整的 SQL 语句。<br>使用 <sql> 标签可以避免在 Mapper XML 文件中重复编写相同的 SQL 片段，提高了代码的重用性和可维护性。同时，使用 <sql> 标签还可以将复杂的 SQL 语句拆分为多个可重用的 SQL 片段，使 SQL 语句更加清晰易懂。</p>
<h4 id="Mybatis的一级缓存："><a href="#Mybatis的一级缓存：" class="headerlink" title="Mybatis的一级缓存："></a>Mybatis的一级缓存：</h4><p>MyBatis 的一级缓存是指在同一个 SqlSession 中，对于相同的查询语句和查询条件，MyBatis 可以将查询结果缓存起来，以便后续的查询可以直接使用缓存中的数据，而不需要再次执行 SQL 查询。<br>一级缓存是 MyBatis 默认开启的，它存储在 SqlSession 中，可以提高查询效率，减少与数据库的交互次数。在同一个 SqlSession 中，如果多次查询相同的数据，那么只有第一次查询会触发 SQL 查询，后续的查询都会从缓存中获取数据，从而提高查询效率。<br>一级缓存的实现方式是将查询结果存储在一个 Map 对象中，Map 的键值是查询语句和查询条件的组合，Map 的值是查询结果。在同一个 SqlSession 中，如果执行了更新、插入或删除操作，那么 MyBatis 会自动清空一级缓存，以保证缓存中的数据与数据库保持一致。<br>需要注意的是，一级缓存的作用范围仅限于同一个 SqlSession 中，如果使用多个 SqlSession 进行查询，那么每个 SqlSession 都会独立地维护自己的一级缓存。因此，在某些情况下，如果需要共享缓存，可以考虑使用 MyBatis 的二级缓存。<br>另外，MyBatis 还提供了一些配置选项，可以对一级缓存进行调整或禁用。例如，可以通过设置 localCacheScope 属性为 STATEMENT 来禁用一级缓存，或者通过设置 flushCache&#x3D;”true” 属性来强制清空一级缓存。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396424415-687b36d7-e3c3-4a5f-9f23-a02fb1b58f9b.png#averageHue=%23f8f6f2&clientId=u8aa2d897-50f1-4&from=paste&height=73&id=u8026bf37&originHeight=91&originWidth=652&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41428&status=done&style=none&taskId=uc01ff294-247e-46ce-8889-263a6b86699&title=&width=521.6" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="一级缓存失效的方法："><a href="#一级缓存失效的方法：" class="headerlink" title="一级缓存失效的方法："></a>一级缓存失效的方法：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396541434-1cd69218-c8aa-41cf-aaf4-5a5c0eef141d.png#averageHue=%23f3f0e3&clientId=u8aa2d897-50f1-4&from=paste&height=76&id=uefa3461d&originHeight=95&originWidth=539&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=52768&status=done&style=none&taskId=u3b11ab90-74ff-40ea-879d-d74e672b542&title=&width=431.2" srcset="/img/loading.gif" lazyload alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396659083-f001f90c-23d1-4c6a-9a20-94fbd5b384b3.png#averageHue=%230c105a&clientId=u8aa2d897-50f1-4&from=paste&height=26&id=u1fa572bb&originHeight=33&originWidth=430&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=5630&status=done&style=none&taskId=uc3449976-cac5-4456-b241-d26d5e2d19b&title=&width=344" srcset="/img/loading.gif" lazyload alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688396689464-0d97e285-c710-4b7a-a84d-259467bc55ae.png#averageHue=%230a0806&clientId=u8aa2d897-50f1-4&from=paste&height=186&id=u2d7e60d4&originHeight=233&originWidth=1205&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=58398&status=done&style=none&taskId=u0dedc2b5-5b5e-4488-b223-9360949ed46&title=&width=964" srcset="/img/loading.gif" lazyload alt="image.png"><br>执行结果的日志有2次sql语句，表示从数据库中进行了2次操作</p>
<h4 id="Mybatis的二级缓存："><a href="#Mybatis的二级缓存：" class="headerlink" title="Mybatis的二级缓存："></a>Mybatis的二级缓存：</h4><p>MyBatis 的二级缓存是指在多个 SqlSession 之间共享查询结果的缓存机制。与一级缓存不同，二级缓存的作用范围不仅限于同一个 SqlSession，而是可以跨越多个 SqlSession，甚至是多个应用程序实例。使用二级缓存可以减少与数据库的交互次数，提高应用程序的性能。<br>二级缓存的实现方式是将查询结果存储在一个可插拔的缓存实现中，可以选择使用 Ehcache、Redis 等第三方缓存框架，也可以使用 MyBatis 内置的缓存实现。在同一个应用程序实例中，多个 SqlSession 可以共享同一个缓存实现，从而实现数据的共享。<br>开启二级缓存需要在 Mapper XML 文件中配置 <cache> 标签，并在 MyBatis 配置文件中开启二级缓存功能。例如，可以在 MyBatis 配置文件中添加以下配置：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">settings</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">setting</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;cacheEnabled&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">settings</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span></code></pre></div>
<p>在 Mapper XML 文件中，可以添加 <cache> 标签来配置二级缓存的相关属性。例如：</p>
<div class="code-wrapper"><pre><code class="hljs routeros">&lt;cache
    <span class="hljs-attribute">eviction</span>=<span class="hljs-string">&quot;LRU&quot;</span>
    <span class="hljs-attribute">flushInterval</span>=<span class="hljs-string">&quot;60000&quot;</span>
    <span class="hljs-attribute">size</span>=<span class="hljs-string">&quot;1024&quot;</span>
    <span class="hljs-attribute">readOnly</span>=<span class="hljs-string">&quot;true&quot;</span>/&gt;</code></pre></div>
<p>在这个示例中，eviction 属性指定了缓存的清除策略为 LRU（Least Recently Used），flushInterval 属性指定了缓存的自动刷新时间为 60 秒，size 属性指定了缓存的最大大小为 1024，readOnly 属性指定了缓存是否只读。这些属性的含义和配置方式可以参考 MyBatis 的官方文档。<br>需要注意的是，二级缓存有一些限制和注意事项。例如，二级缓存中存储的数据是序列化后的对象，可能会导致性能下降；同时，如果数据被频繁地更新，那么缓存的命中率会降低，甚至会出现脏数据。因此，在使用二级缓存时，需要根据具体的业务场景进行适当的配置和调整。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688397300290-7655560e-531b-452a-ac89-479a70cb3094.png#averageHue=%23f2eee3&clientId=u8aa2d897-50f1-4&from=paste&height=150&id=u7faa80f9&originHeight=187&originWidth=724&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=119020&status=done&style=none&taskId=u450db797-c8a8-4f62-abea-2d36114a7a2&title=&width=579.2" srcset="/img/loading.gif" lazyload alt="image.png"><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688397344021-b232c95d-45e8-4f83-b402-09c4fa5359ed.png#averageHue=%23efebdc&clientId=u8aa2d897-50f1-4&from=paste&height=49&id=u2cf0333d&originHeight=61&originWidth=524&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=30065&status=done&style=none&taskId=u93b7c066-d641-44c1-9212-6c90f53913d&title=&width=419.2" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="Mybatis缓存查询顺序："><a href="#Mybatis缓存查询顺序：" class="headerlink" title="Mybatis缓存查询顺序："></a>Mybatis缓存查询顺序：</h4><p>一级缓存只有在关闭或者提交的时候才会在二级缓存中生成数据。</p>
<h4 id="整合第三方缓存："><a href="#整合第三方缓存：" class="headerlink" title="整合第三方缓存："></a>整合第三方缓存：</h4><p>是在二级缓存的基础上存在的。</p>
<h4 id="Mybatis的逆向工程："><a href="#Mybatis的逆向工程：" class="headerlink" title="Mybatis的逆向工程："></a>Mybatis的逆向工程：</h4><p>1.在pom.xml增加插件的配置文件：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugin</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.generator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>

                <span class="hljs-comment">&lt;!-- 插件的依赖    --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- 逆向工程的核心依赖    --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.mybatis.generator<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mybatis-generator-core<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.3.2<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- MySQL驱动    --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
               <span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span></code></pre></div>
<p>2.新增generatoeConfig.xml配置文件：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">generatorConfiguration</span></span>
<span class="hljs-meta">       <span class="hljs-keyword">PUBLIC</span> <span class="hljs-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span>
<span class="hljs-meta">        <span class="hljs-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">generatorConfiguration</span>&gt;</span>
        <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">targetRuntime: 执行生成的逆向工程的版本</span>
<span class="hljs-comment">MyBatis3Simple: 生成基本的CRUD（清新简洁版）</span>
<span class="hljs-comment">MyBatis3: 生成带条件的CRUD（奢华尊享版）</span>
<span class="hljs-comment"> --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">context</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;DB2Tables&quot;</span> <span class="hljs-attr">targetRuntime</span>=<span class="hljs-string">&quot;MyBatis3&quot;</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 数据库的连接信息    --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">jdbcConnection</span> <span class="hljs-attr">driverClass</span>=<span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span></span>
<span class="hljs-tag">        <span class="hljs-attr">connectionURL</span>=<span class="hljs-string">&quot;jdbc:mysql://localhost:3306/myemployees?serverTimezone=UTC&quot;</span></span>
<span class="hljs-tag">        <span class="hljs-attr">userId</span>=<span class="hljs-string">&quot;root&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">password</span>=<span class="hljs-string">&quot;A86789234&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">jdbcConnection</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- javaBean的生成策略targetPackage是javaBean生成的目标包，targetProject是生成的路径，.表示</span>
<span class="hljs-comment">        项目根目录路径，..表示上一级路径,配置这种类似的时候注意路径--&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">javaModelGenerator</span> <span class="hljs-attr">targetPackage</span>=<span class="hljs-string">&quot;com.example.demo.pojo&quot;</span></span>
<span class="hljs-tag">        <span class="hljs-attr">targetProject</span>=<span class="hljs-string">&quot;.\src\main\java&quot;</span>&gt;</span>
          <span class="hljs-comment">&lt;!--能否使用子包--&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;enableSubPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>
          <span class="hljs-comment">&lt;!--把当前字段的前后空格字符去掉生成实体类的属性--&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;trimStrings&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">javaModelGenerator</span>&gt;</span>
       <span class="hljs-comment">&lt;!-- SQL映射文件的生成策略 生成在com.example.mybatis.mapper包中的.\src\main\resources路径下   --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">sqlMapGenerator</span> <span class="hljs-attr">targetPackage</span>=<span class="hljs-string">&quot;com.example.demo.mapper&quot;</span></span>
<span class="hljs-tag">        <span class="hljs-attr">targetProject</span>=<span class="hljs-string">&quot;.\src\main\resources&quot;</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;enableSubPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">sqlMapGenerator</span>&gt;</span>
       <span class="hljs-comment">&lt;!-- Mapper接口的生成策略    --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">javaClientGenerator</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;XMLMAPPER&quot;</span></span>
<span class="hljs-tag">        <span class="hljs-attr">targetPackage</span>=<span class="hljs-string">&quot;com.example.demo.mapper&quot;</span> <span class="hljs-attr">targetProject</span>=<span class="hljs-string">&quot;.\src\main\java&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;enableSubPackages&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">javaClientGenerator</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 逆向分析的表    --&gt;</span>
       <span class="hljs-comment">&lt;!-- tableName设置为*号，可以对应所有表，此时不写domainObjectName --&gt;</span>
        <span class="hljs-comment">&lt;!-- domainObjectName属性指定生成出来的实体类的类名    --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">tableName</span>=<span class="hljs-string">&quot;t_emp&quot;</span> <span class="hljs-attr">domainObjectName</span>=<span class="hljs-string">&quot;Emp&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">tableName</span>=<span class="hljs-string">&quot;t_dept&quot;</span> <span class="hljs-attr">domainObjectName</span>=<span class="hljs-string">&quot;Dept&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">context</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">generatorConfiguration</span>&gt;</span></code></pre></div>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688456443867-c4b537bf-6dc4-4261-90a3-20cb0e92b210.png#averageHue=%23faf9f5&clientId=u378e3c4c-7292-4&from=paste&height=164&id=ue439f11f&originHeight=205&originWidth=396&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49632&status=done&style=none&taskId=u384443b0-43f4-4288-a120-e26c7288230&title=&width=316.8" srcset="/img/loading.gif" lazyload alt="image.png">insert和insertSelective的区别：如果某个属性为null的时候，insert是给改属性对应的列赋值为null,(如果该列有默认值就不会把改列赋值为默认值）,insertSelective是当某个属性为null的时候，不会把该属性对应的列插入数据，使其为默认值（如果有默认值的话）</p>
<h6 id="3-生成的特殊EmpExample类和EmpMapper接口的分析："><a href="#3-生成的特殊EmpExample类和EmpMapper接口的分析：" class="headerlink" title="3.生成的特殊EmpExample类和EmpMapper接口的分析："></a>3.生成的特殊EmpExample类和EmpMapper接口的分析：</h6><p>MyBatis3 逆向工程生成的 EmpExample 类是用于封装 MyBatis 查询条件的一个实例。EmpExample 类主要包含以下属性和方法：<br><strong>属性：</strong></p>
<ul>
<li>oredCriteria：一个 List<Criteria> 类型的属性，用于存放多个 Criteria 对象，每个 Criteria 对象代表一个查询条件。</li>
<li>orderByClause：一个 String 类型的属性，用于存放查询结果的排序方式。相当于 SQL 中的 order by 子句。</li>
<li>distinct：一个 boolean 类型的属性，用于指定查询结果是否去重。相当于 SQL 中的 distinct 关键字。</li>
</ul>
<p><strong>方法：</strong></p>
<ul>
<li>EmpExample()：无参构造方法，用于创建一个 EmpExample 对象。</li>
<li>createCriteria()：创建一个 Criteria 对象，并将该对象添加到 oredCriteria 列表中。</li>
<li>getOredCriteria()：获取 oredCriteria 列表，用于设置多个查询条件的情况。</li>
<li>setOrderByClause(String orderByClause)：设置查询结果的排序方式。</li>
<li>getOrderByClause()：获取查询结果的排序方式。</li>
<li>setDistinct(boolean distinct)：设置查询结果是否去重。</li>
<li>isDistinct()：获取查询结果是否去重。</li>
<li>clear()：清空查询条件。</li>
</ul>
<p>通过 EmpExample 类，可以方便地构建查询条件，实现更加灵活的查询操作。可以通过 createCriteria() 方法创建一个 Criteria 对象，然后通过 Criteria 对象的方法设置查询条件，例如：</p>
<div class="code-wrapper"><pre><code class="hljs abnf">EmpExample example <span class="hljs-operator">=</span> new EmpExample()<span class="hljs-comment">;</span>
Criteria criteria <span class="hljs-operator">=</span> example.createCriteria()<span class="hljs-comment">;</span>
criteria.andNameEqualTo(<span class="hljs-string">&quot;Tom&quot;</span>)<span class="hljs-comment">;</span>
criteria.andAgeGreaterThan(<span class="hljs-number">20</span>)<span class="hljs-comment">;</span></code></pre></div>
<p>这个示例代码中，首先创建一个 EmpExample 对象，然后调用 createCriteria() 方法创建一个 Criteria 对象，使用 andNameEqualTo(“Tom”) 方法和 andAgeGreaterThan(20) 方法设置查询条件，表示查询名称为 Tom 并且年龄大于 20 的数据。其中Criteria是内部类。<br>除了设置查询条件之外，还可以通过 setOrderByClause() 方法设置查询结果的排序方式，通过 setDistinct() 方法设置查询结果是否去重。最后，可以通过调用 empMapper.selectByExample(example) 方法执行查询操作，获取查询结果列表。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688472828411-60ffd7e0-98c9-44f1-a245-fe4adad4e778.png#averageHue=%233c4144&clientId=u25015969-4d62-4&from=paste&height=362&id=ub36475a5&originHeight=453&originWidth=551&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=40207&status=done&style=none&taskId=ufcf6ef16-df2c-4ba8-a361-5f1d5ed75b9&title=&width=440.8" srcset="/img/loading.gif" lazyload alt="image.png">其实还有一些内部类，在使用的时候可以通过图来快速查看。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688472719439-4c5f8b0a-b6f8-47f9-af20-38bb50934042.png#averageHue=%233c4242&clientId=u25015969-4d62-4&from=paste&height=375&id=ubc2c4168&originHeight=469&originWidth=558&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=47881&status=done&style=none&taskId=u0162f579-9579-4c01-aa03-7b36c40064f&title=&width=446.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs csharp"><span class="hljs-number">1.</span><span class="hljs-function"><span class="hljs-built_in">int</span> <span class="hljs-title">insertSelective</span>(<span class="hljs-params">Emp <span class="hljs-keyword">record</span></span>)：选择性地插入一条记录到 Emp 表中，只插入指定属性不为 <span class="hljs-literal">null</span> 的字段。</span>
<span class="hljs-function"></span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs abnf">EmpMapper empMapper <span class="hljs-operator">=</span> sqlSession.getMapper(EmpMapper.class)<span class="hljs-comment">;</span>

// 查询操作
EmpExample example <span class="hljs-operator">=</span> new EmpExample()<span class="hljs-comment">;</span>
example.createCriteria().andNameEqualTo(<span class="hljs-string">&quot;Tom&quot;</span>)<span class="hljs-comment">;</span>
List&lt;Emp&gt; empList <span class="hljs-operator">=</span> empMapper.selectByExample(example)<span class="hljs-comment">;</span>

// 插入操作
Emp emp <span class="hljs-operator">=</span> new Emp()<span class="hljs-comment">;</span>
emp.setName(<span class="hljs-string">&quot;Jerry&quot;</span>)<span class="hljs-comment">;</span>
emp.setAge(<span class="hljs-number">30</span>)<span class="hljs-comment">;</span>
int rows <span class="hljs-operator">=</span> empMapper.insert(emp)<span class="hljs-comment">;</span>

// 更新操作
Emp emp <span class="hljs-operator">=</span> new Emp()<span class="hljs-comment">;</span>
emp.setId(<span class="hljs-number">1</span>)<span class="hljs-comment">;</span>
emp.setName(<span class="hljs-string">&quot;Tom&quot;</span>)<span class="hljs-comment">;</span>
int rows <span class="hljs-operator">=</span> empMapper.updateByPrimaryKey(emp)<span class="hljs-comment">;</span>

// 删除操作
int rows <span class="hljs-operator">=</span> empMapper.deleteByPrimaryKey(<span class="hljs-number">1</span>)<span class="hljs-comment">;</span></code></pre></div>
<h4 id="分页功能；"><a href="#分页功能；" class="headerlink" title="分页功能；"></a>分页功能；</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688467784015-e3f4255f-74c4-4104-b1c0-4d6d725cc6af.png#averageHue=%23fbfbfa&clientId=u378e3c4c-7292-4&from=paste&height=98&id=u21bfceb8&originHeight=123&originWidth=305&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=24673&status=done&style=none&taskId=u0e79f71a-6dd2-4a0c-896c-ffe26862945&title=&width=244" srcset="/img/loading.gif" lazyload alt="image.png"><br>在pom.xml中添加分页插件：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">plugins</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">plugin</span> <span class="hljs-attr">interceptor</span>=<span class="hljs-string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">plugin</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">plugins</span>&gt;</span></code></pre></div>
<p>可以通过IDEA搜索获取插件的地址<img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688468705713-fca2e56f-8e44-439f-8706-467ae1d38c42.png#averageHue=%23c1b040&clientId=u378e3c4c-7292-4&from=paste&height=98&id=ud86358a9&originHeight=122&originWidth=862&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=15158&status=done&style=none&taskId=uf8a27513-52c4-4f2b-9024-a2ac900ba32&title=&width=689.6" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="开启分页查询：PageHelper-startPage-1-4"><a href="#开启分页查询：PageHelper-startPage-1-4" class="headerlink" title="开启分页查询：PageHelper.startPage(1,4);"></a>开启分页查询：PageHelper.startPage(1,4);</h4><p><strong>PageHelper.startPage(1,4) 是一个 Mybatis 分页插件的方法，它的作用是在执行查询之前设置分页参数，表示从第 1 页开始，每页显示 4 条记录。PageHelper 会自动拦截查询语句，添加 limit 子句，实现物理分页</strong></p>
<div class="code-wrapper"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span>  <span class="hljs-title">testPage</span>() throws IOException</span> &#123;
       InputStream <span class="hljs-keyword">is</span> =  Resources.getResourceAsStream(<span class="hljs-string">&quot;mybatis-config.xml&quot;</span>);
       SqlSessionFactoryBuilder sqlSessionFactoryBuilder = <span class="hljs-keyword">new</span>
               SqlSessionFactoryBuilder();
       SqlSessionFactory sqlSessionFactory = sqlSessionFactoryBuilder.build(<span class="hljs-keyword">is</span>);
       SqlSession sqlSession = sqlSessionFactory.openSession(<span class="hljs-literal">true</span>);
       EmpMapper emp = sqlSession.getMapper(EmpMapper.<span class="hljs-keyword">class</span>);
       <span class="hljs-comment">//查询功能前开启分页</span>
       Page&lt;Object&gt; page = PageHelper.startPage(<span class="hljs-number">1</span>,<span class="hljs-number">4</span>);
       List&lt;Emp&gt; list = emp.selectByExample(<span class="hljs-literal">null</span>);
       System.<span class="hljs-keyword">out</span>.println(list);
       System.<span class="hljs-keyword">out</span>.println(page);

   &#125;</code></pre></div>
<p><strong>显示的结果为：</strong></p>
<div class="code-wrapper"><pre><code class="hljs axapta"><span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.157</span> [main] DEBUG org.apache.ibatis.datasource.pooled.PooledDataSource - Checked out connection <span class="hljs-number">417301556</span> <span class="hljs-keyword">from</span> pool.
<span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.159</span> [main] DEBUG com.example.demo.mapper.EmpMapper.selectByExample_COUNT - ==&gt;  Preparing: SELECT <span class="hljs-keyword">count</span>(<span class="hljs-number">0</span>) FROM t_emp
<span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.180</span> [main] DEBUG com.example.demo.mapper.EmpMapper.selectByExample_COUNT - ==&gt; Parameters: 
<span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.197</span> [main] DEBUG com.example.demo.mapper.EmpMapper.selectByExample_COUNT - &lt;==      Total: <span class="hljs-number">1</span>
<span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.199</span> [main] DEBUG com.example.demo.mapper.EmpMapper.selectByExample - ==&gt;  Preparing: <span class="hljs-keyword">select</span> emp_id, emp_name, age, gender, dept_id <span class="hljs-keyword">from</span> t_emp LIMIT ?
<span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.199</span> [main] DEBUG com.example.demo.mapper.EmpMapper.selectByExample - ==&gt; Parameters: <span class="hljs-number">4</span>(Integer)
<span class="hljs-number">19</span>:<span class="hljs-number">36</span>:<span class="hljs-number">56.202</span> [main] DEBUG com.example.demo.mapper.EmpMapper.selectByExample - &lt;==      Total: <span class="hljs-number">4</span>
Page&#123;<span class="hljs-keyword">count</span>=<span class="hljs-literal">true</span>, pageNum=<span class="hljs-number">1</span>, pageSize=<span class="hljs-number">4</span>, startRow=<span class="hljs-number">0</span>, endRow=<span class="hljs-number">4</span>, total=<span class="hljs-number">4</span>, pages=<span class="hljs-number">1</span>, reasonable=<span class="hljs-literal">false</span>, pageSizeZero=<span class="hljs-literal">false</span>&#125;[Emp&#123;empId=<span class="hljs-number">1</span>, empName=<span class="hljs-string">&#x27;张三&#x27;</span>, age=<span class="hljs-number">20</span>, gender=<span class="hljs-string">&#x27;男&#x27;</span>, deptId=<span class="hljs-number">1</span>&#125;, Emp&#123;empId=<span class="hljs-number">2</span>, empName=<span class="hljs-string">&#x27;李四&#x27;</span>, age=<span class="hljs-number">21</span>, gender=<span class="hljs-string">&#x27;女&#x27;</span>, deptId=<span class="hljs-number">2</span>&#125;, Emp&#123;empId=<span class="hljs-number">3</span>, empName=<span class="hljs-string">&#x27;王五&#x27;</span>, age=<span class="hljs-number">22</span>, gender=<span class="hljs-string">&#x27;男&#x27;</span>, deptId=<span class="hljs-number">3</span>&#125;, Emp&#123;empId=<span class="hljs-number">4</span>, empName=<span class="hljs-string">&#x27;赵六&#x27;</span>, age=<span class="hljs-number">23</span>, gender=<span class="hljs-string">&#x27;女&#x27;</span>, deptId=<span class="hljs-number">1</span>&#125;]
Page&#123;<span class="hljs-keyword">count</span>=<span class="hljs-literal">true</span>, pageNum=<span class="hljs-number">1</span>, pageSize=<span class="hljs-number">4</span>, startRow=<span class="hljs-number">0</span>, endRow=<span class="hljs-number">4</span>, total=<span class="hljs-number">4</span>, pages=<span class="hljs-number">1</span>, reasonable=<span class="hljs-literal">false</span>, pageSizeZero=<span class="hljs-literal">false</span>&#125;[Emp&#123;empId=<span class="hljs-number">1</span>, empName=<span class="hljs-string">&#x27;张三&#x27;</span>, age=<span class="hljs-number">20</span>, gender=<span class="hljs-string">&#x27;男&#x27;</span>, deptId=<span class="hljs-number">1</span>&#125;, Emp&#123;empId=<span class="hljs-number">2</span>, empName=<span class="hljs-string">&#x27;李四&#x27;</span>, age=<span class="hljs-number">21</span>, gender=<span class="hljs-string">&#x27;女&#x27;</span>, deptId=<span class="hljs-number">2</span>&#125;, Emp&#123;empId=<span class="hljs-number">3</span>, empName=<span class="hljs-string">&#x27;王五&#x27;</span>, age=<span class="hljs-number">22</span>, gender=<span class="hljs-string">&#x27;男&#x27;</span>, deptId=<span class="hljs-number">3</span>&#125;, Emp&#123;empId=<span class="hljs-number">4</span>, empName=<span class="hljs-string">&#x27;赵六&#x27;</span>, age=<span class="hljs-number">23</span>, gender=<span class="hljs-string">&#x27;女&#x27;</span>, deptId=<span class="hljs-number">1</span>&#125;]

进程已结束,退出代码<span class="hljs-number">0</span>
<span class="hljs-comment">//可以看出显示的list被分页显示了。</span>
<span class="hljs-comment">//查询结果通过 selectByExample() 方法获取，这个方法的参数是一个空的 Example 对象，表示查询所有数据。查询结果是一个 Emp 对象列表。</span>
<span class="hljs-comment">//最后，分页信息可以通过输出 Page 对象来获取。Page 是 PageHelper 插件提供的一个分页信息类，它包含了当前页码、每页数据条数、总数据条数等分页信息。在这个示例代码中，通过输出 page 对象来获取分页信息。</span>
</code></pre></div>
<p>为什么输出的list会有多余的Pagr信息<br>在这个示例代码中，输出的 list 中包含了多余的 Page 信息，是因为 PageHelper.startPage() 方法返回的是一个 Page 对象，这个 Page 对象包含了分页信息和查询结果列表。<br>因此，在查询操作完成之后，如果直接输出查询结果列表，会同时输出 Page 对象的信息和查询结果列表的信息。如果只想输出查询结果列表，可以通过调用 Page 对象的 getList() 方法来获取查询结果列表，例如：</p>
<div class="code-wrapper"><pre><code class="hljs sas"><span class="hljs-keyword">List</span>&lt;Emp&gt; <span class="hljs-keyword">list</span> = emp.selectByExample(<span class="hljs-keyword">null</span>);
<span class="hljs-keyword">Page</span>&lt;Object&gt; <span class="hljs-keyword">page</span> = PageHelper.startPage(1, 4);
<span class="hljs-keyword">List</span>&lt;Emp&gt; resultList = <span class="hljs-keyword">page</span>.getResult();
System.<span class="hljs-keyword">out</span>.printl<span class="hljs-meta">n</span>(resultList);</code></pre></div>
<p>在这个示例代码中，先调用 emp.selectByExample(null) 方法获取查询结果列表，然后再调用 Page 对象的 getResult() 方法获取查询结果列表。这样就可以避免输出多余的 Page 信息。</p>
<h4 id="PageInfo"><a href="#PageInfo" class="headerlink" title="PageInfo&lt;&gt;"></a>PageInfo&lt;&gt;</h4><div class="code-wrapper"><pre><code class="hljs stylus">PageInfo&lt;T&gt; 是 MyBatis 分页插件 PageHelper 提供的一个分页信息类，用于封装分页信息和查询结果列表。

PageInfo&lt;T&gt; 类包含以下属性：

pageNum：当前页码。

pageSize：每页显示的数据条数。

size：当前页的实际数据条数。

startRow：当前页第一条数据的行号。

endRow：当前页最后一条数据的行号。

total：总数据条数。

pages：总页数。

list：查询结果列表。

prePage：上一页页码。

nextPage：下一页页码。

isFirstPage：是否为第一页。

isLastPage：是否为最后一页。

hasPreviousPage：是否有上一页。

hasNextPage：是否有下一页。

navigatePages：导航页码数。

navigatepageNums：所有导航页号。

PageInfo&lt;T&gt; 类常用的方法有：

<span class="hljs-function"><span class="hljs-title">PageInfo</span><span class="hljs-params">(List&lt;T&gt; list, int navigatePages)</span></span>：构造方法，用于创建一个 PageInfo 对象。

<span class="hljs-function"><span class="hljs-title">getPageNum</span><span class="hljs-params">()</span></span>：获取当前页码。

<span class="hljs-function"><span class="hljs-title">getPageSize</span><span class="hljs-params">()</span></span>：获取每页显示的数据条数。

<span class="hljs-function"><span class="hljs-title">getSize</span><span class="hljs-params">()</span></span>：获取当前页的实际数据条数。

<span class="hljs-function"><span class="hljs-title">getStartRow</span><span class="hljs-params">()</span></span>：获取当前页第一条数据的行号。

<span class="hljs-function"><span class="hljs-title">getEndRow</span><span class="hljs-params">()</span></span>：获取当前页最后一条数据的行号。

<span class="hljs-function"><span class="hljs-title">getTotal</span><span class="hljs-params">()</span></span>：获取总数据条数。

<span class="hljs-function"><span class="hljs-title">getPages</span><span class="hljs-params">()</span></span>：获取总页数。

<span class="hljs-function"><span class="hljs-title">getList</span><span class="hljs-params">()</span></span>：获取查询结果列表。

<span class="hljs-function"><span class="hljs-title">getPrePage</span><span class="hljs-params">()</span></span>：获取上一页页码。

<span class="hljs-function"><span class="hljs-title">getNextPage</span><span class="hljs-params">()</span></span>：获取下一页页码。

<span class="hljs-function"><span class="hljs-title">isFirstPage</span><span class="hljs-params">()</span></span>：判断是否为第一页。

<span class="hljs-function"><span class="hljs-title">isLastPage</span><span class="hljs-params">()</span></span>：判断是否为最后一页。

<span class="hljs-function"><span class="hljs-title">hasPreviousPage</span><span class="hljs-params">()</span></span>：判断是否有上一页。

<span class="hljs-function"><span class="hljs-title">hasNextPage</span><span class="hljs-params">()</span></span>：判断是否有下一页。

<span class="hljs-function"><span class="hljs-title">getNavigatePages</span><span class="hljs-params">()</span></span>：获取导航页码数。

<span class="hljs-function"><span class="hljs-title">getNavigatepageNums</span><span class="hljs-params">()</span></span>：获取所有导航页号。</code></pre></div>
<p>输出的信息”</p>
<div class="code-wrapper"><pre><code class="hljs routeros">PageInfo&#123;<span class="hljs-attribute">pageNum</span>=1, <span class="hljs-attribute">pageSize</span>=4, <span class="hljs-attribute">size</span>=4, <span class="hljs-attribute">startRow</span>=1, <span class="hljs-attribute">endRow</span>=4, <span class="hljs-attribute">total</span>=4, <span class="hljs-attribute">pages</span>=1,
<span class="hljs-attribute">list</span>=Page&#123;<span class="hljs-attribute">count</span>=<span class="hljs-literal">true</span>, <span class="hljs-attribute">pageNum</span>=1, <span class="hljs-attribute">pageSize</span>=4, <span class="hljs-attribute">startRow</span>=0, <span class="hljs-attribute">endRow</span>=4, <span class="hljs-attribute">total</span>=4, <span class="hljs-attribute">pages</span>=1,
<span class="hljs-attribute">reasonable</span>=<span class="hljs-literal">false</span>, <span class="hljs-attribute">pageSizeZero</span>=<span class="hljs-literal">false</span>&#125;
[Emp&#123;<span class="hljs-attribute">empId</span>=1, <span class="hljs-attribute">empName</span>=<span class="hljs-string">&#x27;张三&#x27;</span>, <span class="hljs-attribute">age</span>=20, <span class="hljs-attribute">gender</span>=<span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-attribute">deptId</span>=1&#125;,
Emp&#123;<span class="hljs-attribute">empId</span>=2, <span class="hljs-attribute">empName</span>=<span class="hljs-string">&#x27;李四&#x27;</span>, <span class="hljs-attribute">age</span>=21, <span class="hljs-attribute">gender</span>=<span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-attribute">deptId</span>=2&#125;, Emp&#123;<span class="hljs-attribute">empId</span>=3, 
<span class="hljs-attribute">empName</span>=<span class="hljs-string">&#x27;王五&#x27;</span>, <span class="hljs-attribute">age</span>=22, <span class="hljs-attribute">gender</span>=<span class="hljs-string">&#x27;男&#x27;</span>, <span class="hljs-attribute">deptId</span>=3&#125;, Emp&#123;<span class="hljs-attribute">empId</span>=4, <span class="hljs-attribute">empName</span>=<span class="hljs-string">&#x27;赵六&#x27;</span>,
<span class="hljs-attribute">age</span>=23, <span class="hljs-attribute">gender</span>=<span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-attribute">deptId</span>=1&#125;], <span class="hljs-attribute">prePage</span>=0, <span class="hljs-attribute">nextPage</span>=0, <span class="hljs-attribute">isFirstPage</span>=<span class="hljs-literal">true</span>, 
<span class="hljs-attribute">isLastPage</span>=<span class="hljs-literal">true</span>, <span class="hljs-attribute">hasPreviousPage</span>=<span class="hljs-literal">false</span>, <span class="hljs-attribute">hasNextPage</span>=<span class="hljs-literal">false</span>, <span class="hljs-attribute">navigatePages</span>=5, 
<span class="hljs-attribute">navigateFirstPage</span>=1, <span class="hljs-attribute">navigateLastPage</span>=1, navigatepageNums=[1]&#125;
</code></pre></div>
<h1 id="Spring"><a href="#Spring" class="headerlink" title="Spring:"></a>Spring:</h1><h4 id="spring-Framework简介："><a href="#spring-Framework简介：" class="headerlink" title="spring Framework简介："></a>spring Framework简介：</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_46081816/article/details/123116901">SpringFramework教程_springframework的教程在官网哪里_疯了的程序员的博客-CSDN博客</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/pedro7k/article/details/115415675">Java中的面向切面编程（AOP）_切面java_pedro7k的博客-CSDN博客</a></p>
<h4 id="Spring-IOC简介："><a href="#Spring-IOC简介：" class="headerlink" title="Spring IOC简介："></a>Spring IOC简介：</h4><p>Spring IOC 是 Spring 框架的核心，它是一种实现了 IoC（Inversion of Control，控制反转）原则的容器，负责创建、配置、管理和装配应用程序中的对象（称为 bean）<br><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html">5. The IoC container</a><br>。IoC 原则是指将对象的依赖关系（即它们需要协作的其他对象）交由外部容器或框架来设置，而不是由对象自己控制，从而实现对象之间的松耦合和动态绑定<br><a target="_blank" rel="noopener" href="https://www.baeldung.com/inversion-control-and-dependency-injection-in-spring">Just a moment…</a><br>Spring IOC 容器有两种类型：BeanFactory 和 ApplicationContext。BeanFactory 是最基本的容器，提供了依赖注入（Dependency Injection，DI）的功能，即根据配置元数据（可以是 XML、注解或 Java 代码）来注入 bean 的属性或构造参数<br><a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html">5. The IoC container</a><br>。ApplicationContext 是 BeanFactory 的子接口，提供了更多的高级功能，如 AOP 集成、消息资源处理、事件发布等<a target="_blank" rel="noopener" href="https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/beans.html">5. The IoC container</a>。</p>
<h4 id="Spring-DI-简介："><a href="#Spring-DI-简介：" class="headerlink" title="Spring DI 简介："></a>Spring DI 简介：</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6959753065297608711">Spring Boot注解全攻略(四)：@Autowired - 掘金</a><br>Spring DI（Dependency Injection，依赖注入）是 Spring Framework 的核心之一，它是实现 Spring IOC 的一种方式，用于解决对象之间的依赖关系。Spring DI 通过将对象之间的依赖关系的控制权反转给容器，来解决这些问题。具体来说，它在对象中定义依赖关系的接口，容器则负责实现这些接口并将实现注入到对象中</p>
<h4 id="Autowired注解详解"><a href="#Autowired注解详解" class="headerlink" title="@Autowired注解详解"></a>@Autowired注解详解</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45755816/article/details/118654961">@Autowired注解详解——超详细易懂_子时不睡的博客-CSDN博客</a><br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6959753065297608711">Spring Boot注解全攻略(四)：@Autowired - 掘金</a></p>
<h4 id="IOC容器在Spirng中的实现："><a href="#IOC容器在Spirng中的实现：" class="headerlink" title="IOC容器在Spirng中的实现："></a>IOC容器在Spirng中的实现：</h4><p>基于XML的实现<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688519520570-48f60a06-3c87-4d24-8461-0d81d7aaded3.png#averageHue=%23faf9f6&clientId=u25015969-4d62-4&from=paste&height=108&id=uadf55962&originHeight=135&originWidth=454&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=31539&status=done&style=none&taskId=ucf41a50b-9c9b-4f1d-a0e9-16f546edf4c&title=&width=363.2" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs abnf">ClassPathXmlApplicationContext ioc <span class="hljs-operator">=</span> new ClassPathXmlApplicationContext(<span class="hljs-string">&quot;application.xml&quot;</span>)<span class="hljs-comment">;</span></code></pre></div>
<p>解释：<br>ClassPathXmlApplicationContext 类是 Spring 框架提供的一个实现类，它实现了 ApplicationContext 接口，用于创建和管理 Spring 容器。ClassPathXmlApplicationContext 类的构造器接受一个或多个字符串参数，表示要加载的 XML 配置文件的路径。这些路径是相对于类路径（classpath）的根目录的路径（也就是下图中的classes目录），如果以 &#x2F; 开头，则表示相对于类路径的根目录，否则表示相对于当前类所在的包。在这行代码中，传入了一个字符串参数 “application.xml”，表示要加载类路径根目录下的 application.xml 文件，该文件定义了 Spring 容器中的 bean。通过这样的方式，就可以创建一个 Spring 容器，并根据 XML 配置文件来初始化和管理 bean。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688521560666-80ac8ae4-d4a3-4d2d-8c91-334fe069e83b.png#averageHue=%23412105&clientId=u25015969-4d62-4&from=paste&height=165&id=u376387fd&originHeight=206&originWidth=334&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=8596&status=done&style=none&taskId=ub730a5b6-c25f-4fb1-9908-28be2b46f06&title=&width=267.2" srcset="/img/loading.gif" lazyload alt="image.png"><br>其实上面的代码可以改成下面的也可以正常运行：</p>
<div class="code-wrapper"><pre><code class="hljs abnf">ClassPathXmlApplicationContext ioc <span class="hljs-operator">=</span> new ClassPathXmlApplicationContext(<span class="hljs-string">&quot;/ application.xml&quot;</span>)<span class="hljs-comment">;</span></code></pre></div>
<h4 id="理解相对路径："><a href="#理解相对路径：" class="headerlink" title="理解相对路径："></a>理解相对路径：</h4><p>在 Java 项目中，相对路径是指相对于某个参照点的路径，而不是绝对路径。相对路径的好处是可以避免硬编码文件的位置，使得代码更加灵活和可移植。相对路径的参照点可以有以下几种：</p>
<p>•  当前工作目录（working directory），即启动 Java 程序时所在的目录，或者通过 System.setProperty(“user.dir”, path) 方法设置的目录。如果使用 new File(path) 方法来访问文件，那么 path 就是相对于当前工作目录的路径。</p>
<p>•  当前类所在的包（package），即当前类的源文件所在的目录。如果使用 Class.getResource(path) 或 Class.getResourceAsStream(path) 方法来访问文件，那么 path 就是相对于当前类所在的包的路径，如果以 &#x2F; 开头，则表示相对于类路径（classpath）的根目录。</p>
<p>•  类路径（classpath）的根目录，即 Java 程序加载类和资源的根目录。如果使用 ClassLoader.getResource(path) 或 ClassLoader.getResourceAsStream(path) 方法来访问文件，那么 path 就是相对于类路径的根目录的路径。</p>
<p>•  web 工程（web project）的根目录，即 web 工程部署到服务器上的根目录。如果使用 ServletContext.getResource(path) 或 ServletContext.getResourceAsStream(path) 方法来访问文件，那么 path 就是相对于 web 工程的根目录的路径。<br>也就是相对路径也不一定是相对与当前类所在的目录。</p>
<h4 id="获取bean的三种方法："><a href="#获取bean的三种方法：" class="headerlink" title="获取bean的三种方法："></a>获取bean的三种方法：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688524352145-bbed48c4-4b9f-49fd-bc03-d572a3027197.png#averageHue=%23f9f8f4&clientId=u25015969-4d62-4&from=paste&height=129&id=uda18b195&originHeight=161&originWidth=665&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=78699&status=done&style=none&taskId=u7546ee82-c37d-4698-81dd-fac681e2239&title=&width=532" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688524508058-a35f1e6a-8385-4dc9-b2fe-35f006b386f9.png#averageHue=%23f7f4e4&clientId=u25015969-4d62-4&from=paste&height=60&id=uc187c925&originHeight=75&originWidth=510&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45670&status=done&style=none&taskId=ue427ec23-92d3-40b9-bcc6-bd086110dbb&title=&width=408" srcset="/img/loading.gif" lazyload alt="image.png">person是Student实现的接口，可以根据接口获取bean,当然这个接口只能有一个实现类。<img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688524591560-ec1e07ae-2a22-40a0-beb4-3a0381331b21.png#averageHue=%23f6f5f1&clientId=u25015969-4d62-4&from=paste&height=83&id=u1459a351&originHeight=104&originWidth=678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=63103&status=done&style=none&taskId=ua96d2c56-915b-4fc7-93b1-8eab6045021&title=&width=542.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="依赖注入setter注入："><a href="#依赖注入setter注入：" class="headerlink" title="依赖注入setter注入："></a>依赖注入setter注入：</h4><h6 id="什么是依赖注入："><a href="#什么是依赖注入：" class="headerlink" title="什么是依赖注入："></a>什么是依赖注入：</h6><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/taijianyu/article/details/2338311">什么是依赖注入_taijianyu的博客-CSDN博客</a><br>。在 Spring 中，依赖注入是指 Spring 容器负责创建和管理 bean（即 Spring 容器中管理的对象），并根据 bean 之间的依赖关系，将依赖的 bean 注入到需要它的 bean 中，从而实现控制反转（Inversion of Control，IoC），即控制权由原来的 bean 转移到了 Spring 容器，从而降低了 bean 之间的耦合度，提高了代码的可维护性和可测试性。Spring 支持基于 XML、注解和 Java 代码的三种依赖注入方式，</p>
<div class="code-wrapper"><pre><code class="hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;studentTwo&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.Student&quot;</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1002&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;李四&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;33&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">constructor-arg</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;女&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">constructor-arg</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-comment">&lt;!--只有一个 &lt;constructor-arg &gt;匹配的只有一个有参构造的构造器--&gt;</span></code></pre></div>
<h4 id="通过属性赋值，赋值为空："><a href="#通过属性赋值，赋值为空：" class="headerlink" title="通过属性赋值，赋值为空："></a>通过属性赋值，赋值为空：</h4><p><property name="sex" value="null"></property>这给sex属性赋值为null字符串；<br><property name="sex" ><null/></property>这给sex属性赋值为空。</p>
<h4 id="标签"><a href="#标签" class="headerlink" title="标签"></a><array>标签</h4><p>在 Spring Framework 的 XML 配置文件中，可以使用 <array> 标签来定义一个数组类型的属性值。<array> 标签可以包含多个 <value> 或 <ref> 子标签，每个子标签表示数组中的一个元素。<br>例如，假设我们有一个 Person 类，它包含一个 hobbies 属性，表示一个人的爱好。hobbies 属性是一个字符串数组类型的属性。我们可以在 XML 配置文件中使用 <array> 标签来定义这个数组类型的属性值：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.Person&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbies&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">array</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>篮球<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>足球<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>游泳<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">array</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>
<p>这个配置将会创建一个 Person 实例，并将 “篮球”、”足球” 和 “游泳” 作为 hobbies 属性的值。在这个配置中，<array> 标签包含了三个 <value> 子标签，每个子标签表示一个字符串类型的数组元素。<br>除了 <value> 子标签外，<array> 标签还可以包含 <ref> 子标签，用于引用其他 Bean 的实例作为数组元素。例如：</p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;basketball&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Hobby&quot;</span> /&gt;
&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;football&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Hobby&quot;</span> /&gt;
&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;swimming&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Hobby&quot;</span> /&gt;

&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;person&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Person&quot;</span>&gt;
    &lt;<span class="hljs-keyword">property</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">&quot;hobbies&quot;</span>&gt;
        &lt;array&gt;
            &lt;<span class="hljs-keyword">ref</span> bean=<span class="hljs-string">&quot;basketball&quot;</span> /&gt;
            &lt;<span class="hljs-keyword">ref</span> bean=<span class="hljs-string">&quot;football&quot;</span> /&gt;
            &lt;<span class="hljs-keyword">ref</span> bean=<span class="hljs-string">&quot;swimming&quot;</span> /&gt;
        &lt;/array&gt;
    &lt;/<span class="hljs-keyword">property</span>&gt;
&lt;/bean&gt;</code></pre></div>
<p>这个配置定义了三个 Hobby 类型的 Bean，并将它们分别命名为 “basketball”、”football” 和 “swimming”。然后，它又在 <array> 标签中使用了三个 <ref> 子标签，分别引用了这三个 Bean 的实例，作为 Person 类的 hobbies 属性的值。</p>
<h4 id="集合类型的依赖注入：依赖注入中util标签的引用和List和Map集和的使用：其实所缺的命名空间的绑定可以在IDEA中自动补充的"><a href="#集合类型的依赖注入：依赖注入中util标签的引用和List和Map集和的使用：其实所缺的命名空间的绑定可以在IDEA中自动补充的" class="headerlink" title="集合类型的依赖注入：依赖注入中util标签的引用和List和Map集和的使用：其实所缺的命名空间的绑定可以在IDEA中自动补充的"></a>集合类型的依赖注入：依赖注入中util标签的引用和List和Map集和的使用：其实所缺的命名空间的绑定可以在IDEA中自动补充的</h4><p>util 是 Spring 框架提供的一个命名空间，用于提供一些常用的工具和辅助类。在 Spring 的 XML 配置文件中，我们可以使用 <a href="util:*">util:*</a> 标签来引用 util 命名空间中的定义，并将其应用到 Bean 的定义中。<br>在 Spring Framework 的 XML 配置文件中，可以使用 <list> 标签来定义一个列表类型的属性值。<list> 标签可以包含多个 <value> 或 <ref> 子标签，每个子标签表示列表中的一个元素。<br>例如，假设我们有三个 Student 类型的 Bean，分别命名为 “studentOne”、”studentTwo” 和 “studentThree”。我们可以在 XML 配置文件中使用 <a href="util:list">util:list</a> 标签来定义这三个 Bean 实例的列表：</p>
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;studentOne&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Student&quot;</span> /&gt;
&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;studentTwo&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Student&quot;</span> /&gt;
&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;studentThree&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.Student&quot;</span> /&gt;

&lt;util:<span class="hljs-built_in">list</span> <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;students&quot;</span>&gt;
    &lt;<span class="hljs-keyword">ref</span> bean=<span class="hljs-string">&quot;studentOne&quot;</span> /&gt;
    &lt;<span class="hljs-keyword">ref</span> bean=<span class="hljs-string">&quot;studentTwo&quot;</span> /&gt;
    &lt;<span class="hljs-keyword">ref</span> bean=<span class="hljs-string">&quot;studentThree&quot;</span> /&gt;
&lt;/util:<span class="hljs-built_in">list</span>&gt;</code></pre></div>
<p>这个配置将会创建一个列表类型的 Bean，将 “studentOne”、”studentTwo” 和 “studentThree” 作为列表元素。在这个配置中，<a href="util:list">util:list</a> 标签包含了三个 <ref> 子标签，每个子标签表示一个引用类型的列表元素。<br>除了 <ref> 子标签外，<a href="util:list">util:list</a> 标签还可以包含 <value> 子标签，用于定义值类型的列表元素。例如：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">util:list</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;numbers&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">util:list</span>&gt;</span></code></pre></div>
<p>这个配置将会创建一个列表类型的 Bean，将 1、2 和 3 作为列表元素，它们都是整数类型的值。在这个配置中，<a href="util:list">util:list</a> 标签包含了三个 <value> 子标签，每个子标签表示一个整数类型的值类型的列表元素。<br><a href="util:list">util:list</a> 是 Spring Framework 中的一个实用工具标签，用于定义列表类型的 Bean。为了使用 <a href="util:list">util:list</a> 标签，我们需要在 XML 配置文件中导入 Spring 的 util 命名空间。具体方法是在 XML 文件的根标签中添加xmlns:util&#x3D;”<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/util">http://www.springframework.org/schema/util</a>“ 命名空间声明，同时在<br>xsi:schemaLocation中添加</p>
<div class="code-wrapper"><pre><code class="hljs awk">http:<span class="hljs-regexp">//</span>www.springframework.org<span class="hljs-regexp">/schema/u</span>til
                           http:<span class="hljs-regexp">//</span>www.springframework.org<span class="hljs-regexp">/schema/u</span>til/spring-util.xsd<span class="hljs-string">&quot;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:util</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/util&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans</span></span>
<span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/beans/spring-beans.xsd</span></span>
<span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/util</span></span>
<span class="hljs-string"><span class="hljs-tag">                           http://www.springframework.org/schema/util/spring-util.xsd&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>&gt;</span>
       
    <span class="hljs-comment">&lt;!-- 这里可以定义 Bean --&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">util:list</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;students&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;studentOne&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;studentTwo&quot;</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;studentThree&quot;</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">util:list</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/lengxiao1993/article/details/77914155?spm=1001.2101.3001.6650.5&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-5-77914155-blog-114280229.235%5Ev38%5Epc_relevant_yljh&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-5-77914155-blog-114280229.235%5Ev38%5Epc_relevant_yljh&utm_relevant_index=10">详解 xml 文件头部的 xmlns:xsi_萧萧九宸的博客-CSDN博客</a><br>xml：命名空间，防止命名冲突<br>xsi是XML Schema Instance的缩写，它是一个预定义的命名空间前缀，用于引用XML Schema的实例。 xsi:schemaLocation是一个预定义的属性，用于指定XML文档所引用的XML Schema的位置。</p>
<div class="code-wrapper"><pre><code class="hljs csharp">@Test
       <span class="hljs-function"><span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span> <span class="hljs-title">TestList</span>()</span> &#123;
           ClassPathXmlApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;application.xml&quot;</span>);
           List&lt;Student&gt; students = (List&lt;Student&gt;) context.getBean(<span class="hljs-string">&quot;students&quot;</span>);
           <span class="hljs-keyword">for</span> (Student student : students) &#123;
               System.<span class="hljs-keyword">out</span>.println(student);
           &#125;
       &#125;</code></pre></div>
<p>测试结果：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688540312902-5751d031-2dfb-4087-9bc5-4e3d96105748.png#averageHue=%23130f0c&clientId=ua77d9b4f-0672-4&from=paste&height=62&id=u3c89fbd3&originHeight=77&originWidth=946&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=20364&status=done&style=none&taskId=u268ab9a1-10cb-469d-b722-3809d789332&title=&width=756.8" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--map集合类型的bean--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">util:map</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;teacherMap&quot;</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">entry</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>10010<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;teacherOne&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ref</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">entry</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>10086<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">ref</span> <span class="hljs-attr">bean</span>=<span class="hljs-string">&quot;teacherTwo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">ref</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">entry</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">util:map</span>&gt;</span></code></pre></div>
<p>总结：其实<map>中的键值对还可以这样写：  <entry key="1" value="游泳"/>（当值为字符串的时候）<br>由于<value> 标签中的内容会被解析为字符串类型，当值不为字符串的时候用<ref >或者<br><value-ref/>标签， <ref bean="teacherOne"></ref>和&lt;value-ref&#x3D;”teacherOne”&#x2F;&gt;是等价的。</p>
<h4 id="依赖注入之p命名空间："><a href="#依赖注入之p命名空间：" class="headerlink" title="依赖注入之p命名空间："></a>依赖注入之p命名空间：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688542214770-39434523-eeeb-46d1-8208-8ddb7d9a11ec.png#averageHue=%23121923&clientId=ua77d9b4f-0672-4&from=paste&height=182&id=u43edee01&originHeight=228&originWidth=1077&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38429&status=done&style=none&taskId=u7cb701c5-f79b-40f4-8d4b-c1bd9d68933&title=&width=861.6" srcset="/img/loading.gif" lazyload alt="image.png"><br>p:前缀是一个命名空间前缀，用于简化property元素的写法，它表示该属性是一个property元素的简写形式。<br>添加后配置文件新增的内容：（红线部分）<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688542371493-97cb2579-faf2-413e-ad5b-ef52d389f4b6.png#averageHue=%23121220&clientId=ua77d9b4f-0672-4&from=paste&height=214&id=u2eb14b9f&originHeight=267&originWidth=824&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=56931&status=done&style=none&taskId=u0d593b70-ed69-4948-9bf4-15d8c4918b6&title=&width=659.2" srcset="/img/loading.gif" lazyload alt="image.png"><br>依赖注入：</p>
<div class="code-wrapper"><pre><code class="hljs stylus">&lt;bean id = <span class="hljs-string">&quot;studentSix&quot;</span> class=<span class="hljs-string">&quot;com.example.demo.pojo.Student&quot;</span> <span class="hljs-selector-tag">p</span>:id=<span class="hljs-string">&quot;1005&quot;</span> <span class="hljs-selector-tag">p</span>:name=<span class="hljs-string">&quot;小明&quot;</span>
          <span class="hljs-selector-tag">p</span>:sex=<span class="hljs-string">&quot;女&quot;</span> <span class="hljs-selector-tag">p</span>:clazz-ref=<span class="hljs-string">&quot;clazzOne&quot;</span> <span class="hljs-selector-tag">p</span>:hobbies=<span class="hljs-string">&quot;游泳,跑步,阅读&quot;</span> &gt;&lt;/bean&gt;</code></pre></div>
<p>测试：</p>
<div class="code-wrapper"><pre><code class="hljs csharp">@Test
   <span class="hljs-function"><span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span> <span class="hljs-title">TestP</span>()</span> &#123;
       ClassPathXmlApplicationContext context = <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;application.xml&quot;</span>);
       Student studentSix = context.getBean(<span class="hljs-string">&quot;studentSix&quot;</span>, Student.<span class="hljs-keyword">class</span>);
       System.<span class="hljs-keyword">out</span>.println(studentSix);
   &#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs pgsql">Student&#123;id=<span class="hljs-number">1005</span>, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;小明&#x27;</span>, age=<span class="hljs-keyword">null</span>, sex=<span class="hljs-string">&#x27;女&#x27;</span>, clazz=Clazz&#123;clazzId=<span class="hljs-number">3333</span>, clazzName=<span class="hljs-string">&#x27;最强王者班&#x27;</span>, students=<span class="hljs-keyword">null</span>&#125;, hobbies=[游泳, 跑步, 阅读], teacherMap=<span class="hljs-keyword">null</span>&#125;
//没有赋值的属性都是<span class="hljs-keyword">null</span></code></pre></div>
<h4 id="特殊情况p语法糖配置的属性为List或者Map的情况："><a href="#特殊情况p语法糖配置的属性为List或者Map的情况：" class="headerlink" title="特殊情况p语法糖配置的属性为List或者Map的情况："></a>特殊情况p语法糖配置的属性为List或者Map的情况：</h4><p>如果 p:hobbies 是一个 List 或 Map 类型的属性，我们可以使用 <a href="util:list">util:list</a> 或 <a href="util:map">util:map</a> 标签来配置它的属性值。例如，假设 com.example.demo.pojo.Student 类中的 hobbies 属性是一个 List<String> 类型的列表，我们可以将 <bean> 标签修改为以下形式：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;studentSix&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.Student&quot;</span></span>
<span class="hljs-tag">      <span class="hljs-attr">p:id</span>=<span class="hljs-string">&quot;1005&quot;</span> <span class="hljs-attr">p:name</span>=<span class="hljs-string">&quot;小明&quot;</span> <span class="hljs-attr">p:sex</span>=<span class="hljs-string">&quot;女&quot;</span> <span class="hljs-attr">p:clazz-ref</span>=<span class="hljs-string">&quot;clazzOne&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbies&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>游泳<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>跑步<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>阅读<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>
<p>在这个例子中，我们使用了 <property> 标签来设置 Student 类中的 hobbies 属性。<property> 标签中的 name 属性指定了要设置的属性名，而 <a href="util:list">util:list</a> 标签中包含了若干个 <value> 标签，每个 <value> 标签的文本内容即为列表中的一个元素。在这个例子中，<a href="util:list">util:list</a> 标签中包含了三个 <value> 标签，分别设置了 hobbies 列表的三个元素为 “游泳”、”跑步” 和 “阅读”。<br>如果 p:hobbies 是一个 Map 类型的属性，我们可以使用 <a href="util:map">util:map</a> 标签来配置它的属性值。例如，假设 com.example.demo.pojo.Student 类中的 hobbies 属性是一个 Map&lt;String, String&gt; 类型的映射表，我们可以将 <bean> 标签修改为以下形式：<br>在这个例子中，我们同样使用了 <property> 标签来设置 Student 类中的 hobbies 属性。<a href="util:map">util:map</a> 标签中包含了若干个 <entry> 标签，每个 <entry> 标签分别表示一个键值对。在这个例子中，我们设置了 hobbies 映射表中的三个键值对，分别为 “1”-“游泳”、”2”-“跑步” 和 “3”-“阅读”。</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;studentSix&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.Student&quot;</span></span>
<span class="hljs-tag">      <span class="hljs-attr">p:id</span>=<span class="hljs-string">&quot;1005&quot;</span> <span class="hljs-attr">p:name</span>=<span class="hljs-string">&quot;小明&quot;</span> <span class="hljs-attr">p:sex</span>=<span class="hljs-string">&quot;女&quot;</span> <span class="hljs-attr">p:clazz-ref</span>=<span class="hljs-string">&quot;clazzOne&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;hobbies&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">map</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;游泳&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;2&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;跑步&quot;</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">entry</span> <span class="hljs-attr">key</span>=<span class="hljs-string">&quot;3&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;阅读&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">map</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>
<h4 id="Spring管理数据源：druid事例"><a href="#Spring管理数据源：druid事例" class="headerlink" title="Spring管理数据源：druid事例"></a>Spring管理数据源：druid事例</h4><p>导入依赖：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- MySQL驱动    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 数据源    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.31<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div>
<p>在您提供的代码片段中，包含了两个 Maven 依赖项，分别是 mysql-connector-java 和 druid，它们用于在 Java 应用程序中使用 MySQL 数据库和数据源。<br>具体来说，mysql-connector-java 是 MySQL 官方提供的 Java JDBC 驱动程序，用于连接 MySQL 数据库。在 Maven 项目中添加该依赖项后，我们可以在 Java 代码中使用 com.mysql.cj.jdbc.Driver 类来加载 MySQL JDBC 驱动程序，从而连接到 MySQL 数据库。<br>druid 是阿里巴巴提供的一个高性能 JDBC 连接池框架，它提供了许多高级功能，例如连接池缓存、连接池监控、SQL 防火墙等。在 Maven 项目中添加该依赖项后，我们可以在 Java 代码中使用 com.alibaba.druid.pool.DruidDataSource 类来创建一个 Druid 数据源，从而在应用程序中管理 JDBC 连接池。<br>设置配置文件：</p>
<div class="code-wrapper"><pre><code class="hljs abnf">&lt;bean id<span class="hljs-operator">=</span><span class="hljs-string">&quot;datasource&quot;</span> class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;driverClassName&quot;</span>  value<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;url&quot;</span>  value<span class="hljs-operator">=</span><span class="hljs-string">&quot;jdbc:mysql://localhost:3306/myemployees?serverTimezone=UTC&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;username&quot;</span>  value<span class="hljs-operator">=</span><span class="hljs-string">&quot;root&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;password&quot;</span>  value<span class="hljs-operator">=</span><span class="hljs-string">&quot;A86789234&quot;</span>&gt;&lt;/property&gt;
&lt;/bean&gt;</code></pre></div>
<p>配置文件都是关于数据库连接的文件，一般这些是放在一个数据库配置文件中的。其实可以通过jdbc资源配置文件配置：</p>
<div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-attr">jdbc.user</span>=root
<span class="hljs-attr">jdbc.password</span>=A86789234
<span class="hljs-attr">jdbc.url</span>=jdbc:mysql://localhost:<span class="hljs-number">3306</span>/myemployees?serverTimezone=UTC
<span class="hljs-attr">jdbc.driver</span>=com.mysql.cj.jdbc.Driver</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs dust"><span class="language-xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span></span>
<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span>
<span class="hljs-tag"><span class="language-xml">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span>
<span class="hljs-tag"><span class="language-xml">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span>
<span class="hljs-tag"><span class="language-xml">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;jdbc.properties&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">context:property-placeholder</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;datasource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;jdbc.driver&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;jdbc.url&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;jdbc.user&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span>
<span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span>  <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$</span></span></span><span class="hljs-template-variable">&#123;jdbc.password&#125;</span><span class="language-xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span></span>
<span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></span>
<span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs csharp">   @Test
    <span class="hljs-function"><span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span>  <span class="hljs-title">testDatasource</span>() throws SQLException</span> &#123;
        ClassPathXmlApplicationContext ioc= <span class="hljs-keyword">new</span> ClassPathXmlApplicationContext(<span class="hljs-string">&quot;spring-datasource.xml&quot;</span>);
        <span class="hljs-comment">//也可以通过其父类或者所实现的接口</span>
<span class="hljs-comment">//        DataSource dataSource = ioc.getBean(DataSource.class);</span>
        DruidDataSource druidDataSource = ioc.getBean(DruidDataSource.<span class="hljs-keyword">class</span>);
        System.<span class="hljs-keyword">out</span>.println(druidDataSource.getConnection());

    &#125;
<span class="hljs-comment">//输出结果：</span>
<span class="hljs-comment">//com.mysql.cj.jdbc.ConnectionImpl@3e694b3f</span></code></pre></div>
<h4 id="bean的作用域："><a href="#bean的作用域：" class="headerlink" title="bean的作用域："></a>bean的作用域：</h4><p>在 Spring 容器中，Bean 的作用域决定了 Bean 实例的生命周期和可见范围。Spring 提供了以下五种 Bean 作用域：</p>
<ol>
<li>singleton：单例模式。在整个 Spring 容器中，只会创建一个 Bean 实例，并在需要时共享该实例。默认情况下，所有未显式指定作用域的 Bean 都会使用单例模式。</li>
<li>prototype：原型模式。每次从容器中获取该 Bean 时，都会创建一个新的实例，并返回给调用者。</li>
<li>request：Web 应用程序中的请求作用域。在一次 HTTP 请求中，容器会为每个请求创建一个新的实例，并在请求结束时销毁该实例。</li>
<li>session：Web 应用程序中的会话作用域。在用户会话期间，容器会为每个会话创建一个新的实例，并在会话结束时销毁该实例。</li>
<li>global session：Web 应用程序中的全局会话作用域。与 session 作用域类似，但仅适用于 Portlet 环境。<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myBean&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.MyBean&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Bean 的配置信息 --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div></li>
</ol>
<h4 id="1-在IOC容器中默认为单例-也即是scope默认为singleton"><a href="#1-在IOC容器中默认为单例-也即是scope默认为singleton" class="headerlink" title="1.在IOC容器中默认为单例,也即是scope默认为singleton"></a>1.在IOC容器中默认为单例,也即是scope默认为singleton</h4><div class="code-wrapper"><pre><code class="hljs abnf">&lt;bean id <span class="hljs-operator">=</span> <span class="hljs-string">&quot;student&quot;</span> class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.example.demo.pojo.Student&quot;</span>&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;id&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;1009&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;name&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;钱九&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;age&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;29&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;sex&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;女&quot;</span>&gt;&lt;/property&gt;
&lt;/bean&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs pgsql">  @Test
    <span class="hljs-built_in">public</span> <span class="hljs-type">void</span>  testScope()
    &#123;
        ClassPathXmlApplicationContext ioc = <span class="hljs-built_in">new</span> ClassPathXmlApplicationContext(&quot;spring-scope.xml&quot;);
        Student student1 = ioc.getBean(Student.<span class="hljs-keyword">class</span>);
        Student student2 = ioc.getBean(Student.<span class="hljs-keyword">class</span>);
        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(student1);
        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(&quot;-----------&quot;);
        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(student2);
        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(student1==student2);
    &#125;
//Student&#123;id=<span class="hljs-number">1009</span>, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;钱九&#x27;</span>, age=<span class="hljs-number">29</span>, sex=<span class="hljs-string">&#x27;女&#x27;</span>, clazz=<span class="hljs-keyword">null</span>, hobbies=<span class="hljs-keyword">null</span>, teacherMap=<span class="hljs-keyword">null</span>&#125;
//<span class="hljs-comment">-----------</span>
//Student&#123;id=<span class="hljs-number">1009</span>, <span class="hljs-type">name</span>=<span class="hljs-string">&#x27;钱九&#x27;</span>, age=<span class="hljs-number">29</span>, sex=<span class="hljs-string">&#x27;女&#x27;</span>, clazz=<span class="hljs-keyword">null</span>, hobbies=<span class="hljs-keyword">null</span>, teacherMap=<span class="hljs-keyword">null</span>&#125;
//<span class="hljs-keyword">true</span></code></pre></div>
<p>2.设置为scope&#x3D;”prototype”</p>
<div class="code-wrapper"><pre><code class="hljs abnf">&lt;bean id <span class="hljs-operator">=</span> <span class="hljs-string">&quot;student&quot;</span> class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.example.demo.pojo.Student&quot;</span> scope<span class="hljs-operator">=</span><span class="hljs-string">&quot;prototype&quot;</span>&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;id&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;1009&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;name&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;钱九&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;age&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;29&quot;</span>&gt;&lt;/property&gt;
    &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;sex&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;女&quot;</span>&gt;&lt;/property&gt;
&lt;/bean&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs routeros">Student&#123;<span class="hljs-attribute">id</span>=1009, <span class="hljs-attribute">name</span>=<span class="hljs-string">&#x27;钱九&#x27;</span>, <span class="hljs-attribute">age</span>=29, <span class="hljs-attribute">sex</span>=<span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-attribute">clazz</span>=<span class="hljs-literal">null</span>, <span class="hljs-attribute">hobbies</span>=<span class="hljs-literal">null</span>, <span class="hljs-attribute">teacherMap</span>=<span class="hljs-literal">null</span>&#125;
-----------
Student&#123;<span class="hljs-attribute">id</span>=1009, <span class="hljs-attribute">name</span>=<span class="hljs-string">&#x27;钱九&#x27;</span>, <span class="hljs-attribute">age</span>=29, <span class="hljs-attribute">sex</span>=<span class="hljs-string">&#x27;女&#x27;</span>, <span class="hljs-attribute">clazz</span>=<span class="hljs-literal">null</span>, <span class="hljs-attribute">hobbies</span>=<span class="hljs-literal">null</span>, <span class="hljs-attribute">teacherMap</span>=<span class="hljs-literal">null</span>&#125;
<span class="hljs-literal">false</span></code></pre></div>
<h4 id="bean的生命周期："><a href="#bean的生命周期：" class="headerlink" title="bean的生命周期："></a>bean的生命周期：</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6866075598184906766">一篇文章让你彻底搞懂Bean后置处理器及执行时机 - 掘金</a></p>
<div class="code-wrapper"><pre><code class="hljs typescript">package com.<span class="hljs-property">example</span>.<span class="hljs-property">demo</span>.<span class="hljs-property">pojo</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;
   <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> id;
   <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> username;
   <span class="hljs-keyword">private</span> <span class="hljs-title class_">String</span> password;
   <span class="hljs-keyword">private</span> <span class="hljs-title class_">Integer</span> age;
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span>() &#123;
       <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;生命周期1：实例化&quot;</span>);
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">User</span>(<span class="hljs-title class_">Integer</span> id, <span class="hljs-title class_">String</span> username, <span class="hljs-title class_">String</span> password, <span class="hljs-title class_">Integer</span> age) &#123;
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span> = username;
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span> = password; 
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getId</span>(<span class="hljs-params"></span>) &#123; 
       <span class="hljs-keyword">return</span> id;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setId</span>(<span class="hljs-params">Integer id</span>) &#123;
       <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;生命周期2：依赖注入&quot;</span>);
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> = id;

 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getUsername</span>(<span class="hljs-params"></span>) &#123; 
       <span class="hljs-keyword">return</span> username;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setUsername</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> username</span>) &#123; 
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">username</span> = username;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">getPassword</span>(<span class="hljs-params"></span>) &#123; 
       <span class="hljs-keyword">return</span> password;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setPassword</span>(<span class="hljs-params"><span class="hljs-built_in">String</span> password</span>) &#123; 
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">password</span> = password;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">Integer</span> <span class="hljs-title function_">getAge</span>(<span class="hljs-params"></span>) &#123; 
       <span class="hljs-keyword">return</span> age;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setAge</span>(<span class="hljs-params">Integer age</span>) &#123; 
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age;
 &#125;
   <span class="hljs-meta">@Override</span>
   <span class="hljs-keyword">public</span> <span class="hljs-title class_">String</span> <span class="hljs-title function_">toString</span>(<span class="hljs-params"></span>) &#123; 
       <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;User&#123;&quot;</span> +
               <span class="hljs-string">&quot;id=&quot;</span> + id +
               <span class="hljs-string">&quot;, username=&#x27;&quot;</span> + username + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> + 
               <span class="hljs-string">&quot;, password=&#x27;&quot;</span> + password + <span class="hljs-string">&#x27;\&#x27;&#x27;</span> + 
               <span class="hljs-string">&quot;, age=&quot;</span> + age +
               <span class="hljs-string">&#x27;&#125;&#x27;</span>;

 &#125;
 <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span>  <span class="hljs-title function_">initMethod</span>(<span class="hljs-params"></span>)
 &#123;
     <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;生命周期3：初始化！&quot;</span>);
 &#125;
    <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span>  <span class="hljs-title function_">destroyMethod</span>(<span class="hljs-params"></span>)
    &#123;
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;生命周期4：销毁！&quot;</span>);
    &#125;

&#125;
</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- scope属性：取值singleton（默认值），bean在IOC容器中只有一个实例，IOC容器初始化时创建</span>
<span class="hljs-comment">    对象   init-method 和destroy-method分别表示初始化和摧毁时调用的方法--&gt;</span>
    <span class="hljs-comment">&lt;!-- scope属性：取值prototype，bean在IOC容器中可以有多个实例，getBean()时创建对象    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.User&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span> <span class="hljs-attr">init-method</span>=<span class="hljs-string">&quot;initMethod&quot;</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">&quot;destroyMethod&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1009&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;钱九&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;29&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs stata">  @<span class="hljs-keyword">Test</span>
    public  void  testLife()
    &#123;
        ClassPathXmlApplicationContext <span class="hljs-keyword">ac</span> = new ClassPathXmlApplicationContext(<span class="hljs-string">&quot;spring-lifetime.xml&quot;</span>);
            User user1 = <span class="hljs-keyword">ac</span>.getBean(User.<span class="hljs-keyword">class</span>);
            User user2 = <span class="hljs-keyword">ac</span>.getBean(User.<span class="hljs-keyword">class</span>);
            System.<span class="hljs-keyword">out</span>.println(user1==user2);
            <span class="hljs-keyword">ac</span>.<span class="hljs-keyword">close</span>();<span class="hljs-comment">//刷新关闭容器关闭刷新</span>
    &#125;
<span class="hljs-comment">//生命周期1：实例化</span>
<span class="hljs-comment">//生命周期2：依赖注入</span>
<span class="hljs-comment">//生命周期3：初始化！</span>
<span class="hljs-comment">//生命周期1：实例化</span>
<span class="hljs-comment">//生命周期2：依赖注入</span>
<span class="hljs-comment">//生命周期3：初始化！</span>
<span class="hljs-comment">//false</span>
<span class="hljs-comment">//20:52:59.913 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Closing org.springframework.context.support.ClassPathXmlApplicationContext@6b2fad11, started on Wed Jul 05 20:52:59 CST 2023</span>
</code></pre></div>
<p>那什么时候实例化呢？</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- scope属性：取值prototype，bean在IOC容器中可以有多个实例，getBean()时创建对象    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.User&quot;</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">&quot;prototype&quot;</span> <span class="hljs-attr">init-method</span>=<span class="hljs-string">&quot;initMethod&quot;</span> <span class="hljs-attr">destroy-method</span>=<span class="hljs-string">&quot;destroyMethod&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;id&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1009&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;钱九&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;age&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;29&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;123456&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs java"> <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span>  <span class="hljs-title function_">testLife</span><span class="hljs-params">()</span>
    &#123;
        <span class="hljs-type">ConfigurableApplicationContext</span> <span class="hljs-variable">ac</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;spring-lifetime.xml&quot;</span>);
<span class="hljs-comment">//            User user1 = ac.getBean(User.class);</span>
           <span class="hljs-comment">/* User user2 = ac.getBean(User.class);</span>
<span class="hljs-comment">            System.out.println(user1==user2);</span>
<span class="hljs-comment">            ac.close();*/</span>
    &#125;
<span class="hljs-comment">//无输出结果</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs java"> <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span>  <span class="hljs-title function_">testLife</span><span class="hljs-params">()</span>
    &#123;
        <span class="hljs-type">ConfigurableApplicationContext</span> <span class="hljs-variable">ac</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;spring-lifetime.xml&quot;</span>);
          <span class="hljs-type">User</span> <span class="hljs-variable">user1</span> <span class="hljs-operator">=</span> ac.getBean(User.class);
           <span class="hljs-comment">/* User user2 = ac.getBean(User.class);</span>
<span class="hljs-comment">            System.out.println(user1==user2);</span>
<span class="hljs-comment">            ac.close();*/</span>
    &#125;
<span class="hljs-comment">//生命周期1：实例化</span>
<span class="hljs-comment">//生命周期2：依赖注入</span>
<span class="hljs-comment">//生命周期3：初始化</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs stata">  @<span class="hljs-keyword">Test</span>
    public  void  testLife()
    &#123;
        ConfigurableApplicationContext <span class="hljs-keyword">ac</span> = new ClassPathXmlApplicationContext(<span class="hljs-string">&quot;spring-lifetime.xml&quot;</span>);
          User user1 = <span class="hljs-keyword">ac</span>.getBean(User.<span class="hljs-keyword">class</span>);
            User user2 = <span class="hljs-keyword">ac</span>.getBean(User.<span class="hljs-keyword">class</span>);
            System.<span class="hljs-keyword">out</span>.println(user1==user2);
            <span class="hljs-keyword">ac</span>.<span class="hljs-keyword">close</span>();
    &#125;
<span class="hljs-comment">//生命周期1：实例化</span>
<span class="hljs-comment">//生命周期2：依赖注入</span>
<span class="hljs-comment">//生命周期3：初始化！</span>
<span class="hljs-comment">//生命周期1：实例化</span>
<span class="hljs-comment">//生命周期2：依赖注入</span>
<span class="hljs-comment">//生命周期3：初始化！</span>
<span class="hljs-comment">//false</span>
<span class="hljs-comment">//21:51:58.077 [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Closing org.springframework.context.support.ClassPathXmlApplicationContext@6b2fad11, started on Wed Jul 05 21:51:57 CST 2023</span>

<span class="hljs-comment">//进程已结束,退出代码0</span>
</code></pre></div>
<p>可以看出多例模式（scope&#x3D;”prototype”）是在或者bean对象时实例化</p>
<div class="code-wrapper"><pre><code class="hljs abnf">&lt;bean id<span class="hljs-operator">=</span><span class="hljs-string">&quot;user&quot;</span> class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.example.demo.pojo.User&quot;</span> scope<span class="hljs-operator">=</span><span class="hljs-string">&quot;singleton&quot;</span> init-method<span class="hljs-operator">=</span><span class="hljs-string">&quot;initMethod&quot;</span> destroy-method<span class="hljs-operator">=</span><span class="hljs-string">&quot;destroyMethod&quot;</span>&gt;
       &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;id&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;1009&quot;</span>&gt;&lt;/property&gt;
       &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;username&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;钱九&quot;</span>&gt;&lt;/property&gt;
        &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;age&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;29&quot;</span>&gt;&lt;/property&gt;
       &lt;property name<span class="hljs-operator">=</span><span class="hljs-string">&quot;password&quot;</span> value<span class="hljs-operator">=</span><span class="hljs-string">&quot;123456&quot;</span>&gt;&lt;/property&gt;
   &lt;/bean&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs java">  <span class="hljs-meta">@Test</span>
    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span>  <span class="hljs-title function_">testLife</span><span class="hljs-params">()</span>
    &#123;
        <span class="hljs-type">ConfigurableApplicationContext</span> <span class="hljs-variable">ac</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;spring-lifetime.xml&quot;</span>);
<span class="hljs-comment">//          User user1 = ac.getBean(User.class);</span>
           <span class="hljs-comment">/* User user2 = ac.getBean(User.class);</span>
<span class="hljs-comment">            System.out.println(user1==user2);</span>
<span class="hljs-comment">            ac.close();*/</span>
    &#125;
<span class="hljs-comment">//生命周期1：实例化</span>
<span class="hljs-comment">//生命周期2：依赖注入</span>
<span class="hljs-comment">//生命周期3：初始化！</span></code></pre></div>
<p>总结：这里可以看出单例为啥后面创建的类和第一个类的地址一样,单例模式在创建容器的时候实例化，依赖注入，初始化，随着容器的关闭而摧毁，多例模式在创建对象的时候实例化，依赖注入，初始化，容器关闭不会摧毁bean<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688565300195-fa73648e-ab3b-4fa5-a716-6c21979c83f1.png#averageHue=%23f2eedf&clientId=u03b8032e-d2db-4&from=paste&height=42&id=uacbe958a&originHeight=53&originWidth=637&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36090&status=done&style=none&taskId=u94654dea-0468-4695-99d0-cfddb2aae05&title=&width=509.6" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688561711858-4f5b5480-aec5-4dc9-9308-83fc4912b1d7.png#averageHue=%23f9f8f5&clientId=u03b8032e-d2db-4&from=paste&height=93&id=u11602db8&originHeight=116&originWidth=620&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=45923&status=done&style=none&taskId=u60a7bcae-e924-4b64-a56c-5b04cbe6a6c&title=&width=496" srcset="/img/loading.gif" lazyload alt="image.png"><br>在 Spring 容器中，每个 Bean 的生命周期包括以下三个阶段：</p>
<ol>
<li>实例化阶段：在这个阶段，容器会使用 Bean 的构造函数或工厂方法创建一个新的 Bean 实例。</li>
<li>初始化阶段：在这个阶段，容器会对 Bean 进行属性注入和其他初始化操作，例如调用 Bean 的 init-method 方法。</li>
<li>销毁阶段：在这个阶段，容器会销毁 Bean 实例，并在销毁前调用 Bean 的 destroy-method 方法进行清理操作。</li>
</ol>
<h4 id="bean的后置处理器："><a href="#bean的后置处理器：" class="headerlink" title="bean的后置处理器："></a>bean的后置处理器：</h4><p>bean的后置处理器可以在生命周期的初始化前后添加额外的操作，需要实现BeanPostProcessor接口（有2个默认方法），<br>且配置到IOC容器中，需要注意的是，bean后置处理器不是单独针对某一个bean生效，而是针对IOC容<br>器中所有bean都会执行<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688566339927-81ed4340-966a-4a88-bedb-26c8d44fcf24.png#averageHue=%23eeebdd&clientId=u03b8032e-d2db-4&from=paste&height=71&id=u546492a2&originHeight=89&originWidth=635&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=61617&status=done&style=none&taskId=u420ac884-47e3-4240-b82d-184ac46a1f3&title=&width=508" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">beans</span>.<span class="hljs-property">BeansException</span>;
<span class="hljs-keyword">import</span> org.<span class="hljs-property">springframework</span>.<span class="hljs-property">beans</span>.<span class="hljs-property">factory</span>.<span class="hljs-property">config</span>.<span class="hljs-property">BeanPostProcessor</span>;

<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MybeanPostProcessor</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BeanPostProcessor</span> &#123;
    <span class="hljs-comment">//初始化之前执行</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">postProcessBeforeInitialization</span>(<span class="hljs-title class_">Object</span> bean, <span class="hljs-title class_">String</span> beanName) throws <span class="hljs-title class_">BeansException</span> &#123;
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;☆☆☆&quot;</span> + beanName + <span class="hljs-string">&quot; = &quot;</span> + bean);
        <span class="hljs-keyword">return</span> bean;
    &#125;
    <span class="hljs-comment">//初始化之后执行</span>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-title class_">Object</span> <span class="hljs-title function_">postProcessAfterInitialization</span>(<span class="hljs-title class_">Object</span> bean, <span class="hljs-title class_">String</span> beanName) throws <span class="hljs-title class_">BeansException</span> &#123;
        <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;★★★&quot;</span> + beanName + <span class="hljs-string">&quot; = &quot;</span> + bean);
        <span class="hljs-keyword">return</span> bean;
    &#125;
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- bean的后置处理器要放入IOC容器才能生效    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;myBeanProcessor&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.MybeanPostProcessor&quot;</span>/&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs dockerfile">    @Test
    public  void  testProcessor()
    &#123;
        ConfigurableApplicationContext ac = new ClassPathXmlApplicationContext(<span class="hljs-string">&quot;spring-lifetime.xml&quot;</span>);
        <span class="hljs-keyword">User</span> user1 = ac.getBean(<span class="hljs-keyword">User</span>.class);
        System.out.println(user1);
        ac.close();
    &#125;
  /*  生命周期<span class="hljs-number">1</span>：实例化
    生命周期<span class="hljs-number">2</span>：依赖注入
☆☆☆<span class="hljs-keyword">user</span> = <span class="hljs-keyword">User</span>&#123;id=<span class="hljs-number">1009</span>, username=<span class="hljs-string">&#x27;钱九&#x27;</span>, password=<span class="hljs-string">&#x27;123456&#x27;</span>, age=<span class="hljs-number">29</span>&#125;
    生命周期<span class="hljs-number">3</span>：初始化！
        ★★★<span class="hljs-keyword">user</span> = <span class="hljs-keyword">User</span>&#123;id=<span class="hljs-number">1009</span>, username=<span class="hljs-string">&#x27;钱九&#x27;</span>, password=<span class="hljs-string">&#x27;123456&#x27;</span>, age=<span class="hljs-number">29</span>&#125;
    <span class="hljs-keyword">User</span>&#123;id=<span class="hljs-number">1009</span>, username=<span class="hljs-string">&#x27;钱九&#x27;</span>, password=<span class="hljs-string">&#x27;123456&#x27;</span>, age=<span class="hljs-number">29</span>&#125;
<span class="hljs-number">22</span>:<span class="hljs-number">13</span>:<span class="hljs-number">39.564</span> [main] DEBUG org.springframework.context.support.ClassPathXmlApplicationContext - Closing org.springframework.context.support.ClassPathXmlApplicationContext@<span class="hljs-number">73</span>f792cf, started on Wed Jul <span class="hljs-number">05</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span>:<span class="hljs-number">39</span> CST <span class="hljs-number">2023</span>

    进程已结束,退出代码<span class="hljs-number">0</span>
*/</code></pre></div>
<h4 id="接口的默认方法"><a href="#接口的默认方法" class="headerlink" title="接口的默认方法"></a>接口的默认方法</h4><div class="code-wrapper"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">MyInterface</span> &#123;
    <span class="hljs-comment">// 抽象方法</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">myMethod</span>()</span>;

    <span class="hljs-comment">// 默认方法</span>
    <span class="hljs-function"><span class="hljs-literal">default</span> <span class="hljs-keyword">void</span> <span class="hljs-title">myDefaultMethod</span>()</span> &#123;
        <span class="hljs-comment">// 方法体</span>
    &#125;
&#125;</code></pre></div>
<p>默认方法使用default关键字进行声明， 接口的默认方法可以访问接口中的静态变量和静态方法，但是不能访问实现类中的成员变量和成员方法。当一个类实现了多个接口并且这些接口中都有相同名称的默认方法时，编译器会报错。此时需要在实现类中覆盖默认方法并指定具体的实现。接口的默认方法可以被实现类直接使用，也可以被实现类重写。  接口的默认方法可以被继承，如果一个子接口继承了一个父接口，并且重写了父接口中的默认方法，那么子接口中的默认方法会覆盖父接口中的默认方法。 接口的默认方法可以被多继承，如果一个类实现了多个接口，并且这些接口中有相同签名的默认方法，那么这个类必须重写这个默认方法，或者使用super关键字来指定使用哪个接口中的默认方法。</p>
<h4 id="FactoryBean"><a href="#FactoryBean" class="headerlink" title="FactoryBean:"></a>FactoryBean:</h4><div class="code-wrapper"><pre><code class="hljs haxe"><span class="hljs-keyword">package</span> com.example.demo.pojo;

<span class="hljs-keyword">import</span> org.springframework.beans.factory.FactoryBean;

<span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">UserFactoryBean</span> <span class="hljs-keyword"><span class="hljs-keyword">implements</span> <span class="hljs-type">FactoryBean</span></span>&lt;<span class="hljs-title">User</span>&gt; </span>&#123;
   <span class="hljs-meta">@Override</span>
   <span class="hljs-keyword">public</span> User getObject() throws Exception &#123; 
       <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">User</span>();
 &#125;
   <span class="hljs-meta">@Override</span>
   <span class="hljs-keyword">public</span> Class&lt;?&gt; getObjectType() &#123; 
       <span class="hljs-keyword">return</span> User.class;
 &#125;
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs routeros">&lt;bean <span class="hljs-attribute">id</span>=<span class="hljs-string">&quot;user&quot;</span> <span class="hljs-attribute">class</span>=<span class="hljs-string">&quot;com.example.demo.pojo.UserFactoryBean&quot;</span>&gt;&lt;/bean&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs pgsql">  @Test
    <span class="hljs-built_in">public</span>  <span class="hljs-type">void</span>  factoryTest()
    &#123;
        //获取IOC容器
        ApplicationContext ac = <span class="hljs-built_in">new</span> ClassPathXmlApplicationContext(&quot;spring-factory.xml&quot;);
        //因为交给IOC容器管理的是<span class="hljs-keyword">user</span>对象
        <span class="hljs-keyword">User</span> <span class="hljs-keyword">user</span> = (<span class="hljs-keyword">User</span>) ac.getBean(&quot;user&quot;);
        <span class="hljs-keyword">System</span>.<span class="hljs-keyword">out</span>.println(<span class="hljs-keyword">user</span>);
    &#125;
<span class="hljs-comment">/*    生命周期1：实例化</span>
<span class="hljs-comment">    User&#123;id=null, username=&#x27;null&#x27;, password=&#x27;null&#x27;, age=null&#125;*/</span></code></pre></div>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688568299407-d1351508-cd00-4d10-bf82-8f32b10b3ddd.png#averageHue=%23f8f7f4&clientId=u03b8032e-d2db-4&from=paste&height=114&id=uf226db02&originHeight=143&originWidth=713&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=75650&status=done&style=none&taskId=uf5053da9-4cfc-42d5-8eab-0f6bcf536ed&title=&width=570.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="基于XML的自动装配："><a href="#基于XML的自动装配：" class="headerlink" title="基于XML的自动装配："></a>基于XML的自动装配：</h4><p><strong>简单来说就是要装配的bean的中，其中有属性为类（可以创建bean的），这个时候可以不用指定ref或者vaule，指定寻找IOC中的bean</strong></p>
<h6 id="写在前面："><a href="#写在前面：" class="headerlink" title="写在前面："></a>写在前面：</h6><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_45067620/article/details/118274014">【Spring】使用xml文件实现自动装配；使用注解@Autowired和@Resource实现自动装配_StudiousTiger的博客-CSDN博客</a><br>基于xml的自动装配是Spring框架提供的一种简化Bean依赖注入的方式，它可以让Spring容器根据Bean的名称或类型自动查找并注入相应的属性值，而不需要手动指定ref或value属性。在Spring配置文件中，为需要自动装配的Bean添加autowire属性，并指定其值为byName、byType、constructor、default或no。</p>
<p>•  byName表示根据Bean的名称进行自动装配，要求Bean的id与被注入属性的名称相同。</p>
<p>•  byType表示根据Bean的类型进行自动装配，要求Bean的类型与被注入属性的类型相同，且在容器中只有一个该类型的Bean。</p>
<p>•  constructor表示根据构造器参数进行自动装配，要求容器中有与构造器参数类型和顺序相匹配的Bean。</p>
<p>•  default表示使用容器默认的自动装配策略，通常是no，即不进行自动装配。</p>
<p>•  no表示不进行自动装配，需要手动指定ref或value属性。</p>
<p>下面举一个简单的例子来说明基于xml的自动装配。假设我们有一个Person类，它有一个name属性和一个Car属性：</p>
<div class="code-wrapper"><pre><code class="hljs haxe"><span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span> </span>&#123;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">String</span> name;
<span class="hljs-keyword">private</span> Car car;

<span class="hljs-comment">// 省略构造器、getter和setter</span>
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs angelscript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-symbol">Car</span> &#123;
<span class="hljs-keyword">private</span> String brand;
<span class="hljs-keyword">private</span> <span class="hljs-built_in">double</span> price;

<span class="hljs-comment">// 省略构造器、getter和setter</span>
&#125;</code></pre></div>
<p>我们想要让Spring容器自动为Person对象注入Car对象，而不需要手动指定ref属性。我们可以在Spring配置文件中，为Person Bean添加autowire属性，并设置其值为byName或byType：</p>
<bean id="car" class="com.example.Car">
<property name="brand" value="BMW"/>
<property name="price" value="300000"/>
</bean>

<bean id="person" class="com.example.Person" autowire="byName">
<property name="name" value="Tom"/>
</bean>

<p>或者</p>
<bean id="car" class="com.example.Car">
<property name="brand" value="BMW"/>
<property name="price" value="300000"/>
</bean>

<bean id="person" class="com.example.Person" autowire="byType">
<property name="name" value="Tom"/>
</bean>
#### xml的自动装配开始：
<div class="code-wrapper"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;
   <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserService</span> userService;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setUserService</span>(<span class="hljs-params">UserService userService</span>) &#123;
       <span class="hljs-variable language_">this</span>.<span class="hljs-property">userService</span> = userService;
 &#125;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">saveUser</span>(<span class="hljs-params"></span>)&#123;
       userService.<span class="hljs-title function_">saveUser</span>();
 &#125;
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> &#123;
     <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">saveUser</span>()</span>;
&#125;
</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserService</span> &#123;
   <span class="hljs-keyword">private</span> <span class="hljs-title class_">UserDao</span> userDao;
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">setUserDao</span>(<span class="hljs-params">UserDao userDao</span>) &#123;
         <span class="hljs-variable language_">this</span>.<span class="hljs-property">userDao</span> = userDao; 
 &#125;
   <span class="hljs-meta">@Override</span>
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">saveUser</span>(<span class="hljs-params"></span>) &#123; 
       userDao.<span class="hljs-title function_">saveUser</span>(); 
 &#125;
    &#125;
</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs csharp"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">UserDao</span> &#123;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">saveUser</span>()</span>;
&#125;
</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs typescript"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserDaoImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">UserDao</span> &#123;
   <span class="hljs-meta">@Override</span>
   <span class="hljs-keyword">public</span> <span class="hljs-built_in">void</span> <span class="hljs-title function_">saveUser</span>(<span class="hljs-params"></span>) &#123;
       <span class="hljs-title class_">System</span>.<span class="hljs-property">out</span>.<span class="hljs-title function_">println</span>(<span class="hljs-string">&quot;保存成功&quot;</span>); 
 &#125;
&#125;</code></pre></div>
上面的类和接口有一环一环的依赖，controller依赖server，server依赖Dap
<div class="code-wrapper"><pre><code class="hljs applescript">&lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;userController&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.demo.controller.UserController&quot;</span> &gt;
    &lt;<span class="hljs-keyword">property</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-keyword">ref</span>=<span class="hljs-string">&quot;userService&quot;</span>&gt;&lt;/<span class="hljs-keyword">property</span>&gt;
&lt;/bean&gt;
    &lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.demo.service.impl.UserServiceImpl&quot;</span> &gt;
        &lt;<span class="hljs-keyword">property</span> <span class="hljs-built_in">name</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-keyword">ref</span>=<span class="hljs-string">&quot;userDao&quot;</span>&gt;&lt;/<span class="hljs-keyword">property</span>&gt;
    &lt;/bean&gt;
    &lt;bean <span class="hljs-built_in">id</span>=<span class="hljs-string">&quot;userDao&quot;</span> <span class="hljs-built_in">class</span>=<span class="hljs-string">&quot;com.example.demo.UserDao.impl.UserDaoImpl&quot;</span> &gt;
    &lt;/bean&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs java"><span class="hljs-meta">@Test</span>
 <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span>  <span class="hljs-title function_">testAutowire</span> <span class="hljs-params">()</span>
 &#123;
     <span class="hljs-type">ClassPathXmlApplicationContext</span> <span class="hljs-variable">context</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ClassPathXmlApplicationContext</span>(<span class="hljs-string">&quot;spring-autowire.xml&quot;</span>);
     <span class="hljs-type">UserController</span> <span class="hljs-variable">userController</span> <span class="hljs-operator">=</span> context.getBean(UserController.class);
    userController.saveUser();
 &#125;
 <span class="hljs-comment">//输出</span>
 <span class="hljs-comment">//保存成功</span></code></pre></div>
###### 修改配置文件自动装配：byType
使用bean标签的autowire属性设置自动装配效果 
自动装配方式：byType
byType：根据类型匹配IOC容器中的某个兼容类型的bean，为属性自动赋值
若在IOC中，没有任何一个兼容类型的bean能够为属性赋值，则该属性不装配，即值为默认值 
null
若在IOC中，有多个兼容类型的bean能够为属性赋值，则抛出异常 
NoUniqueBeanDefinitionException
自动装配方式：byName byName：将自动装配的属性的属性名，作为bean的id在IOC容器中匹配相对应的bean进行赋值
<div class="code-wrapper"><pre><code class="hljs abnf">&lt;bean id<span class="hljs-operator">=</span><span class="hljs-string">&quot;userController&quot;</span>
          class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.example.demo.controller.UserController&quot;</span> autowire<span class="hljs-operator">=</span><span class="hljs-string">&quot;byType&quot;</span>&gt;
    &lt;/bean&gt;
    &lt;bean id<span class="hljs-operator">=</span><span class="hljs-string">&quot;userService&quot;</span>
          class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.example.demo.service.impl.UserServiceImpl&quot;</span> autowire<span class="hljs-operator">=</span><span class="hljs-string">&quot;byType&quot;</span>&gt;
    &lt;/bean&gt;
    &lt;bean id<span class="hljs-operator">=</span><span class="hljs-string">&quot;userDao&quot;</span> class<span class="hljs-operator">=</span><span class="hljs-string">&quot;com.example.demo.UserDao.impl.UserDaoImpl&quot;</span>&gt;&lt;/bean&gt;</code></pre></div>
###### 总结：
![image.png](https://cdn.nlark.com/yuque/0/2023/png/28066124/1688572395284-7fc48f55-6850-4e8f-9b82-148eb630de6a.png#averageHue=%23ede9d9&clientId=u03b8032e-d2db-4&from=paste&height=49&id=u8f11fe5c&originHeight=61&originWidth=687&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=34049&status=done&style=none&taskId=ub921892a-9e64-42ec-bee0-6b2bc914922&title=&width=549.6)**（自动装配只能装配那些接口，类等属性，也就是要用ref标签引用的属性，其他的不能，需要手动设置属性）**
![image.png](https://cdn.nlark.com/yuque/0/2023/png/28066124/1688572942220-8d320593-000c-45a1-b796-a434a5b204c4.png#averageHue=%23edeada&clientId=u03b8032e-d2db-4&from=paste&height=62&id=u7f7b0613&originHeight=77&originWidth=690&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=58220&status=done&style=none&taskId=u87b52934-0a7f-4080-a642-a755a0a4fe8&title=&width=552)
![image.png](https://cdn.nlark.com/yuque/0/2023/png/28066124/1688573407060-7980193b-507e-44a1-8659-d909df492fab.png#averageHue=%23f5f4ef&clientId=u03b8032e-d2db-4&from=paste&height=93&id=u6ed64cfc&originHeight=116&originWidth=682&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=85159&status=done&style=none&taskId=u128337dc-3339-46fa-bb84-27541f90112&title=&width=545.6)
###### 自动装配byName:
byName自动装配它的作用是根据bean的属性名和xml中定义的bean的id进行匹配，如果匹配成功，则将对应的bean注入到属性中。
#### 基于注解的bean管理：
基于xml的管理常用于第三方提供的bean
①注解
和 XML 配置文件一样，注解本身并不能执行，注解本身仅仅只是做一个标记，具体的功能是框架检测 
到注解标记的位置，然后针对这个位置按照注解标记的功能来执行具体操作。
本质上：所有一切的操作都是Java代码来完成的，XML和注解只是告诉框架中的Java代码如何执行。
**注意：基于注解管理bean的时候，注解是要加到实现类的，不能加到接口的**
#### 相关注解：
@Component：将类标识为普通组件  @Controller：将类标识为控制层组件  @Service：将类标 
识为业务层组件  @Repository：将类标识为持久层组件（这4个注解功能都是将类标记为组件，只不过他们各自的含义不一样。对应spring管理ioc的时候，这4个注解是等效的，也就是说这4个注解可以替换，但是对于开发人员来说，他们是有各自不同的含义的）
<div class="code-wrapper"><pre><code class="hljs html">@Component
@Component注解是标记一个类为Spring管理的组件的基本注解。被@Component注解标记的类会被自动扫描并创建为Bean对象，可以通过IoC容器进行管理和使用。通常情况下，使用@Component注解被标记的类都是一些通用的Bean类，没有特别的业务逻辑。
@Component还有一些扩展的注解，如@Repository, @Service, @Controller等，它们都是@Component的元注解（注解注解的注解），具有相同的功能，但是在不同的层次上有不同的含义。@Component还可以配合@PostConstruct和@PreDestroy注解来指定bean的初始化和销毁方法。

@Controller
@Controller注解是标记一个类为Spring MVC中的控制器的注解。被@Controller注解标记的类会被自动扫描并创建为Bean对象，并且会被Spring MVC框架用作请求处理器。@Controller注解通常用于处理用户请求，并返回相应的视图。

@Service
@Service注解是标记一个类为服务层组件的注解。被@Service注解标记的类会被自动扫描并创建为Bean对象，并且通常用于业务逻辑的处理，例如数据的处理、计算等。@Service注解通常被用作一个服务类的标志。

@Repository
@Repository注解是标记一个类为数据访问层组件的注解。被@Repository注解标记的类会被自动扫描并创建为Bean对象，并且通常用于数据的访问和持久化操作，例如数据库的访问、文件的读写等。

@Autowired
@Autowired注解是自动装配的注解，它可以自动将一个Bean注入到另一个Bean中。它可以用于属性、构造函数和方法上。当一个Bean需要使用其他Bean时，可以使用@Autowired注解将需要的Bean注入到当前Bean中，完成依赖注入。
当用在构造器上时，Spring会自动查找与构造器参数类型匹配的Bean，并将它们注入到相应的位置。如果存在多个类型匹配的Bean，Spring会抛出一个异常。在这种情况下，我们可以使用@Qualifier注解来指定要注入的Bean。
@Qualifier
@Qualifier注解是用于注入特定Bean的注解。当一个接口有多个实现类时，可以使用@Qualifier注解指定需要注入的实现类，避免自动装配出现歧义。

@Value
@Value注解是用于注入属性值的注解，可以将配置文件中的属性值注入到Bean中。@Value注解可以用于属性、构造函数和方法上。

@PostConstruct
@PostConstruct注解是在Bean初始化之后执行的方法级别注解。当Bean初始化完成后，@PostConstruct注解的方法会被自动调用，可以在该方法中进行一些初始化操作。

@PreDestroy
@PreDestroy注解是在Bean销毁之前执行的方法级别注解。当Bean销毁之前，@PreDestroy注解的方法会被自动调用，可以在该方法中进行一些清理操作。</code></pre></div>
#### 扫描组件：
###### 最基本的：
为了让spring能够扫描到注解，需要在spring的配置文件添加关于扫描的配置，和在pom文件中添加相关的依赖
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.example&quot;</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span>
   &lt;!-component-scan:组件扫描，base-package:通过包来扫描，包名写的越精确扫描的时间越短-&gt;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 基于Maven依赖传递性，导入spring-context依赖即可导入当前所需所有jar包    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div>
###### 指定排除的：
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.atguigu&quot;</span>&gt;</span> 
   <span class="hljs-comment">&lt;!-- context:exclude-filter标签：指定排除规则    --&gt;</span> 
   <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">type：设置排除或包含的依据</span>
<span class="hljs-comment">type=&quot;annotation&quot;，根据注解排除，expression中设置要排除的注解的全类名</span>
<span class="hljs-comment">type=&quot;assignable&quot;，根据类型排除，expression中设置要排除的类型的全类名</span>
<span class="hljs-comment">在IDE中，可以使用快捷键或右键菜单来复制类的全类名，</span>
<span class="hljs-comment">例如在IDEA中，可以选中一个类名，然后右键选择Copy Reference，</span>
<span class="hljs-comment">  或者使用Ctrl+Alt+Shift+C快捷键。--&gt;</span>
expression=&quot;org.springframework.stereotype.Controller&quot;/&gt; 
       <span class="hljs-comment">&lt;!--&lt;context:exclude-filter type=&quot;assignable&quot; </span>
<span class="hljs-comment">expression=&quot;com.atguigu.controller.UserController&quot;/&gt;--&gt;</span>
&lt;/context:component-scan</code></pre></div>
###### 只扫描指定的：
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.atguigu&quot;</span> <span class="hljs-attr">use-default-filters</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span> 
   <span class="hljs-comment">&lt;!-- context:include-filter标签：指定在原有扫描规则的基础上追加的规则    --&gt;</span>
   <span class="hljs-comment">&lt;!-- use-default-filters属性：取值false表示关闭默认扫描规则    --&gt;</span>
   <span class="hljs-comment">&lt;!-- 此时必须设置use-default-filters=&quot;false&quot;，因为默认规则即扫描指定包下所有类    --&gt;</span> 
   <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">type：设置排除或包含的依据</span>
<span class="hljs-comment">type=&quot;annotation&quot;，根据注解排除，expression中设置要排除的注解的全类名</span>
<span class="hljs-comment">type=&quot;assignable&quot;，根据类型排除，expression中设置要排除的类型的全类名</span>
<span class="hljs-comment">--&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">context:include-filter</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;annotation&quot;</span> </span>
<span class="hljs-tag"><span class="hljs-attr">expression</span>=<span class="hljs-string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span>
<span class="hljs-comment">&lt;!--&lt;context:include-filter type=&quot;assignable&quot; </span>
<span class="hljs-comment">expression=&quot;com.atguigu.controller.UserController&quot;/&gt;--&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span></code></pre></div>
#### bean的id:
在Spring中，Bean ID可以通过多种方式指定，包括：

<ol>
<li><p>默认规则:扫描加注解<br>当使用@Component等注解标记一个类时，如果没有显式指定Bean ID，则默认使用类名的首字母小写作为Bean ID。例如，一个名为UserService的类，其默认的Bean ID为userService。</p>
</li>
<li><p>使用@Bean注解<br>当使用@Bean注解在配置类中定义一个Bean时，可以显式指定Bean ID。例如：</p>
<div class="code-wrapper"><pre><code class="hljs haxe"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">AppConfig</span> </span>&#123;
    <span class="hljs-meta">@Bean</span>(<span class="hljs-string">&quot;userService&quot;</span>)
    <span class="hljs-keyword">public</span> UserService userService() &#123;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-type">UserServiceImpl</span>();
    &#125;
&#125;</code></pre></div>
<p>在这个例子中，@Bean注解用于定义一个Bean，并指定了Bean ID为userService。<br>3.使用注解的value属性自定义id：<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688795689516-49cc89a8-1ca6-44a3-8e53-f23746ed1356.png#averageHue=%23141124&clientId=u2b1598f3-93fd-4&from=paste&height=163&id=u564574e3&originHeight=204&originWidth=519&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=26990&status=done&style=none&taskId=u2fc2ea09-7a87-43f5-a45b-cb706c12abf&title=&width=415.2" srcset="/img/loading.gif" lazyload alt="image.png"> </p>
</li>
<li><p>使用XML配置<br>在XML配置文件中，可以使用<bean>元素来定义一个Bean，并指定Bean ID。例如：</p>
<div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;userService&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.demo.UserService&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置其他属性 --&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>
<p>在这个例子中，使用<bean>元素定义了一个名为userService的Bean，并指定其类为com.example.demo.UserService。<br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688795401819-1715b01b-338a-4464-a56a-efc65c120801.png#averageHue=%23191529&clientId=u2b1598f3-93fd-4&from=paste&height=205&id=u2e8de501&originHeight=256&originWidth=823&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49167&status=done&style=none&taskId=u46321d7e-f1a1-4c67-b479-65d93cf66c6&title=&width=658.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
</li>
</ol>
<h4 id="基于注解的自动装配："><a href="#基于注解的自动装配：" class="headerlink" title="基于注解的自动装配："></a>基于注解的自动装配：</h4><h6 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h6><p><strong>基于注解的自动装配，不需要在本类中为该属性设置get和set方法</strong></p>
<h6 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired:"></a>@Autowired:</h6><p>用法：在基于注解的自动装配中用于将一个Bean注入到另一个Bean中。<br>1.可以标识在成员变量上，这个时候该成员方法可以不用在它所在的类中设置相关的get和set方法。<br>2.当我们使用@Autowired注解时，Spring会自动查找与被注入的属性或方法参数类型匹配的Bean，并将它们注入到相应的位置。例如：</p>
<div class="code-wrapper"><pre><code class="hljs haxe"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-title class_"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword"><span class="hljs-keyword">implements</span> <span class="hljs-type">UserService</span></span> </span>&#123;
    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">private</span> UserDao userDao;

    <span class="hljs-comment">// ...</span>
&#125;</code></pre></div>
<p>在这个例子中，我们使用@Autowired注解将UserDao注入到了UserServiceImpl中的userDao属性中。当Spring容器启动时，它会自动找到一个类型为UserDao的Bean，并将它注入到userDao属性中。<br>@Autowired注解可以用在构造器、属性、方法上。当用在构造器上时，Spring会自动查找与构造器参数类型匹配的Bean，并将它们注入到相应的位置。例如：</p>
<div class="code-wrapper"><pre><code class="hljs kotlin"><span class="hljs-meta">@Component</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">UserController</span> &#123;
    <span class="hljs-keyword">private</span> UserService userService;

    <span class="hljs-meta">@Autowired</span>
    <span class="hljs-keyword">public</span> UserController(UserService userService) &#123;
        <span class="hljs-keyword">this</span>.userService = userService;
    &#125;

    <span class="hljs-comment">// ...</span>
&#125;</code></pre></div>
<p>在这个例子中，我们使用@Autowired注解将userService注入到了构造器中。当Spring容器启动时，它会自动查找一个类型为UserService的Bean，并将它注入到构造器中。<br>需要注意的是，如果存在多个类型匹配的Bean，Spring会抛出一个异常。在这种情况下，我们可以使用@Qualifier注解来指定要注入的Bean。例如：</p>
<div class="code-wrapper"><pre><code class="hljs less"><span class="hljs-variable">@Component</span>
public class UserServiceImpl implements UserService &#123;
    <span class="hljs-variable">@Autowired</span>
    <span class="hljs-variable">@Qualifier</span>(<span class="hljs-string">&quot;userDaoImpl&quot;</span>)
    private UserDao userDao;

    <span class="hljs-comment">// ...</span>
&#125;</code></pre></div>
<p>在这个例子中，我们使用@Qualifier注解指定了要注入的Bean的名称为”userDaoImpl”。这样，当存在多个类型为UserDao的Bean时，Spring会查找名称为”userDaoImpl”的Bean并将它注入到userDao属性中。<br> required: 这个属性可以指定是否必须存在一个匹配的bean。默认值是true，如果没有找到匹配的bean，会抛出异常。如果设置为false，那么当没有找到匹配的bean时，字段或者参数会被设置为null。</p>
<h6 id="原理："><a href="#原理：" class="headerlink" title="原理："></a>原理：</h6><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688861603142-9afafff6-f7cc-4ea5-a103-a6bdfff4f5cb.png#averageHue=%23efebdf&clientId=u581d0f14-5c03-4&from=paste&height=136&id=u7388e55c&originHeight=170&originWidth=743&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=137106&status=done&style=none&taskId=u13fb6161-b3c4-4948-aa03-ec4476286a9&title=&width=594.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h4 id="代理模式的介绍："><a href="#代理模式的介绍：" class="headerlink" title="代理模式的介绍："></a>代理模式的介绍：</h4><p>二十三种设计模式中的一种，属于结构型模式。它的作用就是通过提供一个代理类，让我们在调用目标<br>方法的时候，不再是直接对目标方法进行调用，而是通过代理类间接调用。让不属于目标方法核心逻辑<br>的代码从目标方法中剥离出来——解耦。调用目标方法时先调用代理对象的方法，减少对目标方法的调<br>用和打扰，同时让附加功能能够集中在一起也有利于统一维护。<strong>（简单来说就是在调用目标对象之前进行额外的操作，这个时候就需要进行代理，用代理对象来调用目标对象的操作，并且在代理对象中实现额外操作。可能是使用到代理的情况：</strong>当创建一个对象的开销很大时，可以使用代理来延迟对象的创建，只有在需要访问对象时才会创建对象，从而减少了开销。当需要控制对对象的访问时，可以使用代理来限制对对象的访问。代理可以检查调用者的权限，从而保护对象的安全性。<strong>）</strong><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688864926855-30f62a2a-4dab-4cf2-a6ad-c34cd7061f78.png#averageHue=%23ececec&clientId=u581d0f14-5c03-4&from=paste&height=418&id=u74fd2868&originHeight=522&originWidth=733&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=128453&status=done&style=none&taskId=ub1d549b4-1699-4c3b-802d-de767a3e791&title=&width=586.4" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs html">public interface UserService &#123;
    void save(User user);
&#125;

public class UserServiceImpl implements UserService &#123;
    @Override
    public void save(User user) &#123;
        // 保存用户信息
    &#125;
&#125;

public class UserProxy implements UserService &#123;
    private UserService userService = new UserServiceImpl();

    @Override
    public void save(User user) &#123;
        // 在保存用户信息之前进行一些操作，例如记录日志等
        userService.save(user);
        // 在保存用户信息之后进行一些操作，例如发送消息等
    &#125;
&#125;</code></pre></div>
<p>在这个示例中，UserProxy类是UserService接口的实现类，它包含一个UserService类型的成员变量userService。在UserProxy类的save方法中，我们可以在调用userService的save方法之前和之后执行其他操作。这样，我们就可以通过UserProxy类来控制对UserServiceImpl对象的访问，从而实现代理模式。</p>
<h4 id="静态代理："><a href="#静态代理：" class="headerlink" title="静态代理："></a>静态代理：</h4><p>静态代理确实实现了解耦，但是由于代码都写死了，完全不具备任何的灵活性。就拿日志功能来<br>说，将来其他地方也需要附加日志，那还得再声明更多个静态代理类，那就产生了大量重复的代<br>码，日志功能还是分散的，没有统一管理。<br>提出进一步的需求：将日志功能集中到一个代理类中，将来有任何日志需求，都通过这一个代理<br>类来实现。这就需要使用动态代理技术了</p>
<h4 id="动态代理："><a href="#动态代理：" class="headerlink" title="动态代理："></a>动态代理：</h4><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688867552440-d719ebc6-8e68-4af2-81ab-88259681a121.png#averageHue=%23faf9f7&clientId=u280da01d-7a94-4&from=paste&height=126&id=u3d72dfb1&originHeight=157&originWidth=617&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=56798&status=done&style=none&taskId=u47a084bc-7dd2-4269-a126-54af38e5a40&title=&width=493.6" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h6 id="jdk动态代理"><a href="#jdk动态代理" class="headerlink" title="jdk动态代理"></a>jdk动态代理</h6><p>JDK动态代理是Java提供的一种动态代理实现方式，它基于接口实现，通过反射机制在运行时生成代理类，实现对接口方法的代理。JDK动态代理的代理对象名称是由Proxy类的静态方法newProxyInstance动态生成的，它的格式是$Proxy+数字，其中的数字是随机生成的，所以其名称是不可预测的。<br>JDK动态代理需要实现InvocationHandler接口，该接口只有一个方法invoke，该方法会在代理对象调用方法时被调用，从而实现对被代理方法的增强逻辑。<br>下面是一个简单的JDK动态代理示例，假设有一个UserService接口和一个UserServiceImpl类，我们可以使用JDK动态代理来对UserServiceImpl对象进行代理：</p>
<div class="code-wrapper"><pre><code class="hljs aspectj"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">UserService</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(User user)</span></span>;
&#125;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UserServiceImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">UserService</span> </span>&#123;
    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">save</span><span class="hljs-params">(User user)</span> </span>&#123;
        <span class="hljs-comment">// 保存用户信息</span>
    &#125;
&#125;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyInvocationHandler</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">InvocationHandler</span> </span>&#123;
    <span class="hljs-keyword">private</span> Object <span class="hljs-keyword">target</span>;

    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MyInvocationHandler</span><span class="hljs-params">(Object <span class="hljs-keyword">target</span>)</span> </span>&#123;
        <span class="hljs-keyword">this</span>.<span class="hljs-keyword">target</span> = <span class="hljs-keyword">target</span>;
    &#125;

    <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function">Object <span class="hljs-title">invoke</span><span class="hljs-params">(Object proxy, Method method, Object[] args)</span> <span class="hljs-keyword">throws</span> Throwable </span>&#123;
        <span class="hljs-comment">// 在调用被代理对象的方法之前执行一些操作，例如记录日志等</span>
        Object result = method.invoke(<span class="hljs-keyword">target</span>, args);
        <span class="hljs-comment">// 在调用被代理对象的方法之后执行一些操作，例如发送消息等</span>
        <span class="hljs-keyword">return</span> result;
    &#125;
&#125;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Demo</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String[] args)</span> </span>&#123;
        UserService userService = <span class="hljs-keyword">new</span> UserServiceImpl();
        MyInvocationHandler <span class="hljs-keyword">handler</span> = <span class="hljs-keyword">new</span> MyInvocationHandler(userService);
        UserService proxy = (UserService) Proxy.newProxyInstance(
            userService.getClass().getClassLoader(),
            userService.getClass().getInterfaces(),
            <span class="hljs-keyword">handler</span>
        );
        proxy.save(<span class="hljs-keyword">new</span> User());
    &#125;
&#125;</code></pre></div>
<p>在这个示例中，我们创建了一个MyInvocationHandler类来实现对UserServiceImpl对象的代理。在MyInvocationHandler类中，我们通过反射调用被代理对象的方法，并在调用之前和之后执行一些操作。然后，我们使用Proxy类的静态方法newProxyInstance来创建代理对象，并将其强制转换为UserService类型。最后，我们调用代理对象的save方法来保存用户信息。</p>
<h4 id="AOP介绍："><a href="#AOP介绍：" class="headerlink" title="AOP介绍："></a>AOP介绍：</h4><p>简单来说就是我们要调用目标对象方法的之前或者之后，我们要进行额外的操作，我们不通过修改目标对象的方法来实现，而是通过其他方法实现这就是AOP要解决的问题。<br>见尚硅谷笔记</p>
<h4 id="基于注解的AOP："><a href="#基于注解的AOP：" class="headerlink" title="基于注解的AOP："></a>基于注解的AOP：</h4><h6 id="准备："><a href="#准备：" class="headerlink" title="准备："></a>准备：</h6><p>配置pom文件依赖：</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 基于Maven依赖传递性，导入spring-context依赖(是IOC的依赖)即可导入当前所需所有jar包    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-comment">&lt;!-- junit测试    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre></div>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688871638743-64ecae28-865e-4cac-8ce2-bcf7ea27d0e4.png#averageHue=%230e0c09&clientId=u280da01d-7a94-4&from=paste&height=209&id=u6578205b&originHeight=261&originWidth=618&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=30999&status=done&style=none&taskId=u5e2c5f5b-a607-45c4-b493-f27fd006994&title=&width=494.4" srcset="/img/loading.gif" lazyload alt="image.png"><br>配置Spring配置文件：</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment"> 基于注解的AOP的实现：</span>
<span class="hljs-comment"> 1、将目标对象和切面交给IOC容器管理（注解+扫描）</span>
<span class="hljs-comment"> 2、开启AspectJ的自动代理，为目标对象自动生成代理</span>
<span class="hljs-comment"> 3、将切面类通过注解@Aspect标识</span>
<span class="hljs-comment"> &lt;context:component-scan&gt;标签用于自动扫描指定包及其子包下的类，并将其注册为bean。</span>
<span class="hljs-comment">     在启用基于注解的AOP时，我们需要使用该标签来扫描所有带有@Aspect注解的类，并将其转换为切面</span>
<span class="hljs-comment">&lt;aop:aspectj-autoproxy /&gt;元素表示开启基于AspectJ注解的AOP自动代理，</span>
<span class="hljs-comment">让Spring容器能够识别@Aspect注解标注的切面类，并根据切面类中的通知和切入点配置为目标对象生成</span>
<span class="hljs-comment">代理对象。</span>
<span class="hljs-comment">    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.example&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span>
 <span class="hljs-tag">&lt;<span class="hljs-name">aop:aspectj-autoproxy</span> /&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">package com.example;

public interface Calculator &#123;
int add(int i, int j);
int sub(int i, int j);
int mul(int i, int j);
int div(int i, int j);
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">package com.example;

import org.springframework.stereotype.Component;

@Component
public class CalculatorPureImpl implements Calculator &#123;
    @Override
    public int add(int i, int j) &#123;
        int result = i + j;
        System.out.println(&quot;方法内部    result = &quot; + result);
        return result;
    &#125;

    @Override
    public int sub(int i, int j) &#123;
        int result = i - j;
        System.out.println(&quot;方法内部    result = &quot; + result);
        return result;
    &#125;

    @Override
    public int mul(int i, int j) &#123;
        int result = i * j;
              System.out.println(&quot;方法内部    result = &quot; + result);
       return result;
 &#125;
   
    @Override
   

    public int div(int i, int j) &#123;
       int result = i / j;
       System.out.println(&quot;方法内部    result = &quot; + result);
       return result;
 &#125;
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">package com.example;

import org.aspectj.lang.JoinPoint;
import org.aspectj.lang.ProceedingJoinPoint;
import org.aspectj.lang.annotation.*;
import org.springframework.stereotype.Component;

import java.util.Arrays;
//在切面中需要通过指定的注解，将方法标识为通知方法
// @Aspect表示这个类是一个切面类
@Aspect
// @Component注解保证这个切面类能够放入IOC容器，切面类必须要做IOC容器中 
@Component
public class LogAspect &#123;
    //@Before前置通知，在方法执行之前执行,下面的*表示当前类中的所有方法，..表示任意参数
   @Before(&quot;execution(public int  CalculatorPureImpl.* (..))&quot;)
   //JoinPoint连接点
               public void beforeMethod(JoinPoint joinPoint)&#123;
       //joinPoint.getSignature()获取当前连接点方法的签名信息，getName()获取连接点方法的方法名
       String methodName = joinPoint.getSignature().getName();
       //joinPoint.getArgs()获取连接点方法的参数列表
       String args = Arrays.toString(joinPoint.getArgs());
       System.out.println(&quot;Logger--&gt;前置通知，方法名：&quot;+methodName+&quot;，参数：&quot;+args);
                 &#125;
     //@After后置通知，也就是方法返回值返回之后才直接执行。
   @After(&quot;execution(*  com.example.CalculatorPureImpl.*(..))&quot;)
   public void afterMethod(JoinPoint joinPoint)&#123;
       String methodName = joinPoint.getSignature().getName();
       System.out.println(&quot;Logger--&gt;后置通知，方法名：&quot;+methodName);
 &#125;
    //在返回通知中若要获取目标对象的返回值，只需要通过 @AfterReturning注解的returning属性，
//    returning：参数名称，用于指定返回结果的变量名。在通知方法中，可以使用该变量来访问返回结果。这里的返回结果变量名为result。
//    throwing：参数名称，用于指定抛出的异常变量名。在通知方法中，可以使用该变量来访问抛出的异常。这里的异常变量名为ex。
    @AfterReturning(value = &quot;execution(* com.example.CalculatorPureImpl.*(..))&quot;, returning = &quot;result&quot;)
               public void afterReturningMethod(JoinPoint joinPoint, Object result)&#123;
       String methodName = joinPoint.getSignature().getName();
       System.out.println(&quot;Logger--&gt;返回通知，方法名：&quot;+methodName+&quot;，结 果：&quot;+result);
                 &#125;
//环绕通知（前面几种通知的集合）：ProceedingJoinPoint继承自JoinPoint接口。相对于JoinPoint，
//ProceedingJoinPoint多了一个proceed()方法，用于手动调用目标方法并获取返回值。
//环绕通知必须有返回值，返回值的类型是proceed方法返回的类型

   @Around(&quot;execution(*  com.example.CalculatorPureImpl.*(..))&quot;)
   public Object aroundMethod(ProceedingJoinPoint joinPoint)&#123;
             String methodName = joinPoint.getSignature().getName(); 
       String args = Arrays.toString(joinPoint.getArgs());
       Object result = null; 
       try &#123;

           System.out.println(&quot;环绕通知--&gt;目标对象方法执行之前&quot;); 
   //目标对象（连接点）方法的执行，只有下面这条语句执行后才能在目标对象方法中添加额外的操作
           result = joinPoint.proceed();
           System.out.println(&quot;环绕通知--&gt;目标对象方法返回值之后&quot;); 
       &#125; catch (Throwable throwable) &#123;//捕获目标对象方法的异常
           throwable.printStackTrace();
           System.out.println(&quot;环绕通知--&gt;目标对象方法出现异常时&quot;); 
       &#125; finally &#123;
           System.out.println(&quot;环绕通知--&gt;目标对象方法执行完毕&quot;); 
     &#125;
       return result; 
 &#125;
&#125;
</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">@Test
   public void  test()
   &#123;
       ClassPathXmlApplicationContext ioc = new ClassPathXmlApplicationContext(&quot;aop.annotation.xml&quot;);
       //AOP底层是代理模式，这里我们应该获取代理对象的bean,如果获取的是目标对象会报该对象的bean不可用
       //注意这里的代理对象表示LogAspect,代理对象而是AOP底层JDK动态代理生成的，名称是不可预测的
       //但是它却实现了目标对象的接口，可以通过接口声明
        Calculator logAspect= ioc.getBean(Calculator.class);
        logAspect.add(1,1);
   &#125;</code></pre></div>
<h4 id="切面的优先级："><a href="#切面的优先级：" class="headerlink" title="切面的优先级："></a>切面的优先级：</h4><p>@Order注解是Spring AOP中用于指定通知顺序的注解。通常情况下，多个切面的通知会按照它们定义的顺序依次执行。但是，如果我们需要显式地指定通知的执行顺序，可以使用@Order注解来实现。<br>@Order注解可以用于类级别和方法级别，它的值越小，优先级越高</p>
<h4 id="jdbcTemplate"><a href="#jdbcTemplate" class="headerlink" title="jdbcTemplate:"></a>jdbcTemplate:</h4><p>Spring 框架对 JDBC 进行封装，使用 JdbcTemplate 方便实现对数据库操作</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- 基于Maven依赖传递性，导入spring-context依赖即可导入当前所需所有jar包    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring 持久化层支持jar包    --&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring 在执行持久化层操作、与持久化层技术进行整合过程中，需要使用orm、jdbc、tx三个 </span>
<span class="hljs-comment">jar包    --&gt;</span>
   <span class="hljs-comment">&lt;!-- 导入    orm 包就可以通过    Maven 的依赖传递性把其他两个也导入    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-orm<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring 测试相关 ,后面在引入junit是为了让junit在Spring测试环境中运行   --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- junit测试    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- MySQL驱动    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- 数据源    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.31<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
&lt;/dependencies</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">jdbc.username=root
jdbc.password=A86789234
jdbc.url=jdbc:mysql://localhost:3306/myemployees?serverTimezone=UTC
jdbc.driver=com.mysql.cj.jdbc.Driver</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html"> <span class="hljs-comment">&lt;!-- 导入外部属性文件 classpath:类路径，web资源中要指定，   --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span>
<span class="hljs-comment">&lt;!-- 配置数据源    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-comment">&lt;!-- 配置    JdbcTemplate --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- 装配数据源    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">//指定当前测试类在Spring的测试环境中执行，此时就可以通过注入的方式直接获取IOC容器的bean
@RunWith(SpringJUnit4ClassRunner.class)
//表示通过类路径的方式配置当前Spring测试环境的配置
@ContextConfiguration(&quot;classpath:springJdbc.xml&quot;)
public class jdbcTest &#123;
        //使用spring的测试环境进行测试，需要将测试中要使用的对象注入spring容器中，这里采用注解自动装配注入
        @Autowired
        private JdbcTemplate jdbcTemplate;
        @Test
        public  void  testInsert()
        &#123;//没有insert插入，可以通过update实现
            jdbcTemplate.update(&quot;insert into t_emp values(5,?,?,?,2)&quot;,&quot;赵士&quot;,29,&quot;女&quot;);

        &#125;
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">@Test
//查询一条数据为一个实体类对象 
public void testSelectEmpById()&#123;
   String sql = &quot;select * from t_emp where id = ?&quot;;
//BeanPropertyRowMapper将查询结果映射到Emp对象中。
   Emp emp = jdbcTemplate.queryForObject(sql, new BeanPropertyRowMapper<span class="hljs-tag">&lt;&gt;</span> 
(Emp.class), 1);
   System.out.println(emp);
&#125;</code></pre></div>
<p>在使用BeanPropertyRowMapper进行映射时，Emp类中的属性需要满足以下要求：</p>
<ol>
<li>Emp类必须有一个无参构造函数，否则会在映射时抛出InstantiationException异常。</li>
</ol>
<p>要映射的类必须有一个默认的或无参的构造方法，不能只有带参的构造方法。要映射的类要有公共的setter和getter方法，不能只有其中一个。 要映射的类必须是一个顶级类或静态内部类，不能是非静态的内部类。</p>
<ol start="2">
<li>Emp类中的属性名必须与数据库表中的列名相对应，也可以可以通过使用“驼峰”大小写将用下划线分隔的部分的名称转换为相同的名称来匹配。比如：first_name可以转换为firstName</li>
<li>Emp类中的属性类型必须与数据库表中相应列的数据类型一致或可以自动转换。例如，如果数据库表中某个列的数据类型为VARCHAR，对应的Emp类中的属性类型可以是String或者其他类型，只要可以进行自动转换即可。</li>
</ol>
<h4 id="声明式事务："><a href="#声明式事务：" class="headerlink" title="声明式事务："></a>声明式事务：</h4><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/zxlyx/article/details/120446177">详解 spring 声明式事务(@Transactional)_purple.taro的博客-CSDN博客</a><br>所谓声明式事务，就是通过配置的方式，比如通过配置文件（xml）或者注解的方式，告诉spring，哪些方法需要spring帮忙管理事务，然后开发者只用关注业务代码，而事务的事情spring自动帮我们控制。</p>
<h6 id="基于注解的声明式事务："><a href="#基于注解的声明式事务：" class="headerlink" title="基于注解的声明式事务："></a>基于注解的声明式事务：</h6><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- 基于Maven依赖传递性，导入spring-context依赖即可导入当前所需所有jar包    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-context<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring 持久化层支持jar包    --&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring 在执行持久化层操作、与持久化层技术进行整合过程中，需要使用orm、jdbc、tx三个 </span>
<span class="hljs-comment">jar包    --&gt;</span>
   <span class="hljs-comment">&lt;!-- 导入    orm 包就可以通过    Maven 的依赖传递性把其他两个也导入    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-orm<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring 测试相关    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-test<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- junit测试    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>junit<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>4.12<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- MySQL驱动    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>mysql<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>mysql-connector-java<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>8.0.16<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- 数据源    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>com.alibaba<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>druid<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.0.31<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">jdbc.username=root
jdbc.password=A86789234
jdbc.url=jdbc:mysql://localhost:3306/myemployees?serverTimezone=UTC
jdbc.driver=com.mysql.cj.jdbc.Driver</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/tx&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tool http://www.springframework.org/schema/tool/spring-tool.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 导入外部属性文件 classpath:类路径，web资源中要指定，   --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置数据源    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置    JdbcTemplate --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 装配数据源    --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--这段代码用来告诉Spring框架需要扫描哪个包下的类，并将这些类注册</span>
<span class="hljs-comment">          为Spring容器中的Bean对象--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.example&quot;</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">context:component-scan</span>&gt;</span>
    <span class="hljs-comment">&lt;!--配置事务管理器 这里的ref是链接数据源的id这里使用的是druidDataSource数据源--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;transactionManager&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--开启事务注解驱动(annotion选择tx中的）注意此处的tx要导入的命名空间。</span>
<span class="hljs-comment">    &lt;tx:annotation-driven&gt;：用来开启Spring的声明式事务支持</span>
<span class="hljs-comment">    transaction-manager：用来指定事务管理器的bean名称。</span>
<span class="hljs-comment">    transaction-manager后面的值是事务管理器的id，若事务管理器的id为transactionManager</span>
<span class="hljs-comment">    那么transaction-manager可以省略不写·</span>
<span class="hljs-comment">    开启后将可以使用@Transaction注解所标识的的方法或类中的所有方法使用事务管理。</span>
<span class="hljs-comment">    @Transaction加到方法上，该方法就是连接点，加到类上，该类的所有方法都是连接点。</span>
<span class="hljs-comment">    这样可以对@Transaction注解方法或者类进行事务性管理--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span> <span class="hljs-attr">transaction-manager</span>=<span class="hljs-string">&quot;transactionManager&quot;</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">CREATE TABLE `t_book` (
`book_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#x27;主键&#x27;, 
`book_name` varchar(20) DEFAULT NULL COMMENT &#x27;图书名称&#x27;, 
`price` int(11) DEFAULT NULL COMMENT &#x27;价格&#x27;,
`stock` int(10) unsigned DEFAULT NULL COMMENT &#x27;库存（无符号）&#x27;, 
PRIMARY KEY (`book_id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
insert  into `t_book`(`book_id`,`book_name`,`price`,`stock`) values (1,&#x27;斗破苍 
穹&#x27;,80,100),(2,&#x27;斗罗大陆&#x27;,50,100);
CREATE TABLE `t_user` (
`user_id` int(11) NOT NULL AUTO_INCREMENT COMMENT &#x27;主键&#x27;, 
`username` varchar(20) DEFAULT NULL COMMENT &#x27;用户名&#x27;,
`balance` int(10) unsigned DEFAULT NULL COMMENT &#x27;余额（无符号）&#x27;, 
PRIMARY KEY (`user_id`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;
insert  into `t_user`(`user_id`,`username`,`balance`) values (1,&#x27;admin&#x27;,50);</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html"> @Controller
public class BookController &#123; 
   @Autowired
   private BookService bookService;
   public void buyBook(Integer bookId, Integer userId)&#123; 
       bookService.buyBook(bookId, userId);
 &#125; 
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">public interface BookService &#123;
   void buyBook(Integer bookId, Integer userId); 
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">@Service
public class BookServiceImpl implements BookService &#123; 
   @Autowired
 @Transactional 
   private BookDao bookDao; 
   @Override
   public void buyBook(Integer bookId, Integer userId) &#123; 
       //查询图书的价格
       Integer price = bookDao.getPriceByBookId(bookId); 
       //更新图书的库存
       bookDao.updateStock(bookId); 
       //更新用户的余额
       bookDao.updateBalance(userId, price); 
 &#125;
 &#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">public interface BookDao &#123;
   Integer getPriceByBookId(Integer bookId); 
   void updateStock(Integer bookId);
   void updateBalance(Integer userId, Integer price); 
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">@Repository
public class BookDaoImpl implements BookDao &#123; 
   @Autowired
   private JdbcTemplate jdbcTemplate; 
   @Override
   public Integer getPriceByBookId(Integer bookId) &#123;
       String sql = &quot;select price from t_book where book_id = ?&quot;;
       return jdbcTemplate.queryForObject(sql, Integer.class, bookId); 
 &#125;
   @Override
   public void updateStock(Integer bookId) &#123;
       String sql = &quot;update t_book set stock = stock - 1 where book_id = ?&quot;; 
       jdbcTemplate.update(sql, bookId);
 &#125;
   @Override
   public void updateBalance(Integer userId, Integer price) &#123;
       String sql = &quot;update t_user set balance = balance - ? where user_id = 
?&quot;;
       jdbcTemplate.update(sql, price, userId); 
 &#125;
&#125;</code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;UTF-8&quot;</span>?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">beans</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:xsi</span>=<span class="hljs-string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:context</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/context&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xmlns:tx</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/tx&quot;</span></span>
<span class="hljs-tag">       <span class="hljs-attr">xsi:schemaLocation</span>=<span class="hljs-string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd http://www.springframework.org/schema/tool http://www.springframework.org/schema/tool/spring-tool.xsd http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd&quot;</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 导入外部属性文件 classpath:类路径，web资源中要指定，   --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">context:property-placeholder</span> <span class="hljs-attr">location</span>=<span class="hljs-string">&quot;classpath:jdbc.properties&quot;</span> /&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置数据源    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;url&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.url&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;driverClassName&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.driver&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;username&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.username&#125;&quot;</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;password&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- 配置    JdbcTemplate --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;jdbcTemplate&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span>&gt;</span>
        <span class="hljs-comment">&lt;!-- 装配数据源    --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--配置事务管理器--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;dataSource&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;druidDataSource&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
    <span class="hljs-comment">&lt;!--开启事务注解驱动(annotion选择tx中的）注意此处的tx要导入的命名空间。--&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">tx:annotation-driven</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">beans</span>&gt;</span></code></pre></div>
<div class="code-wrapper"><pre><code class="hljs html">@RunWith(SpringJUnit4ClassRunner.class)
@ContextConfiguration(&quot;classpath:tx-annotation.xml&quot;) 
public class TxByAnnotationTest &#123;
   @Autowired
   private BookController bookController; 
   @Test
   public void testBuyBook()&#123;
       bookController.buyBook(1, 1); 
 &#125;
&#125;</code></pre></div>
<h4 id="事务的属性："><a href="#事务的属性：" class="headerlink" title="事务的属性："></a>事务的属性：</h4><p>readonly<br>未完待续。。。。</p>
<h1 id="SpringMvc-（只包括相关的知识点，相关程序没有走，只是结合老师给的）"><a href="#SpringMvc-（只包括相关的知识点，相关程序没有走，只是结合老师给的）" class="headerlink" title="SpringMvc:（只包括相关的知识点，相关程序没有走，只是结合老师给的）"></a>SpringMvc:（只包括相关的知识点，相关程序没有走，只是结合老师给的）</h1><h4 id="MVC介绍："><a href="#MVC介绍：" class="headerlink" title="MVC介绍："></a>MVC介绍：</h4><p>MVC是一种软件架构的思想，将软件按照模型、视图、控制器来划分<br>M：Model，模型层，指工程中的JavaBean，作用是处理数据<br>JavaBean分为两类：<br>一类称为实体类Bean：专门存储业务数据的，如 Student、User 等<br>一类称为业务处理 Bean：指 Service 或 Dao 对象，专门用于处理业务逻辑和数据访问。<br>V：View，视图层，指工程中的html或jsp等页面，作用是与用户进行交互，展示数据<br>C：Controller，控制层，指工程中的servlet，作用是接收请求和响应浏览器<br>MVC的工作流程： 用户通过视图层发送请求到服务器，在服务器中请求被Controller接收，Controller<br>调用相应的Model层处理请求，处理完毕将结果返回到Controller，Controller再根据请求处理的结果<br>找到相应的View视图，渲染数据后最终响应给浏览器</p>
<h4 id="SpringMVC的特点："><a href="#SpringMVC的特点：" class="headerlink" title="SpringMVC的特点："></a>SpringMVC的特点：</h4><p>SpringMVC是Spring的一个后续产品，是Spring的一个子项目<br>SpringMVC 是 Spring 为表述层开发提供的一整套完备的解决方案。在表述层框架历经 Strust、<br>WebWork、Strust2 等诸多产品的历代更迭之后，目前业界普遍选择了 SpringMVC 作为 Java EE 项目<br>表述层开发的首选方案。<br>注：三层架构分为表述层（或表示层）、业务逻辑层、数据访问层，表述层表示前台页面和后台 servlet<br>Spring 家族原生产品，与 IOC 容器等基础设施无缝对接基于原生的Servlet，通过了功能强大的前端控制器DispatcherServlet，对请求和响应进行统一 处理。表述层各细分领域需要解决的问题全方位覆盖，提供全面解决方案 。代码清新简洁，大幅度提升开发效率。内部组件化程度高，可插拔式组件即插即用，想要什么功能配置相应组件即可 。性能卓著，尤其适合现代大型、超大型互联网项目要求。</p>
<h4 id="入门案例：（下面方法由于IDEA是2023的有错误的，后面完全是跟着老师的源码）"><a href="#入门案例：（下面方法由于IDEA是2023的有错误的，后面完全是跟着老师的源码）" class="headerlink" title="入门案例：（下面方法由于IDEA是2023的有错误的，后面完全是跟着老师的源码）"></a>入门案例：（下面方法由于IDEA是2023的有错误的，后面完全是跟着老师的源码）</h4><h6 id="项目创建："><a href="#项目创建：" class="headerlink" title="项目创建："></a>项目创建：</h6><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915710064-4a470bf2-c79f-4ae8-9a17-10668f3fc10c.png#averageHue=%23050403&clientId=ub6a7cc0c-d91b-4&from=paste&height=589&id=u89facdbc&originHeight=983&originWidth=988&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=67634&status=done&style=none&taskId=ub6753472-537f-4f6e-b5e9-caef004519c&title=&width=592" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915736077-a7d8e962-2afe-4bdb-98f3-0b9d926ef415.png#averageHue=%230b0a09&clientId=ub6a7cc0c-d91b-4&from=paste&height=710&id=u768996e3&originHeight=888&originWidth=739&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77930&status=done&style=none&taskId=u5b648a25-7878-4c48-8c30-6dbfb8ca621&title=&width=591.2" srcset="/img/loading.gif" lazyload alt="image.png"><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915746620-15adf4dc-b3c5-4356-a81a-cd2e9e609314.png#averageHue=%23080605&clientId=ub6a7cc0c-d91b-4&from=paste&height=274&id=uef640c46&originHeight=343&originWidth=584&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=18968&status=done&style=none&taskId=uadfe8256-8bbf-477f-ac5d-b51f95de508&title=&width=467.2" srcset="/img/loading.gif" lazyload alt="image.png">（选择Web应用程序）</p>
<h6 id="常见新的mvc工程：项目结构图如下"><a href="#常见新的mvc工程：项目结构图如下" class="headerlink" title="常见新的mvc工程：项目结构图如下"></a>常见新的mvc工程：项目结构图如下</h6><p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688915793967-5188083d-d94e-44f4-871e-f8e763b3343c.png#averageHue=%230a0807&clientId=ub6a7cc0c-d91b-4&from=paste&height=330&id=ub1889d38&originHeight=412&originWidth=389&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=19311&status=done&style=none&taskId=u4e091b0b-3e7d-46e4-a19e-2519f30c1c3&title=&width=311.2" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h6 id="导入相关依赖："><a href="#导入相关依赖：" class="headerlink" title="导入相关依赖："></a>导入相关依赖：</h6><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">dependencies</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- SpringMVC --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-webmvc<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>5.3.1<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- 日志    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>ch.qos.logback<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>logback-classic<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>1.2.3<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- ServletAPI --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>javax.servlet<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>javax.servlet-api<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>provided<span class="hljs-tag">&lt;/<span class="hljs-name">scope</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
   <span class="hljs-comment">&lt;!-- Spring5和Thymeleaf整合包    --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.thymeleaf<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>thymeleaf-spring5<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>3.0.12.RELEASE<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependencies</span>&gt;</span></code></pre></div>
<p>注：由于 Maven 的传递性，我们不必将所有需要的包全部配置依赖，而是配置最顶端的依赖，其他靠 传递性导入。</p>
<h6 id="配置web-xml"><a href="#配置web-xml" class="headerlink" title="配置web.xml"></a>配置web.xml</h6><p>注册SpringMVC的前端控制器DispatcherServlet，此配置作用下，SpringMVC的配置文件默认位于WEB-INF下，默认名称为<servlet-name>- servlet.xml，例如，以下配置所对应SpringMVC的配置文件位于WEB-INF下，文件名为springMVC- servlet.xml</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 配置SpringMVC的前端控制器，对浏览器发送的请求统一进行处理    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet&lt;/servlet- 
class&gt;
<span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span> 
   <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">       设置springMVC的核心控制器所能处理的请求的请求路径</span>
<span class="hljs-comment">       /所匹配的请求可以是/login或.html或.js或.css方式的请求路径 </span>
<span class="hljs-comment">       但是/不能匹配.jsp请求路径的请求</span>
<span class="hljs-comment">   --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span></code></pre></div>
<p><strong>扩展配置方式</strong><br><strong>可通过init-param标签设置SpringMVC配置文件的位置和名称，通过load-on-startup标签设置 SpringMVC前端控制器DispatcherServlet的初始化时间。</strong></p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 配置SpringMVC的前端控制器，对浏览器发送的请求统一进行处理    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">servlet</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet&lt;/servlet- 
class&gt;
   <span class="hljs-comment">&lt;!-- 通过初始化参数指定SpringMVC配置文件的位置和名称    --&gt;</span> 
   <span class="hljs-tag">&lt;<span class="hljs-name">init-param</span>&gt;</span>
       <span class="hljs-comment">&lt;!-- contextConfigLocation为固定值    --&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">param-name</span>&gt;</span>contextConfigLocation<span class="hljs-tag">&lt;/<span class="hljs-name">param-name</span>&gt;</span>
       <span class="hljs-comment">&lt;!-- 使用classpath:表示从类路径查找配置文件，例如maven工程中的 </span>
<span class="hljs-comment">src/main/resources --&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="hljs-tag">&lt;/<span class="hljs-name">param-value</span>&gt;</span> 
   <span class="hljs-tag">&lt;/<span class="hljs-name">init-param</span>&gt;</span>
   <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">作为框架的核心组件，在启动过程中有大量的初始化操作要做 </span>
<span class="hljs-comment">而这些操作放在第一次请求时才执行会严重影响访问速度</span>
<span class="hljs-comment">因此需要通过此标签将启动控制DispatcherServlet的初始化时间提前到服务器启动时 </span>
<span class="hljs-comment">--&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">load-on-startup</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">load-on-startup</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">servlet</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">servlet-mapping</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">servlet-name</span>&gt;</span>springMVC<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-name</span>&gt;</span> 
   <span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">       设置springMVC的核心控制器所能处理的请求的请求路径</span>
<span class="hljs-comment">       /所匹配的请求可以是/login或.html或.js或.css方式的请求路径 </span>
<span class="hljs-comment">       但是/不能匹配.jsp请求路径的请求</span>
<span class="hljs-comment">   --&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">url-pattern</span>&gt;</span>/<span class="hljs-tag">&lt;/<span class="hljs-name">url-pattern</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-name">servlet-mapping</span>&gt;</span></code></pre></div>
<p><url-pattern>标签中使用&#x2F;和&#x2F;*的区别：&#x2F;所匹配的请求可以是&#x2F;login或.html或.js或.css方式的请求路径，但是&#x2F;不能匹配.jsp请求路径的请 求.因此就可以避免在访问jsp页面时，该请求被DispatcherServlet处理，从而找不到相应的页面 &#x2F;*则能够匹配所有请求，例如在使用过滤器时，若需要对所有请求进行过滤，就需要使用&#x2F;*的写法</p>
<h6 id="创建请求控制器"><a href="#创建请求控制器" class="headerlink" title="创建请求控制器"></a>创建请求控制器</h6><p>由于前端控制器对浏览器发送的请求进行了统一的处理，但是具体的请求有不同的处理过程，因此需要 创建处理具体请求的类，即请求控制器.请求控制器中每一个处理请求的方法成为控制器方法,因为SpringMVC的控制器由一个POJO（普通的Java类）担任，因此需要通过@Controller注解将其标识 .为一个控制层组件，交给Spring的IoC容器管理，此时SpringMVC才能够识别控制器的存在.</p>
<div class="code-wrapper"><pre><code class="hljs html">@Controller
public class HelloController &#123; 
&#125;</code></pre></div>
<h6 id="创建SpringMVC的配置文件"><a href="#创建SpringMVC的配置文件" class="headerlink" title="创建SpringMVC的配置文件"></a>创建SpringMVC的配置文件</h6><div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 自动扫描包    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">context:component-scan</span> <span class="hljs-attr">base-package</span>=<span class="hljs-string">&quot;com.atguigu.mvc.controller&quot;</span>/&gt;</span> 
<span class="hljs-comment">&lt;!-- 配置Thymeleaf视图解析器：实现视图渲染和页面跳转    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;viewResolver&quot;</span></span>
<span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;</span>&gt;</span> 
  <span class="hljs-comment">&lt;!--name属性设置为order，value属性设置为1，</span>
<span class="hljs-comment">  这将设置Thymeleaf视图解析器的顺序为1。在Spring MVC中，</span>
<span class="hljs-comment">  有多个视图解析器可用，按顺序运行，</span>
<span class="hljs-comment">  直到找到能够处理请求的视图解析器为止。--&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;order&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;1&quot;</span>/&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;characterEncoding&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>/&gt;</span> 
   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;templateEngine&quot;</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">bean</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;</span>&gt;</span> 
           <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;templateResolver&quot;</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">bean</span></span>
<span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;</span>&gt;</span>
                    <span class="hljs-comment">&lt;!--配置前缀和后缀可以通过路径路径访问--&gt;</span>
                 <span class="hljs-comment">&lt;!-- 视图前缀    --&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;prefix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;/WEB-INF/templates/&quot;</span>/&gt;</span>
                   <span class="hljs-comment">&lt;!-- 视图后缀    --&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;suffix&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;.html&quot;</span>/&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;templateMode&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;HTML5&quot;</span>/&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;characterEncoding&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span>
               <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
<span class="hljs-comment">&lt;!--</span>
<span class="hljs-comment">  处理静态资源，例如html、js、css、jpg</span>
<span class="hljs-comment"> 若只设置该标签，则只能访问静态资源，其他请求则无法访问</span>
<span class="hljs-comment">  此时必须设置&lt;mvc:annotation-driven/&gt;解决问题 </span>
<span class="hljs-comment">--&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mvc:default-servlet-handler</span>/&gt;</span>
<span class="hljs-comment">&lt;!-- 开启mvc注解驱动    --&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">mvc:annotation-driven</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">mvc:message-converters</span>&gt;</span>
       <span class="hljs-comment">&lt;!-- 处理响应中文内容乱码    --&gt;</span> 
       <span class="hljs-tag">&lt;<span class="hljs-name">bean</span></span>
<span class="hljs-tag"><span class="hljs-attr">class</span>=<span class="hljs-string">&quot;org.springframework.http.converter.StringHttpMessageConverter&quot;</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;defaultCharset&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">property</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;supportedMediaTypes&quot;</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>text/html<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>application/json<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
               <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-name">property</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">bean</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">mvc:message-converters</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">mvc:annotation-driven</span>&gt;</span></code></pre></div>
<p><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688948429310-fa23137f-afe9-4c6a-9852-6d02441450e4.png#averageHue=%23f8f6ef&clientId=ucdf75339-60f9-4&from=paste&height=57&id=u35dc23a1&originHeight=71&originWidth=636&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=36570&status=done&style=none&taskId=u88ce7f1e-3a7f-4d80-b16e-29191bef367&title=&width=508.8" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<h6 id="测试HelloWorld"><a href="#测试HelloWorld" class="headerlink" title="测试HelloWorld"></a>测试HelloWorld</h6><p>首先配置tomcat服务器<br>实现对首页的访问,在请求控制器中创建处理请求的方法</p>
<div class="code-wrapper"><pre><code class="hljs html">// @RequestMapping注解：处理请求和控制器方法之间的映射关系
// @RequestMapping注解的value属性可以通过请求地址匹配请求，/表示的当前工程的上下文路径 
// localhost:8080/springMVC/
@RequestMapping(&quot;/&quot;) 
public String index() &#123; 
   //设置视图名称
   return &quot;index&quot;; 
&#125;</code></pre></div>
<p>②通过超链接跳转到指定页面<br>在主页index.html中设置超链接</p>
<div class="code-wrapper"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span> <span class="hljs-attr">xmlns:th</span>=<span class="hljs-string">&quot;http://www.thymeleaf.org&quot;</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">th:href</span>=<span class="hljs-string">&quot;@&#123;/hello&#125;&quot;</span>&gt;</span>HelloWorld<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre></div>
<p>在请求控制器中创建处理请求的方法</p>
<div class="code-wrapper"><pre><code class="hljs html">@RequestMapping(&quot;/hello&quot;) 
public String HelloWorld() &#123; 
   return &quot;target&quot;;
&#125;</code></pre></div>
<h4 id="RequestMapping注解"><a href="#RequestMapping注解" class="headerlink" title="@RequestMapping注解"></a>@RequestMapping注解</h4><p><strong>位置：</strong><br><img src="https://cdn.nlark.com/yuque/0/2023/png/28066124/1688991101360-096000ef-2636-40d6-8ac6-97a2a1043b55.png#averageHue=%23111221&clientId=u2b3dc9ad-44f6-4&from=paste&height=142&id=u8fcb248b&originHeight=178&originWidth=650&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49138&status=done&style=none&taskId=u070b129b-f8c9-4090-8e09-11b33e3afcb&title=&width=520" srcset="/img/loading.gif" lazyload alt="image.png"></p>
<div class="code-wrapper"><pre><code class="hljs html">1、@RequestMapping注解标识的位置
* @RequestMapping标识一个类：设置映射请求的请求路径的初始信息
* @RequestMapping标识一个方法：设置映射请求请求路径的具体信息
* 2、@RequestMapping注解value属性
* 作用：通过请求的请求路径匹配请求
* value属性是数组类型，即当前浏览器所发送请求的请求路径匹配value属性中的任何一个值
* 则当前请求就会被注解所标识的方法进行处理
* 3、@RequestMapping注解的method属性
* 作用：通过请求的请求方式匹配请求
* method属性是RequestMethod类型的数组，即当前浏览器所发送请求的请求方式匹配method属性中的任何一中请求方式
* 则当前请求就会被注解所标识的方法进行处理
* 若浏览器所发送的请求的请求路径和@RequestMapping注解value属性匹配，但是请求方式不匹配
* 此时页面报错：405 - Request method &#x27;xxx&#x27; not supported
* 在@RequestMapping的基础上，结合请求方式的一些派生注解：
* @GetMapping,@PostMapping,@DeleteMapping,@PutMapping
* 4、@RequestMapping注解的params属性
* 作用：通过请求的请求参数匹配请求，即浏览器发送的请求的请求参数必须满足params属性的设置
* params可以使用四种表达式：
* &quot;param&quot;：表示当前所匹配请求的请求参数中必须携带param参数
* &quot;!param&quot;：表示当前所匹配请求的请求参数中一定不能携带param参数
* &quot;param=value&quot;：表示当前所匹配请求的请求参数中必须携带param参数且值必须为value
* &quot;param!=value&quot;：表示当前所匹配请求的请求参数中可以不携带param，若携带值一定不能是value
* 若浏览器所发送的请求的请求路径和@RequestMapping注解value属性匹配，但是请求参数不匹配
* 此时页面报错：400 - Parameter conditions &quot;username&quot; not met for actual request parameters:
* 5、@RequestMapping注解的headers属性
* 作用：通过请求的请求头信息匹配请求，即浏览器发送的请求的请求头信息必须满足headers属性的设置
* 若浏览器所发送的请求的请求路径和@RequestMapping注解value属性匹配，但是请求头信息不匹配
* 此时页面报错：404
* 6、SpringMVC支持ant风格的路径
* 在@RequestMapping注解的value属性值中设置一些特殊字符
* ?:任意的单个字符（不包括?）
* *:任意个数的任意字符（不包括?和/）
* **:任意层数的任意目录，注意使用方式只能**写在双斜线中，前后不能有任何的其他字符
* 7、@RequestMapping注解使用路径中的占位符
* 传统：/deleteUser?id=1
* rest：/user/delete/1
* 需要在@RequestMapping注解的value属性中所设置的路径中，使用&#123;xxx&#125;的方式表示路径中的数据
* 在通过@PathVariable注解，将占位符所标识的值和控制器方法的形参进行绑定
* 获取请求参数的方式：
* 1、通过servletAPI获取
* 只需要在控制器方法的形参位置设置HttpServletRequest类型的形参
* 就可以在控制器方法中使用request对象获取请求参数
* 2、通过控制器方法的形参获取
* 只需要在控制器方法的形参位置，设置一个形参，形参的名字和请求参数的名字一致即可
* 3、@RequestParam：将请求参数和控制器方法的形参绑定
* @RequestParam注解的三个属性：value、required、defaultValue
* value:设置和形参绑定的请求参数的名字
* required:设置是否必须传输value所对应的请求参数
* 默认值为true，表示value所对应的请求参数必须传输，否则页面报错：
* 400 - Required String parameter &#x27;xxx&#x27; is not present
* 若设置为false，则表示value所对应的请求参数不是必须传输，若为传输，则形参值为null
* defaultValue:设置当没有传输value所对应的请求参数时，为形参设置的默认值，此时和required属性值无关
* 4、@RequestHeader：将请求头信息和控制器方法的形参绑定
* 5、@CookieValue：将cookie数据和控制器方法的形参绑定
* 6、通过控制器方法的实体类类型的形参获取请求参数
* 需要在控制器方法的形参位置设置实体类类型的形参，要保证实体类中的属性的属性名和请求参数的名字一致
* 可以通过实体类类型的形参获取请求参数
* 7、解决获取请求此参数的乱码问题
* 在web.xml中配置Spring的编码过滤器CharacterEncodingFilter
* 向域对象共享数据：
* 1、通过ModelAndView向请求域共享数据
* 使用ModelAndView时，可以使用其Model功能向请求域共享数据
* 使用View功能设置逻辑视图，但是控制器方法一定要将ModelAndView作为方法的返回值
* 2、使用Model向请求域共享数据
* 3、使用ModelMap向请求域共享数据
* 4、使用map向请求域共享数据
* 5、Model和ModelMap和map的关系
* 其实在底层中，这些类型的形参最终都是通过BindingAwareModelMap创建
* public class BindingAwareModelMap extends ExtendedModelMap &#123;&#125;
* public class ExtendedModelMap extends ModelMap implements Model &#123;&#125;
* public class ModelMap extends LinkedHashMap&lt;String, Object&gt; &#123;&#125;</code></pre></div>
<p>表单提交和axios是post请求，超链接和地址栏输出的都是get请求。<br>请求头和响应头不区分的键不区分大小写，但是值区分。<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Cookies">HTTP Cookie - HTTP | MDN</a><br><a target="_blank" rel="noopener" href="https://www.cnblogs.com/blknemo/p/13202619.html">【Web】Servlet三大作用域、JSP四大作用域 - Nemo&amp; - 博客园</a><br><a target="_blank" rel="noopener" href="https://blog.csdn.net/lingxiyizhi_ljx/article/details/102514560">form表单中的enctype&#x3D;“multipart&#x2F;form-data“什么意思?_夜阑卧听风吹雨，铁马冰河入梦来的博客-CSDN博客</a></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/springboot2/" class="category-chain-item">springboot2</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/ssm/" class="print-no-link">#ssm</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>SSM学习总结</div>
      <div>http://www.bojiboqi.fun/2024/01/26/SSM、/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>山麋一笑</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2024年1月26日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2024/01/26/day1_/" title="周记">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">周记</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/01/26/%E7%9F%A5%E8%AF%86%E7%82%B9%EF%BC%9A%EF%BC%88BUG%EF%BC%89/" title="知识点">
                        <span class="hidden-mobile">知识点</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
  <div id="valine"></div>
  <script type="text/javascript">
    Fluid.utils.loadComments('#valine', function() {
      Fluid.utils.createScript('https://lib.baomitu.com/valine/1.5.1/Valine.min.js', function() {
        var options = Object.assign(
          {"appId":"NkSNF5NG3Uup8tDgwIfBlJ9d-gzGzoHsz","appKey":"Y2GZN9C0SLdOpVG4hMb1TEJM","path":"window.location.pathname","placeholder":"如有错误还望指正","avatar":"retro","meta":["nick","mail","link"],"requiredFields":[],"pageSize":10,"lang":"zh-CN","highlight":false,"recordIP":false,"serverURLs":"https://nksnf5ng.lc-cn-n1-shared.com","emojiCDN":null,"emojiMaps":null,"enableQQ":true},
          {
            el: "#valine",
            path: window.location.pathname
          }
        )
        new Valine(options);
        Fluid.utils.waitElementVisible('#valine .vcontent', () => {
          var imgSelector = '#valine .vcontent img:not(.vemoji)';
          Fluid.plugins.imageCaption(imgSelector);
          Fluid.plugins.fancyBox(imgSelector);
        })
      });
    });
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <div> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
  



</div>



  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script defer src="/js/leancloud.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  
<script src="/js/DynamicLine.js"></script>
<script src="/js/custom.js"></script>
<script src="/js/yinhua.js"></script>



<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>

<!-- hexo injector body_end start --><script src="/js/backgroundize.js"></script>
  <link defer rel="stylesheet" href="/css/backgroundize.css" />
  <!-- hexo injector body_end end --></body>
</html>
